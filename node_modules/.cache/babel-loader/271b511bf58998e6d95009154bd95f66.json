{"ast":null,"code":"import _toConsumableArray from \"/Users/benwang/Desktop/NYCU_CS/112spring/cloud/final/Cloudnative_Final_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/benwang/Desktop/NYCU_CS/112spring/cloud/final/Cloudnative_Final_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/benwang/Desktop/NYCU_CS/112spring/cloud/final/Cloudnative_Final_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/benwang/Desktop/NYCU_CS/112spring/cloud/final/Cloudnative_Final_project/src/pages/Postpages.js\";\nimport { Container, Grid, Item, MenuItem } from \"semantic-ui-react\";\nimport { Tab } from \"react-tabs\";\nimport Topics from \"../compoments/Topic\";\nimport firebase from \"../utils/firebase\";\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport \"firebase/firestore\";\nimport Version from \"./Version\";\nfunction Postpages() {\n  var _this = this;\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    postIds = _React$useState2[0],\n    setPostIds = _React$useState2[1];\n  var _useParams = useParams(),\n    postId = _useParams.postId;\n  var _React$useState3 = React.useState([]),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    posts = _React$useState4[0],\n    setPosts = _React$useState4[1];\n  React.useEffect(function () {\n    firebase.firestore().collection(\"posts\").doc(postId).collection(\"versions\").get().then(function (collectionSnapshot) {\n      var ids = [];\n      var data = collectionSnapshot.docs.map(function (docSnapshot) {\n        var id = docSnapshot.id;\n        ids.push(id);\n        return _objectSpread({}, docSnapshot.data(), {\n          id: id\n        });\n      });\n      setPostIds(ids);\n      setPosts(data);\n    });\n  }, []);\n  var panes = [{\n    menuItem: \"Initial Post\",\n    render: function render() {\n      return /*#__PURE__*/React.createElement(Tab.Pane, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Version, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }\n      }));\n    }\n  }].concat(_toConsumableArray(posts.map(function (post) {\n    return {\n      menuItem: post.cretedAt.toDate().toLocaleString([], {\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n      }),\n      render: function render() {\n        return /*#__PURE__*/React.createElement(Tab.Pane, {\n          key: post.id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Version, {\n          versionId: post.id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 11\n          }\n        }));\n      }\n    };\n  })));\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Topics, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 13,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    panes: panes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  })))));\n}\nexport default Postpages;","map":{"version":3,"names":["Container","Grid","Item","MenuItem","Tab","Topics","firebase","React","useParams","Version","Postpages","_this","_React$useState","useState","_React$useState2","_slicedToArray","postIds","setPostIds","_useParams","postId","_React$useState3","_React$useState4","posts","setPosts","useEffect","firestore","collection","doc","get","then","collectionSnapshot","ids","data","docs","map","docSnapshot","id","push","_objectSpread","panes","menuItem","render","createElement","Pane","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","concat","_toConsumableArray","post","cretedAt","toDate","toLocaleString","month","day","hour","minute","key","versionId","Row","Column","width"],"sources":["/Users/benwang/Desktop/NYCU_CS/112spring/cloud/final/Cloudnative_Final_project/src/pages/Postpages.js"],"sourcesContent":["import { Container, Grid, Item, MenuItem} from \"semantic-ui-react\";\r\nimport {Tab} from \"react-tabs\";\r\nimport Topics from \"../compoments/Topic\";\r\nimport firebase from \"../utils/firebase\";\r\nimport React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"firebase/firestore\";\r\nimport Version from \"./Version\";\r\n\r\nfunction Postpages() {\r\n  const [postIds, setPostIds] = React.useState([]);\r\n  const { postId } = useParams();\r\n\r\n  const [posts, setPosts] = React.useState([]);\r\n  React.useEffect(() => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"posts\")\r\n      .doc(postId)\r\n      .collection(\"versions\")\r\n      .get()\r\n      .then((collectionSnapshot) => {\r\n        const ids = [];\r\n        const data = collectionSnapshot.docs.map((docSnapshot) => {\r\n          const id = docSnapshot.id;\r\n          ids.push(id);\r\n          return { ...docSnapshot.data(), id };\r\n        });\r\n        setPostIds(ids);\r\n        setPosts(data);\r\n      });\r\n  }, []);\r\n\r\n  const panes = [\r\n    {\r\n      menuItem: \"Initial Post\",\r\n      render: () => (\r\n        <Tab.Pane>\r\n          <Version />\r\n        </Tab.Pane>\r\n      ),\r\n    },\r\n    ...posts.map((post) => ({\r\n      menuItem: post.cretedAt.toDate().toLocaleString([], {\r\n        month: \"short\",\r\n        day: \"numeric\",\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n      }),\r\n      render: () => (\r\n        <Tab.Pane key={post.id}>\r\n          <Version versionId={post.id} />\r\n        </Tab.Pane>\r\n      ),\r\n    })),\r\n  ];\r\n\r\n  return (\r\n    <Container>\r\n      <Grid>\r\n        <Grid.Row>\r\n          <Grid.Column width={3}>\r\n            <Topics />\r\n          </Grid.Column>\r\n          <Grid.Column width={13}>\r\n            <Tab panes={panes} />\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Postpages;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}