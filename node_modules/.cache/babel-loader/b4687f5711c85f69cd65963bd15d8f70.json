{"ast":null,"code":"import _slicedToArray from \"/Users/benwang/Desktop/NYCU_CS/112spring/cloud/final/Cloudnative_Final_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/benwang/Desktop/NYCU_CS/112spring/cloud/final/Cloudnative_Final_project/src/pages/Signin.js\";\nimport { Menu, Form, Container, Message } from \"semantic-ui-react\";\nimport React from \"react\";\nimport firebase from \"../utils/firebase\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"firebase/compat/auth\";\n// import \"firebase/compat/app\";\n\nfunction Signin() {\n  var Navigate = useNavigate();\n  var _React$useState = React.useState(\"Signin\"),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    activeItem = _React$useState2[0],\n    setActiveItem = _React$useState2[1];\n  var _React$useState3 = React.useState(\"\"),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    email = _React$useState4[0],\n    setEmail = _React$useState4[1];\n  var _React$useState5 = React.useState(\"\"),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    password = _React$useState6[0],\n    setPassword = _React$useState6[1];\n  var _React$useState7 = React.useState(\"\"),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    errorMessages = _React$useState8[0],\n    setErrorMessages = _React$useState8[1];\n  var _React$useState9 = React.useState(false),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    isloading = _React$useState10[0],\n    setIsloading = _React$useState10[1];\n  function onSubmit() {\n    setIsloading(true);\n    if (activeItem === \"Register\") {\n      firebase.auth().createUserWithEmailAndPassword(email, password).then(function () {\n        Navigate(\"/\");\n        setIsloading(false);\n      }).catch(function (error) {\n        switch (error.code) {\n          case \"auth/email-already-in-use\":\n            setErrorMessages(\"Email already in use\");\n            break;\n          case \"auth/invalid-email\":\n            setErrorMessages(\"Invalid email\");\n            break;\n          case \"auth/week-password\":\n            setErrorMessages(\"Week password\");\n            break;\n          // case \"auth/email-already-in-use\":\n          //   setErrorMessages(\"Email already in use\");\n          //   break;\n          default:\n        }\n        setIsloading(false);\n      });\n    } else if (activeItem === \"Signin\") {\n      firebase.auth().signInWithEmailAndPassword(email, password).then(function () {\n        Navigate(\"/\");\n        setIsloading(false);\n      }).catch(function (error) {\n        switch (error.code) {\n          case \"auth/invalid-email\":\n            setErrorMessages(\"invalid email\");\n            break;\n          case \"auth/user-not-found\":\n            setErrorMessages(\"User not found\");\n            break;\n          case \"auth/wrong-password\":\n            setErrorMessages(\"wrong password\");\n            break;\n          // case \"auth/email-already-in-use\":\n          //   setErrorMessages(\"Email already in use\");\n          //   break;\n          default:\n        }\n        setIsloading(false);\n      });\n    }\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    widths: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    active: activeItem === \"Signin\",\n    onClick: function onClick() {\n      setErrorMessages(\"\");\n      setActiveItem(\"Signin\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"Sign in\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    active: activeItem === \"Register\",\n    onClick: function onClick() {\n      setErrorMessages(\"\");\n      setActiveItem(\"Register\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Input, {\n    label: \"Email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    placeholder: \"Username\",\n    type: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Form.Input, {\n    label: \"Password\",\n    value: password,\n    placeholder: \"Password\",\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), errorMessages && /*#__PURE__*/React.createElement(Message, {\n    negative: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 29\n    }\n  }, errorMessages), /*#__PURE__*/React.createElement(Form.Button, {\n    loading: isloading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, activeItem === \"Signin\" ? \"Sign in\" : \"Register\"))));\n}\nexport default Signin;","map":{"version":3,"names":["Menu","Form","Container","Message","React","firebase","useNavigate","Signin","Navigate","_React$useState","useState","_React$useState2","_slicedToArray","activeItem","setActiveItem","_React$useState3","_React$useState4","email","setEmail","_React$useState5","_React$useState6","password","setPassword","_React$useState7","_React$useState8","errorMessages","setErrorMessages","_React$useState9","_React$useState10","isloading","setIsloading","onSubmit","auth","createUserWithEmailAndPassword","then","catch","error","code","signInWithEmailAndPassword","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","widths","Item","active","onClick","Input","label","value","onChange","e","target","placeholder","type","negative","Button","loading"],"sources":["/Users/benwang/Desktop/NYCU_CS/112spring/cloud/final/Cloudnative_Final_project/src/pages/Signin.js"],"sourcesContent":["import { Menu, Form, Container, Message } from \"semantic-ui-react\";\r\nimport React from \"react\";\r\nimport firebase from \"../utils/firebase\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"firebase/compat/auth\";\r\n// import \"firebase/compat/app\";\r\n\r\nfunction Signin() {\r\n  const Navigate = useNavigate();\r\n  const [activeItem, setActiveItem] = React.useState(\"Signin\");\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const [errorMessages, setErrorMessages] = React.useState(\"\");\r\n  const [isloading, setIsloading] = React.useState(false);\r\n\r\n  function onSubmit() {\r\n    setIsloading(true);\r\n    if (activeItem === \"Register\") {\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email, password)\r\n        .then(() => {\r\n          Navigate(\"/\");\r\n          setIsloading(false);\r\n        })\r\n        .catch((error) => {\r\n          switch (error.code) {\r\n            case \"auth/email-already-in-use\":\r\n              setErrorMessages(\"Email already in use\");\r\n              break;\r\n            case \"auth/invalid-email\":\r\n              setErrorMessages(\"Invalid email\");\r\n              break;\r\n            case \"auth/week-password\":\r\n              setErrorMessages(\"Week password\");\r\n              break;\r\n            // case \"auth/email-already-in-use\":\r\n            //   setErrorMessages(\"Email already in use\");\r\n            //   break;\r\n            default:\r\n          }\r\n          setIsloading(false);\r\n        });\r\n    } else if (activeItem === \"Signin\") {\r\n      firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(email, password)\r\n        .then(() => {\r\n          Navigate(\"/\");\r\n          setIsloading(false);\r\n        })\r\n        .catch((error) => {\r\n          switch (error.code) {\r\n            case \"auth/invalid-email\":\r\n              setErrorMessages(\"invalid email\");\r\n              break;\r\n            case \"auth/user-not-found\":\r\n              setErrorMessages(\"User not found\");\r\n              break;\r\n            case \"auth/wrong-password\":\r\n              setErrorMessages(\"wrong password\");\r\n              break;\r\n            // case \"auth/email-already-in-use\":\r\n            //   setErrorMessages(\"Email already in use\");\r\n            //   break;\r\n            default:\r\n          }\r\n          setIsloading(false);\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Menu widths={2}>\r\n          <Menu.Item\r\n            active={activeItem === \"Signin\"}\r\n            onClick={() => {\r\n              setErrorMessages(\"\");\r\n              setActiveItem(\"Signin\");\r\n            }}\r\n          >\r\n            Sign in\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            active={activeItem === \"Register\"}\r\n            onClick={() => {\r\n              setErrorMessages(\"\");\r\n              setActiveItem(\"Register\");\r\n            }}\r\n          >\r\n            Register\r\n          </Menu.Item>\r\n        </Menu>\r\n        <Form onSubmit={onSubmit}>\r\n          <Form.Input\r\n            label=\"Email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            placeholder=\"Username\"\r\n            type=\"email\"\r\n          />\r\n          <Form.Input\r\n            label=\"Password\"\r\n            value={password}\r\n            placeholder=\"Password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            type=\"password\"\r\n          />\r\n          {errorMessages && <Message negative>{errorMessages}</Message>}\r\n          <Form.Button loading={isloading}>\r\n            {activeItem === \"Signin\" ? \"Sign in\" : \"Register\"}\r\n          </Form.Button>\r\n        </Form>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Signin;\r\n"],"mappings":";;AAAA,SAASA,IAAI,EAAEC,IAAI,EAAEC,SAAS,EAAEC,OAAO,QAAQ,mBAAmB;AAClE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,mBAAmB;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,sBAAsB;AAC7B;;AAEA,SAASC,MAAMA,CAAA,EAAG;EAChB,IAAMC,QAAQ,GAAGF,WAAW,CAAC,CAAC;EAAC,IAAAG,eAAA,GACKL,KAAK,CAACM,QAAQ,CAAC,QAAQ,CAAC;IAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA;IAArDI,UAAU,GAAAF,gBAAA;IAAEG,aAAa,GAAAH,gBAAA;EAAA,IAAAI,gBAAA,GACNX,KAAK,CAACM,QAAQ,CAAC,EAAE,CAAC;IAAAM,gBAAA,GAAAJ,cAAA,CAAAG,gBAAA;IAArCE,KAAK,GAAAD,gBAAA;IAAEE,QAAQ,GAAAF,gBAAA;EAAA,IAAAG,gBAAA,GACUf,KAAK,CAACM,QAAQ,CAAC,EAAE,CAAC;IAAAU,gBAAA,GAAAR,cAAA,CAAAO,gBAAA;IAA3CE,QAAQ,GAAAD,gBAAA;IAAEE,WAAW,GAAAF,gBAAA;EAAA,IAAAG,gBAAA,GACcnB,KAAK,CAACM,QAAQ,CAAC,EAAE,CAAC;IAAAc,gBAAA,GAAAZ,cAAA,CAAAW,gBAAA;IAArDE,aAAa,GAAAD,gBAAA;IAAEE,gBAAgB,GAAAF,gBAAA;EAAA,IAAAG,gBAAA,GACJvB,KAAK,CAACM,QAAQ,CAAC,KAAK,CAAC;IAAAkB,iBAAA,GAAAhB,cAAA,CAAAe,gBAAA;IAAhDE,SAAS,GAAAD,iBAAA;IAAEE,YAAY,GAAAF,iBAAA;EAE9B,SAASG,QAAQA,CAAA,EAAG;IAClBD,YAAY,CAAC,IAAI,CAAC;IAClB,IAAIjB,UAAU,KAAK,UAAU,EAAE;MAC7BR,QAAQ,CACL2B,IAAI,CAAC,CAAC,CACNC,8BAA8B,CAAChB,KAAK,EAAEI,QAAQ,CAAC,CAC/Ca,IAAI,CAAC,YAAM;QACV1B,QAAQ,CAAC,GAAG,CAAC;QACbsB,YAAY,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC,CACDK,KAAK,CAAC,UAACC,KAAK,EAAK;QAChB,QAAQA,KAAK,CAACC,IAAI;UAChB,KAAK,2BAA2B;YAC9BX,gBAAgB,CAAC,sBAAsB,CAAC;YACxC;UACF,KAAK,oBAAoB;YACvBA,gBAAgB,CAAC,eAAe,CAAC;YACjC;UACF,KAAK,oBAAoB;YACvBA,gBAAgB,CAAC,eAAe,CAAC;YACjC;UACF;UACA;UACA;UACA;QACF;QACAI,YAAY,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC;IACN,CAAC,MAAM,IAAIjB,UAAU,KAAK,QAAQ,EAAE;MAClCR,QAAQ,CACL2B,IAAI,CAAC,CAAC,CACNM,0BAA0B,CAACrB,KAAK,EAAEI,QAAQ,CAAC,CAC3Ca,IAAI,CAAC,YAAM;QACV1B,QAAQ,CAAC,GAAG,CAAC;QACbsB,YAAY,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC,CACDK,KAAK,CAAC,UAACC,KAAK,EAAK;QAChB,QAAQA,KAAK,CAACC,IAAI;UAChB,KAAK,oBAAoB;YACvBX,gBAAgB,CAAC,eAAe,CAAC;YACjC;UACF,KAAK,qBAAqB;YACxBA,gBAAgB,CAAC,gBAAgB,CAAC;YAClC;UACF,KAAK,qBAAqB;YACxBA,gBAAgB,CAAC,gBAAgB,CAAC;YAClC;UACF;UACA;UACA;UACA;QACF;QACAI,YAAY,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC;IACN;EACF;EAEA,oBACE1B,KAAA,CAAAmC,aAAA,CAAAnC,KAAA,CAAAoC,QAAA,qBACEpC,KAAA,CAAAmC,aAAA,CAACrC,SAAS;IAAAuC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACR1C,KAAA,CAAAmC,aAAA,CAACvC,IAAI;IAAC+C,MAAM,EAAE,CAAE;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACd1C,KAAA,CAAAmC,aAAA,CAACvC,IAAI,CAACgD,IAAI;IACRC,MAAM,EAAEpC,UAAU,KAAK,QAAS;IAChCqC,OAAO,EAAE,SAAAA,QAAA,EAAM;MACbxB,gBAAgB,CAAC,EAAE,CAAC;MACpBZ,aAAa,CAAC,QAAQ,CAAC;IACzB,CAAE;IAAA2B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACH,SAEU,CAAC,eACZ1C,KAAA,CAAAmC,aAAA,CAACvC,IAAI,CAACgD,IAAI;IACRC,MAAM,EAAEpC,UAAU,KAAK,UAAW;IAClCqC,OAAO,EAAE,SAAAA,QAAA,EAAM;MACbxB,gBAAgB,CAAC,EAAE,CAAC;MACpBZ,aAAa,CAAC,UAAU,CAAC;IAC3B,CAAE;IAAA2B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACH,UAEU,CACP,CAAC,eACP1C,KAAA,CAAAmC,aAAA,CAACtC,IAAI;IAAC8B,QAAQ,EAAEA,QAAS;IAAAU,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvB1C,KAAA,CAAAmC,aAAA,CAACtC,IAAI,CAACkD,KAAK;IACTC,KAAK,EAAC,OAAO;IACbC,KAAK,EAAEpC,KAAM;IACbqC,QAAQ,EAAE,SAAAA,SAACC,CAAC;MAAA,OAAKrC,QAAQ,CAACqC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;IAAA,CAAC;IAC1CI,WAAW,EAAC,UAAU;IACtBC,IAAI,EAAC,OAAO;IAAAjB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACb,CAAC,eACF1C,KAAA,CAAAmC,aAAA,CAACtC,IAAI,CAACkD,KAAK;IACTC,KAAK,EAAC,UAAU;IAChBC,KAAK,EAAEhC,QAAS;IAChBoC,WAAW,EAAC,UAAU;IACtBH,QAAQ,EAAE,SAAAA,SAACC,CAAC;MAAA,OAAKjC,WAAW,CAACiC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;IAAA,CAAC;IAC7CK,IAAI,EAAC,UAAU;IAAAjB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAChB,CAAC,EACDrB,aAAa,iBAAIrB,KAAA,CAAAmC,aAAA,CAACpC,OAAO;IAACwD,QAAQ;IAAAlB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAErB,aAAuB,CAAC,eAC7DrB,KAAA,CAAAmC,aAAA,CAACtC,IAAI,CAAC2D,MAAM;IAACC,OAAO,EAAEhC,SAAU;IAAAY,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC7BjC,UAAU,KAAK,QAAQ,GAAG,SAAS,GAAG,UAC5B,CACT,CACG,CACX,CAAC;AAEP;AAEA,eAAeN,MAAM"},"metadata":{},"sourceType":"module"}