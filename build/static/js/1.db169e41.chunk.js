(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(e,t,n){"use strict";e.exports=n(174)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var u=e[i](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function u(e){r(o,a,i,u,s,"next",e)}function s(e){r(o,a,i,u,s,"throw",e)}u(void 0)})}}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",function(){return E}),n.d(t,"b",function(){return V}),n.d(t,"c",function(){return U}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return y}),n.d(t,"f",function(){return B}),n.d(t,"g",function(){return I}),n.d(t,"h",function(){return Y}),n.d(t,"i",function(){return G}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return Q}),n.d(t,"l",function(){return _}),n.d(t,"m",function(){return w}),n.d(t,"n",function(){return j}),n.d(t,"o",function(){return x}),n.d(t,"p",function(){return X}),n.d(t,"q",function(){return T}),n.d(t,"r",function(){return N}),n.d(t,"s",function(){return A}),n.d(t,"t",function(){return q}),n.d(t,"u",function(){return P}),n.d(t,"v",function(){return L}),n.d(t,"w",function(){return S}),n.d(t,"x",function(){return C}),n.d(t,"y",function(){return R}),n.d(t,"z",function(){return D}),n.d(t,"A",function(){return H}),n.d(t,"B",function(){return W}),n.d(t,"C",function(){return M});var a=n(17),i=n(38),o=n(3),u=n(1),s=n(14),c=n(9),l=n(10),f=n(114);function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],a=0;a<e.length;a+=3){var i=e[a],o=a+1<e.length,u=o?e[a+1]:0,s=a+2<e.length,c=s?e[a+2]:0,l=i>>2,f=(3&i)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(p(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){var i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){var o=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],a=0;a<e.length;){var i=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0,u=++a<e.length?n[e.charAt(a)]:64,s=++a<e.length?n[e.charAt(a)]:64;if(++a,null==i||null==o||null==u||null==s)throw new m;var c=i<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},m=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(c.a)(t).apply(this,arguments))).name="DecodeBase64StringError",e}return Object(l.a)(t,e),t}(Object(f.a)(Error)),y=function(e){return function(e){var t=p(e);return v.encodeByteArray(t,!0)}(e).replace(/\./g,"")},b=function(e){try{return v.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=g(e[n],t[n]));return e}var k=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},O=function(){try{return k()||function(){if("undefined"!==typeof r){var e=Object({NODE_ENV:"production",PUBLIC_URL:""}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&b(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},w=function(e){var t,n;return null===(n=null===(t=O())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},j=function(e){var t=w(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},_=function(){var e;return null===(e=O())||void 0===e?void 0:e.config},x=function(e){var t;return null===(t=O())||void 0===t?void 0:t["_".concat(e)]},E=function(){function e(){var t=this;Object(u.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return Object(o.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}]),e}();function I(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[y(JSON.stringify({alg:"none",type:"JWT"})),y(JSON.stringify(i)),""].join(".")}function T(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T())}function C(){var t,n=null===(t=O())||void 0===t?void 0:t.forceEnvironment;if("node"===n)return!0;if("browser"===n)return!1;try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(r){return!1}}function N(){return"object"===typeof self&&self.self===self}function A(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function R(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function P(){var e=T();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function D(){return!C()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L(){try{return"object"===typeof indexedDB}catch(e){return!1}}function M(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=function(){a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=function(){n=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(i){t(i)}})}var F="FirebaseError",U=function(e){function t(e,n,r){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,n))).code=e,a.customData=r,a.name=F,Object.setPrototypeOf(Object(i.a)(Object(i.a)(a)),t.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(i.a)(Object(i.a)(a)),V.prototype.create),a}return Object(l.a)(t,e),t}(Object(f.a)(Error)),V=function(){function e(t,n,r){Object(u.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(o.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(z,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new U(n,i,t)}}]),e}();var z=/\{\$([^}]+)}/g;function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function G(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),a=0,i=n;a<i.length;a++){var o=i[a];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(K(u)&&K(s)){if(!G(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function K(e){return null!==e&&"object"===typeof e}function H(e){for(var t=[],n=function(){var e=Object(a.a)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach(function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function W(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),r=Object(a.a)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Q(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Y(e,t){var n=new $(e,t);return n.subscribe.bind(n)}var $=function(){function e(t,n){var r=this;Object(u.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(e){r.error(e)})}return Object(o.a)(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r,a=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=h(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(i){r.e(i)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{a.finalError?r.error(a.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}();function J(){}function X(e){return e&&e._delegate?e._delegate:e}}).call(this,n(70),n(98))},function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"someByType",function(){return u}),n.d(r,"findByType",function(){return s}),n.d(r,"isNil",function(){return c});var a=n(122),i=n(111),o=n(0),u=function(e,t){return Object(i.a)(o.Children.toArray(e),{type:t})},s=function(e,t){return Object(a.a)(o.Children.toArray(e),{type:t})},c=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(72);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){e.exports=n(184)()},function(e,t,n){"use strict";n.d(t,"a",function(){return G}),n.d(t,"b",function(){return K}),n.d(t,"c",function(){return H}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return b}),n.d(t,"h",function(){return Q}),n.d(t,"i",function(){return F}),n.d(t,"j",function(){return B}),n.d(t,"k",function(){return k}),n.d(t,"l",function(){return w}),n.d(t,"m",function(){return V}),n.d(t,"n",function(){return _}),n.d(t,"o",function(){return U}),n.d(t,"p",function(){return x}),n.d(t,"q",function(){return E});var r=n(23),a=n(17),i=n(1),o=n(3),u=n(14),s=n(9),c=n(10),l=n(0),f=n(18);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=l.createContext(null);var p=l.createContext(null);var v=l.createContext(null);var m=l.createContext(null);var y=l.createContext(null);var b=l.createContext({outlet:null,matches:[]});var g=l.createContext(null);function k(e,t){var n=(void 0===t?{}:t).relative;O()||Object(f.e)(!1);var r=l.useContext(m),a=r.basename,i=r.navigator,o=E(e,{relative:n}),u=o.hash,s=o.pathname,c=o.search,h=s;return"/"!==a&&(h="/"===s?a:Object(f.l)([a,s])),i.createHref({pathname:h,search:c,hash:u})}function O(){return null!=l.useContext(y)}function w(){return O()||Object(f.e)(!1),l.useContext(y).location}function j(e){l.useContext(m).static||l.useLayoutEffect(e)}function _(){return null!=l.useContext(d)?function(){var e=D(S.UseNavigateStable).router,t=M(C.UseNavigateStable),n=l.useRef(!1);return j(function(){n.current=!0}),l.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,h({fromRouteId:t},a)))},[e,t])}():function(){O()||Object(f.e)(!1);var e=l.useContext(m),t=e.basename,n=e.navigator,r=l.useContext(b).matches,a=w().pathname,i=JSON.stringify(Object(f.d)(r).map(function(e){return e.pathnameBase})),o=l.useRef(!1);return j(function(){o.current=!0}),l.useCallback(function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var u=Object(f.p)(e,JSON.parse(i),a,"path"===r.relative);"/"!==t&&(u.pathname="/"===u.pathname?t:Object(f.l)([t,u.pathname])),(r.replace?n.replace:n.push)(u,r.state,r)}else n.go(e)},[t,n,i,a])}()}function x(){var e=l.useContext(b).matches,t=e[e.length-1];return t?t.params:{}}function E(e,t){var n=(void 0===t?{}:t).relative,r=l.useContext(b).matches,a=w().pathname,i=JSON.stringify(Object(f.d)(r).map(function(e){return e.pathnameBase}));return l.useMemo(function(){return Object(f.p)(e,JSON.parse(i),a,"path"===n)},[e,i,a,n])}function I(e,t,n){O()||Object(f.e)(!1);var r,a=l.useContext(m).navigator,i=l.useContext(b).matches,o=i[i.length-1],u=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,w());if(t){var d,p="string"===typeof t?Object(f.o)(t):t;"/"===s||null!=(d=p.pathname)&&d.startsWith(s)||Object(f.e)(!1),r=p}else r=c;var v=r.pathname||"/",g="/"===s?v:v.slice(s.length)||"/",k=Object(f.n)(e,{pathname:g});var j=P(k&&k.map(function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Object(f.l)([s,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:Object(f.l)([s,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})}),i,n);return t&&j?l.createElement(y.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:f.b.Pop}},j):j}function T(){var e=function(){var e,t=l.useContext(g),n=L(C.UseRouteError),r=M(C.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Object(f.k)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:r},n):null,null)}var S,C,N=l.createElement(T,null),A=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={location:e.location,revalidation:e.revalidation,error:e.error},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?l.createElement(b.Provider,{value:this.props.routeContext},l.createElement(g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),t}(l.Component);function R(e){var t=e.routeContext,n=e.match,r=e.children,a=l.useContext(d);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(b.Provider,{value:t},r)}function P(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var i=e,o=null==(r=n)?void 0:r.errors;if(null!=o){var u=i.findIndex(function(e){return e.route.id&&(null==o?void 0:o[e.route.id])});u>=0||Object(f.e)(!1),i=i.slice(0,Math.min(i.length,u+1))}return i.reduceRight(function(e,r,a){var u=r.route.id?null==o?void 0:o[r.route.id]:null,s=null;n&&(s=r.route.errorElement||N);var c=t.concat(i.slice(0,a+1)),f=function(){var t;return t=u?s:r.route.element?r.route.element:e,l.createElement(R,{match:r,routeContext:{outlet:e,matches:c},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?l.createElement(A,{location:n.location,revalidation:n.revalidation,component:s,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}function D(e){var t=l.useContext(d);return t||Object(f.e)(!1),t}function L(e){var t=l.useContext(p);return t||Object(f.e)(!1),t}function M(e){var t=function(e){var t=l.useContext(b);return t||Object(f.e)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||Object(f.e)(!1),n.route.id}function F(){return M(C.UseRouteId)}function U(){return L(C.UseNavigation).navigation}function V(){var e=L(C.UseMatches),t=e.matches,n=e.loaderData;return l.useMemo(function(){return t.map(function(e){var t=e.pathname,r=e.params;return{id:e.route.id,pathname:t,params:r,data:n[e.route.id],handle:e.route.handle}})},[t,n])}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(S||(S={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(C||(C={}));var z=0;function B(e){var t=D(S.UseBlocker).router,n=L(C.UseBlocker),r=l.useState(function(){return String(++z)}),i=Object(a.a)(r,1)[0],o=l.useCallback(function(t){return"function"===typeof e?!!e(t):!!e},[e]),u=t.getBlocker(i,o);return l.useEffect(function(){return function(){return t.deleteBlocker(i)}},[t,i]),n.blockers.get(i)||u}var q;function G(e){Object(f.e)(!1)}function K(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,a=void 0===r?null:r,i=e.location,o=e.navigationType,u=void 0===o?f.b.Pop:o,s=e.navigator,c=e.static,h=void 0!==c&&c;O()&&Object(f.e)(!1);var d=n.replace(/^\/*/,"/"),p=l.useMemo(function(){return{basename:d,navigator:s,static:h}},[d,s,h]);"string"===typeof i&&(i=Object(f.o)(i));var v=i,b=v.pathname,g=void 0===b?"/":b,k=v.search,w=void 0===k?"":k,j=v.hash,_=void 0===j?"":j,x=v.state,E=void 0===x?null:x,I=v.key,T=void 0===I?"default":I,S=l.useMemo(function(){var e=Object(f.q)(g,d);return null==e?null:{location:{pathname:e,search:w,hash:_,state:E,key:T},navigationType:u}},[d,g,w,_,E,T,u]);return null==S?null:l.createElement(m.Provider,{value:p},l.createElement(y.Provider,{children:a,value:S}))}function H(e){var t=e.children,n=e.location;return I(function e(t,n){void 0===n&&(n=[]);var a=[];l.Children.forEach(t,function(t,i){if(l.isValidElement(t)){var o=[].concat(Object(r.a)(n),[i]);if(t.type!==l.Fragment){t.type!==G&&Object(f.e)(!1),t.props.index&&t.props.children&&Object(f.e)(!1);var u={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(u.children=e(t.props.children,o)),a.push(u)}else a.push.apply(a,e(t.props.children,o))}});return a}(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(q||(q={}));var W=new Promise(function(){});l.Component;function Q(e){var t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:l.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:l.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}},function(e,t,n){"use strict";var r=n(131),a=n(1),i=n(3),o=n(14),u=n(33),s=n(9),c=n(10),l=n(2),f=n(38),h=n(17),d=n(23),p=n(4),v=n(6),m=n(22);function y(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;var b,g=n(32),k=n(28);function O(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(){j=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),u=new E(a||[]);return r(o,"_invoke",{value:O(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,i,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(I([])));y&&y!==t&&n.call(y,i)&&(v=y);var b=p.prototype=h.prototype=Object.create(v);function g(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t(function(a,o){!function r(a,i,o,u){var s=l(e[a],e,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,i,a,o)})}return a=a?a.then(o,o):o()}})}function O(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=l(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(k.prototype),s(k.prototype,o,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new k(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(b),s(b,u,"Generator"),s(b,i,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var _={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},x={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function E(){return Object(p.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var I=function(){var e;return e={},Object(p.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(p.a)(e,"argument-error",""),Object(p.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(p.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(p.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(p.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(p.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(p.a)(e,"cors-unsupported","This browser is not supported."),Object(p.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(p.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(p.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(p.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(p.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(p.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(p.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(p.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(p.a)(e,"expired-action-code","The action code has expired."),Object(p.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(p.a)(e,"internal-error","An internal AuthError has occurred."),Object(p.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(p.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(p.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(p.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(p.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(p.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(p.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(p.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(p.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(p.a)(e,"invalid-email","The email address is badly formatted."),Object(p.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(p.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(p.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(p.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(p.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(p.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(p.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(p.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(p.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(p.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(p.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(p.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(p.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(p.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(p.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(p.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(p.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(p.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(p.a)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Object(p.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(p.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(p.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(p.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(p.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(p.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(p.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(p.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(p.a)(e,"missing-password","A non-empty password must be provided"),Object(p.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(p.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(p.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(p.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(p.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(p.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(p.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(p.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(p.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(p.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(p.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(p.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(p.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(p.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(p.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(p.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(p.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(p.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(p.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(p.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(p.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(p.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(p.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(p.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(p.a)(e,"timeout","The operation has timed out."),Object(p.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(p.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(p.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(p.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(p.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(p.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(p.a)(e,"unverified-email","The operation requires a verified email."),Object(p.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(p.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(p.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(p.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(p.a)(e,"user-signed-out",""),Object(p.a)(e,"weak-password","The password must be 6 characters long or more."),Object(p.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(p.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Object(p.a)(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Object(p.a)(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Object(p.a)(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Object(p.a)(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Object(p.a)(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Object(p.a)(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Object(p.a)(e,"invalid-req-type","Invalid request parameters."),Object(p.a)(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},T=E,S=new v.b("auth","Firebase",E()),C=new g.b("@firebase/auth");function N(e){if(C.logLevel<=g.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];C.warn.apply(C,["Auth (".concat(m.SDK_VERSION,"): ").concat(e)].concat(n))}}function A(e){if(C.logLevel<=g.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];C.error.apply(C,["Auth (".concat(m.SDK_VERSION,"): ").concat(e)].concat(n))}}function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw M.apply(void 0,[e].concat(n))}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return M.apply(void 0,[e].concat(n))}function D(e,t,n){var r=Object.assign(Object.assign({},T()),Object(p.a)({},t,n));return new v.b("auth","Firebase",r).create(t,{appName:e.name})}function L(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&R(e,"argument-error"),D(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var a,i=n[0],o=Object(d.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(a=e._errorFactory).create.apply(a,[i].concat(Object(d.a)(o)))}return S.create.apply(S,[e].concat(n))}function F(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw M.apply(void 0,[t].concat(r))}}function U(e){var t="INTERNAL ASSERTION FAILED: "+e;throw A(t),new Error(t)}function V(e,t){e||U(t)}function z(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function B(){return"http:"===q()||"https:"===q()}function q(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var G=function(){function e(t,n){Object(a.a)(this,e),this.shortDelay=t,this.longDelay=n,V(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(v.w)()||Object(v.y)()}return Object(i.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(B()||Object(v.s)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function K(e,t){V(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var H=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void U("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void U("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void U("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),W=(b={},Object(p.a)(b,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(p.a)(b,"MISSING_CUSTOM_TOKEN","internal-error"),Object(p.a)(b,"INVALID_IDENTIFIER","invalid-email"),Object(p.a)(b,"MISSING_CONTINUE_URI","internal-error"),Object(p.a)(b,"INVALID_PASSWORD","wrong-password"),Object(p.a)(b,"MISSING_PASSWORD","missing-password"),Object(p.a)(b,"EMAIL_EXISTS","email-already-in-use"),Object(p.a)(b,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(p.a)(b,"INVALID_IDP_RESPONSE","invalid-credential"),Object(p.a)(b,"INVALID_PENDING_TOKEN","invalid-credential"),Object(p.a)(b,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(p.a)(b,"MISSING_REQ_TYPE","internal-error"),Object(p.a)(b,"EMAIL_NOT_FOUND","user-not-found"),Object(p.a)(b,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(p.a)(b,"EXPIRED_OOB_CODE","expired-action-code"),Object(p.a)(b,"INVALID_OOB_CODE","invalid-action-code"),Object(p.a)(b,"MISSING_OOB_CODE","internal-error"),Object(p.a)(b,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(p.a)(b,"INVALID_ID_TOKEN","invalid-user-token"),Object(p.a)(b,"TOKEN_EXPIRED","user-token-expired"),Object(p.a)(b,"USER_NOT_FOUND","user-token-expired"),Object(p.a)(b,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(p.a)(b,"INVALID_CODE","invalid-verification-code"),Object(p.a)(b,"INVALID_SESSION_INFO","invalid-verification-id"),Object(p.a)(b,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(p.a)(b,"MISSING_SESSION_INFO","missing-verification-id"),Object(p.a)(b,"SESSION_EXPIRED","code-expired"),Object(p.a)(b,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(p.a)(b,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(p.a)(b,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(p.a)(b,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(p.a)(b,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(p.a)(b,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(p.a)(b,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(p.a)(b,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(p.a)(b,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(p.a)(b,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(p.a)(b,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Object(p.a)(b,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Object(p.a)(b,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Object(p.a)(b,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Object(p.a)(b,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Object(p.a)(b,"MISSING_CLIENT_TYPE","missing-client-type"),Object(p.a)(b,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Object(p.a)(b,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Object(p.a)(b,"INVALID_REQ_TYPE","invalid-req-type"),b),Q=new G(3e4,6e4);function Y(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function $(e,t,n,r){return J.apply(this,arguments)}function J(){return(J=Object(l.a)(j().mark(function e(t,n,r,a){var i,o=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",X(t,i,Object(l.a)(j().mark(function e(){var i,o,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={},o={},a&&("GET"===n?o=a:i={body:JSON.stringify(a)}),u=Object(v.A)(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",H.fetch()(ne(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},i)));case 10:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function X(e,t,n){return Z.apply(this,arguments)}function Z(){return(Z=Object(l.a)(j().mark(function e(t,n,r){var a,i,o,u,s,c,l,f,d,p;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},W),n),e.prev=2,i=new re(t),e.next=6,Promise.race([r(),i.promise]);case 6:return o=e.sent,i.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ae(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Object(h.a)(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw ae(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw ae(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw ae(t,"user-disabled",u);case 29:if(p=a[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw D(t,p,d);case 34:R(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof v.c)){e.next=41;break}throw e.t0;case 41:R(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}},e,null,[[2,37]])}))).apply(this,arguments)}function ee(e,t,n,r){return te.apply(this,arguments)}function te(){return(te=Object(l.a)(j().mark(function e(t,n,r,a){var i,o,u=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,$(t,n,r,a,i);case 3:return"mfaPendingCredential"in(o=e.sent)&&R(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ne(e,t,n,r){var a="".concat(t).concat(n,"?").concat(r);return e.config.emulator?K(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}var re=function(){function e(t){var n=this;Object(a.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(e,t){n.timer=setTimeout(function(){return t(P(n.auth,"network-request-failed"))},Q.get())})}return Object(i.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ae(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var a=P(e,t,r);return a.customData._tokenResponse=n,a}function ie(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(e,t){return se.apply(this,arguments)}function se(){return(se=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fe(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function he(){return(he=Object(l.a)(j().mark(function e(t){var n,r,a,i,o,u,s=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Object(v.p)(t),e.next=4,r.getIdToken(n);case 4:return a=e.sent,F((i=pe(a))&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error"),o="object"===typeof i.firebase?i.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:i,token:a,authTime:fe(de(i.auth_time)),issuedAtTime:fe(de(i.iat)),expirationTime:fe(de(i.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function de(e){return 1e3*Number(e)}function pe(e){var t=e.split("."),n=Object(h.a)(t,3),r=n[0],a=n[1],i=n[2];if(void 0===r||void 0===a||void 0===i)return A("JWT malformed, contained fewer than 3 sections"),null;try{var o=Object(v.d)(a);return o?JSON.parse(o):(A("Failed to decode base64 JWT payload"),null)}catch(u){return A("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function ve(e,t){return me.apply(this,arguments)}function me(){return(me=Object(l.a)(j().mark(function e(t,n){var r=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof v.c&&ye(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function ye(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var be=function(){function e(t){Object(a.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(i.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(l.a)(j().mark(function t(){return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}},t)})),n)}}},{key:"iteration",value:function(){var e=Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),ge=function(){function e(t,n){Object(a.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(i.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=fe(this.lastLoginAt),this.creationTime=fe(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ke(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(l.a)(j().mark(function e(t){var n,r,a,i,o,u,s,c,l,f,h;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,e.next=6,ve(t,ce(r,{idToken:a}));case 6:F(null===(i=e.sent)||void 0===i?void 0:i.users.length,r,"internal-error"),o=i.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map(function(e){var t=e.providerId,n=y(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],s=je(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ge(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function we(){return(we=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(v.p)(t),e.next=3,ke(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function je(e,t){var n=e.filter(function(e){return!t.some(function(t){return t.providerId===e.providerId})});return[].concat(Object(d.a)(n),Object(d.a)(t))}function _e(e,t){return xe.apply(this,arguments)}function xe(){return(xe=Object(l.a)(j().mark(function e(t,n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t,{},Object(l.a)(j().mark(function e(){var r,a,i,o,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.A)({grant_type:"refresh_token",refresh_token:n}).slice(1),a=t.config,i=a.tokenApiHost,o=a.apiKey,u=ne(t,i,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",H.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}},e)})));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ee=function(){function e(){Object(a.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(i.a)(e,[{key:"updateFromServerResponse",value:function(e){F(e.idToken,"internal-error"),F("undefined"!==typeof e.idToken,"internal-error"),F("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=pe(e);return F(t,"internal-error"),F("undefined"!==typeof t.exp,"internal-error"),F("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],F(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(l.a)(j().mark(function e(t,n){var r,a,i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(t,n);case 2:r=e.sent,a=r.accessToken,i=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(a,i,Number(o));case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return U("not implemented")}},{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,a=n.accessToken,i=n.expirationTime,o=new e;return r&&(F("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),a&&(F("string"===typeof a,"internal-error",{appName:t}),o.accessToken=a),i&&(F("number"===typeof i,"internal-error",{appName:t}),o.expirationTime=i),o}}]),e}();function Ie(e,t){F("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Te=function(){function e(t){Object(a.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=y(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new be(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?Object(d.a)(o.providerData):[],this.metadata=new ge(o.createdAt||void 0,o.lastLoginAt||void 0)}return Object(i.a)(e,[{key:"getIdToken",value:function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(F(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return he.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return we.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(F(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(e){return Object.assign({},e)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r,a=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ke(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(l.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ve(this,ie(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Object.assign({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,a,i,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(a=n.email)&&void 0!==a?a:void 0,d=null!==(i=n.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,b=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,g=n.uid,k=n.emailVerified,O=n.isAnonymous,w=n.providerData,j=n.stsTokenManager;F(g&&j,t,"internal-error");var _=Ee.fromJSON(this.name,j);F("string"===typeof g,t,"internal-error"),Ie(f,t.name),Ie(h,t.name),F("boolean"===typeof k,t,"internal-error"),F("boolean"===typeof O,t,"internal-error"),Ie(d,t.name),Ie(p,t.name),Ie(v,t.name),Ie(m,t.name),Ie(y,t.name),Ie(b,t.name);var x=new e({uid:g,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:O,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:b});return w&&Array.isArray(w)&&(x.providerData=w.map(function(e){return Object.assign({},e)})),m&&(x._redirectEventId=m),x}},{key:"_fromIdTokenResponse",value:function(){var t=Object(l.a)(j().mark(function t(n,r){var a,i,o,u=arguments;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>2&&void 0!==u[2]&&u[2],(i=new Ee).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:i,isAnonymous:a}),t.next=6,ke(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Se=new Map;function Ce(e){V(e instanceof Function,"Expected a class definition");var t=Se.get(e);return t?(V(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Se.set(e,t),t)}var Ne=function(){function e(){Object(a.a)(this,e),this.type="NONE",this.storage={}}return Object(i.a)(e,[{key:"_isAvailable",value:function(){var e=Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(l.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ne.type="NONE";var Ae=Ne;function Re(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Pe=function(){function e(t,n,r){Object(a.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,u=i.name;this.fullUserKey=Re(this.userKey,o.apiKey,u),this.fullPersistenceKey=Re("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(i.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(l.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Te._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(l.a)(j().mark(function t(n,r){var a,i,o,u,s,c,f,h,d,p,v,m=arguments;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ce(Ae),n,a));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(l.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:i=t.sent.filter(function(e){return e}),o=i[0]||Ce(Ae),u=Re(a,n.config.apiKey,n.name),s=null,c=O(r),t.prev=10,c.s();case 12:if((f=c.n()).done){t.next=29;break}return h=f.value,t.prev=14,t.next=17,h._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return p=Te._fromJSON(n,d),h!==o&&(s=p),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(v=i.filter(function(e){return e._shouldAllowMigration}),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,a));case 40:if(o=v[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(l.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,a));case 47:case"end":return t.stop()}},t,null,[[10,31,34,37],[14,25]])}));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function De(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ue(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Le(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ze(t))return"Blackberry";if(Be(t))return"Webos";if(Me(t))return"Safari";if((t.includes("chrome/")||Fe(t))&&!t.includes("edge/"))return"Chrome";if(Ve(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/firefox\//i.test(e)}function Me(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/crios\//i.test(e)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/iemobile/i.test(e)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/android/i.test(e)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/blackberry/i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/webos/i.test(e)}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return qe(e)||Ve(e)||Be(e)||ze(e)||/windows phone/i.test(e)||Ue(e)}function Ke(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=De(Object(v.q)());break;case"Worker":t="".concat(De(Object(v.q)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(m.SDK_VERSION,"/").concat(r)}function He(e){return We.apply(this,arguments)}function We(){return(We=Object(l.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qe(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"GET","/v2/recaptchaConfig",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $e(e){return void 0!==e&&void 0!==e.getResponse}function Je(e){return void 0!==e&&void 0!==e.enterprise}var Xe=function e(t){if(Object(a.a)(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState})};function Ze(e){return new Promise(function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=P("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function et(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var tt="recaptcha-enterprise",nt=function(){function e(t){Object(a.a)(this,e),this.type=tt,this.auth=ut(t)}return Object(i.a)(e,[{key:"verify",value:function(){var e=Object(l.a)(j().mark(function e(){var t,n,r,a,i,o=this,u=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e,n,r){var a=window.grecaptcha;Je(a)?a.enterprise.ready(function(){try{a.enterprise.execute(e,{action:t}).then(function(e){n(e)}).catch(function(e){r(e)})}catch(i){r(i)}}):r(Error("No reCAPTCHA enterprise script loaded."))},a=function(){return(a=Object(l.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Object(l.a)(j().mark(function e(n,r){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Qe(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(e){if(void 0!==e.recaptchaKey){var a=new Xe(e);return null==t.tenantId?t._agentRecaptchaConfig=a:t._tenantRecaptchaConfigs[t.tenantId]=a,n(a.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))}).catch(function(e){r(e)});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)},r=function(e){return a.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise(function(e,t){r(o.auth).then(function(r){if(!n&&Je(window.grecaptcha))i(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Ze("https://www.google.com/recaptcha/enterprise.js?render="+r).then(function(){i(r,e,t)}).catch(function(e){t(e)})}}).catch(function(e){t(e)})}));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}]),e}();function rt(e,t,n){return at.apply(this,arguments)}function at(){return(at=Object(l.a)(j().mark(function e(t,n,r){var a,i,o,u,s=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]&&s[3],i=new nt(t),e.prev=2,e.next=5,i.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,i.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),a?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}var it=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.queue=[]}return Object(i.a)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise(function(n,r){try{n(e(t))}catch(a){r(a)}})};r.onAbort=t,this.queue.push(r);var a=this.queue.length-1;return function(){n.queue[a]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r,a,i,o,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=O(this.queue),e.prev=5,r.s();case 7:if((a=r.n()).done){e.next=14;break}return i=a.value,e.next=11,i(t);case 11:i.onAbort&&n.push(i.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=O(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}},e,this,[[3,24],[5,16,19,22]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ot=function(){function e(t,n,r,i){Object(a.a)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new st(this),this.idTokenSubscription=new st(this),this.beforeStateQueue=new it(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return Object(i.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ce(t)),this._initializationPromise=this.queue(Object(l.a)(j().mark(function r(){var a,i;return j().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Pe.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(a=n._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}},r,null,[[8,13]])}))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(l.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r,a,i,o,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,a=r,i=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===a||void 0===a?void 0:a._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||null===s||void 0===s||!s.user||(a=s.user,i=!0);case 14:if(a){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(a._redirectEventId){e.next=32;break}if(!i){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(a);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),a=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(e.t0)});case 27:if(!a){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return F(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:case"end":return e.stop()}},e,this,[[18,23]])}));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(l.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(v.p)(t):null)&&F(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r=this,a=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&F(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}},e)}))));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(l.a)(j().mark(function n(){return j().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ce(e));case 2:case"end":return n.stop()}},n)})))}},{key:"initializeRecaptchaConfig",value:function(){var e=Object(l.a)(j().mark(function e(){var t,n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Xe(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new nt(this).verify();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new v.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(l.a)(j().mark(function e(t,n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return F(n=t&&Ce(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Pe.create(this,[Ce(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(l.a)(j().mark(function e(t){var n=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var a=this;if(this._deleted)return function(){};var i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return F(o,this,"internal-error"),o.then(function(){return i(a.currentUser)}),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(l.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ke(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Object(l.a)(j().mark(function e(){var t,n,r,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.a)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(a=e.sent)&&(n["X-Firebase-AppCheck"]=a),e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Object(l.a)(j().mark(function e(){var t,n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&N("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_currentUser",get:function(){return this.currentUser}},{key:"assertedPersistence",get:function(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}}]),e}();function ut(e){return Object(v.p)(e)}var st=function(){function e(t){var n=this;Object(a.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(v.h)(function(e){return n.observer=e})}return Object(i.a)(e,[{key:"next",get:function(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ct(e,t,n){var r=ut(e);F(r._canInitEmulator,r,"emulator-config-failed"),F(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),i=lt(t),o=function(e){var t=lt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var i=a[1];return{host:i,port:ft(r.substr(i.length+1))}}var o=r.split(":"),u=Object(h.a)(o,2),s=u[0],c=u[1];return{host:s,port:ft(c)}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(i,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function lt(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ft(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ht=function(){function e(t,n){Object(a.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(i.a)(e,[{key:"toJSON",value:function(){return U("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return U("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return U("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return U("not implemented")}}]),e}();function dt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:resetPassword",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:update",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithPassword",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ot(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:sendOobCode",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jt(e,t){return _t.apply(this,arguments)}function _t(){return(_t=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ot(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xt(e,t){return Et.apply(this,arguments)}function Et(){return(Et=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ot(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function It(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ot(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function St(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ot(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nt(e,t){return At.apply(this,arguments)}function At(){return(At=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithEmailLink",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rt(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithEmailLink",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Dt=function(e){function t(e,n,r){var i,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(a.a)(this,t),(i=Object(o.a)(this,Object(s.a)(t).call(this,"password",r)))._email=e,i._password=n,i._tenantId=u,i}return Object(c.a)(t,e),Object(i.a)(t,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,rt(t,r,"signInWithPassword");case 7:return a=e.sent,e.abrupt("return",gt(t,a));case 11:return e.abrupt("return",gt(t,r).catch(function(){var e=Object(l.a)(j().mark(function e(n){var a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,rt(t,r,"signInWithPassword");case 4:return a=e.sent,e.abrupt("return",gt(t,a));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Nt(t,{email:this._email,oobCode:this._password}));case 13:R(t,"internal-error");case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",vt(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Rt(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:R(t,"internal-error");case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,n){return new t(e,n,"password")}},{key:"_fromEmailAndCode",value:function(e,n){return new t(e,n,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),t}(ht);function Lt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithIdp",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ft=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).apply(this,arguments))).pendingToken=null,e}return Object(c.a)(t,e),Object(i.a)(t,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Lt(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Lt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Lt(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(v.A)(t)}return e}}],[{key:"_fromParams",value:function(e){var n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):R("argument-error"),n}},{key:"fromJSON",value:function(e){var n="string"===typeof e?JSON.parse(e):e,r=n.providerId,a=n.signInMethod,i=y(n,["providerId","signInMethod"]);if(!r||!a)return null;var o=new t(r,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}}]),t}(ht);function Ut(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:sendVerificationCode",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zt(){return(zt=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithPhoneNumber",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bt(){return(Bt=Object(l.a)(j().mark(function e(t,n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t,"POST","/v1/accounts:signInWithPhoneNumber",Y(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ae(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var qt=Object(p.a)({},"USER_NOT_FOUND","user-not-found");function Gt(){return(Gt=Object(l.a)(j().mark(function e(t,n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithPhoneNumber",Y(t,r),qt));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Kt=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,"phone","phone"))).params=e,n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return zt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Bt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Gt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,a=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:a}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,n){return new t({verificationId:e,verificationCode:n})}},{key:"_fromTokenResponse",value:function(e,n){return new t({phoneNumber:e,temporaryProof:n})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var n=e,r=n.verificationId,a=n.verificationCode,i=n.phoneNumber,o=n.temporaryProof;return a||r||i||o?new t({verificationId:r,verificationCode:a,phoneNumber:i,temporaryProof:o}):null}}]),t}(ht);var Ht=function(){function e(t){var n,r,i,o,u,s;Object(a.a)(this,e);var c=Object(v.B)(Object(v.k)(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);F(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(u=c.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return Object(i.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(v.B)(Object(v.k)(e)).link,n=t?Object(v.B)(Object(v.k)(t)).deep_link_id:null,r=Object(v.B)(Object(v.k)(e)).deep_link_id;return(r?Object(v.B)(Object(v.k)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Wt=function(){function e(){Object(a.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(i.a)(e,null,[{key:"credential",value:function(e,t){return Dt._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ht.parseLink(t);return F(n,"argument-error"),Dt._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Wt.PROVIDER_ID="password",Wt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Qt=function(){function e(t){Object(a.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(i.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Yt=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).apply(this,arguments))).scopes=[],e}return Object(c.a)(t,e),Object(i.a)(t,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(d.a)(this.scopes)}}]),t}(Qt),$t=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return F(e.idToken||e.accessToken,"argument-error"),Ft._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return F("providerId"in t&&"signInMethod"in t,"argument-error"),Ft._fromParams(t)}},{key:"credentialFromResult",value:function(e){return t.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthIdToken,a=n.oauthAccessToken,i=n.oauthTokenSecret,o=n.pendingToken,u=n.nonce,s=n.providerId;if(!a&&!i&&!r&&!o)return null;if(!s)return null;try{return new t(s)._credential({idToken:r,accessToken:a,nonce:u,pendingToken:o})}catch(c){return null}}}]),t}(Yt),Jt=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,"facebook.com"))}return Object(c.a)(t,e),Object(i.a)(t,null,[{key:"credential",value:function(e){return Ft._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}]),t}(Yt);Jt.FACEBOOK_SIGN_IN_METHOD="facebook.com",Jt.PROVIDER_ID="facebook.com";var Xt=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this,"google.com"))).addScope("profile"),e}return Object(c.a)(t,e),Object(i.a)(t,null,[{key:"credential",value:function(e,n){return Ft._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthIdToken,a=n.oauthAccessToken;if(!r&&!a)return null;try{return t.credential(r,a)}catch(i){return null}}}]),t}(Yt);Xt.GOOGLE_SIGN_IN_METHOD="google.com",Xt.PROVIDER_ID="google.com";var Zt=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,"github.com"))}return Object(c.a)(t,e),Object(i.a)(t,null,[{key:"credential",value:function(e){return Ft._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}]),t}(Yt);Zt.GITHUB_SIGN_IN_METHOD="github.com",Zt.PROVIDER_ID="github.com";var en=function(e){function t(e,n){var r;return Object(a.a)(this,t),(r=Object(o.a)(this,Object(s.a)(t).call(this,e,e))).pendingToken=n,r}return Object(c.a)(t,e),Object(i.a)(t,[{key:"_getIdTokenResponse",value:function(e){return Lt(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Lt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Lt(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var n="string"===typeof e?JSON.parse(e):e,r=n.providerId,a=n.signInMethod,i=n.pendingToken;return r&&a&&i&&r===a?new t(r,i):null}},{key:"_create",value:function(e,n){return new t(e,n)}}]),t}(ht),tn="saml.",nn=function(e){function t(e){return Object(a.a)(this,t),F(e.startsWith(tn),"argument-error"),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(c.a)(t,e),Object(i.a)(t,null,[{key:"credentialFromResult",value:function(e){return t.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=en.fromJSON(e);return F(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return en._create(r,n)}catch(a){return null}}}]),t}(Qt),rn=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,"twitter.com"))}return Object(c.a)(t,e),Object(i.a)(t,null,[{key:"credential",value:function(e,n){return Ft._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthAccessToken,a=n.oauthTokenSecret;if(!r||!a)return null;try{return t.credential(r,a)}catch(i){return null}}}]),t}(Yt);function an(e,t){return on.apply(this,arguments)}function on(){return(on=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signUp",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}rn.TWITTER_SIGN_IN_METHOD="twitter.com",rn.PROVIDER_ID="twitter.com";var un=function(){function e(t){Object(a.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(i.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(l.a)(j().mark(function t(n,r,a){var i,o,u,s,c=arguments;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Te._fromIdTokenResponse(n,a,i);case 3:return o=t.sent,u=sn(a),s=new e({user:o,providerId:u,_tokenResponse:a,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(l.a)(j().mark(function t(n,r,a){var i;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(a,!0);case 2:return i=sn(a),t.abrupt("return",new e({user:n,providerId:i,_tokenResponse:a,operationType:r}));case 4:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function sn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function cn(e){return ln.apply(this,arguments)}function ln(){return(ln=Object(l.a)(j().mark(function e(t){var n,r,a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=ut(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new un({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,an(r,{returnSecureToken:!0});case 7:return a=e.sent,e.next=10,un._fromIdTokenResponse(r,"signIn",a,!0);case 10:return i=e.sent,e.next=13,r._updateCurrentUser(i.user);case 13:return e.abrupt("return",i);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}var fn=function(e){function t(e,n,r,i){var u,c;return Object(a.a)(this,t),(u=Object(o.a)(this,Object(s.a)(t).call(this,n.code,n.message))).operationType=r,u.user=i,Object.setPrototypeOf(Object(f.a)(Object(f.a)(u)),t.prototype),u.customData={appName:e.name,tenantId:null!==(c=e.tenantId)&&void 0!==c?c:void 0,_serverResponse:n.customData._serverResponse,operationType:r},u}return Object(c.a)(t,e),Object(i.a)(t,null,[{key:"_fromErrorAndOperation",value:function(e,n,r,a){return new t(e,n,r,a)}}]),t}(v.c);function hn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw fn._fromErrorAndOperation(e,n,t,r);throw n})}function dn(e){return new Set(e.map(function(e){return e.providerId}).filter(function(e){return!!e}))}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(l.a)(j().mark(function e(t,n){var r,a,i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.p)(t),e.next=3,bn(!0,r,n);case 3:return e.t0=ue,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return a=e.sent,i=a.providerUserInfo,o=dn(i||[]),r.providerData=r.providerData.filter(function(e){return o.has(e.providerId)}),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(l.a)(j().mark(function e(t,n){var r,a,i=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]&&i[2],e.t0=ve,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",un._forOperation(t,"link",a));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bn(e,t,n){return gn.apply(this,arguments)}function gn(){return(gn=Object(l.a)(j().mark(function e(t,n,r){var a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(n);case 2:a=dn(n.providerData),i=!1===t?"provider-already-linked":"no-such-provider",F(a.has(r)===t,n.auth,i);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kn(e,t){return On.apply(this,arguments)}function On(){return(On=Object(l.a)(j().mark(function e(t,n){var r,a,i,o,u,s,c=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=t.auth,i="reauthenticate",e.prev=3,e.next=6,ve(t,hn(a,i,n,t),r);case 6:return F((o=e.sent).idToken,a,"internal-error"),F(u=pe(o.idToken),a,"internal-error"),s=u.sub,F(t.uid===s,a,"user-mismatch"),e.abrupt("return",un._forOperation(t,i,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&R(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}},e,null,[[3,15]])}))).apply(this,arguments)}function wn(e,t){return jn.apply(this,arguments)}function jn(){return(jn=Object(l.a)(j().mark(function e(t,n){var r,a,i,o,u=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],a="signIn",e.next=4,hn(t,a,n);case 4:return i=e.sent,e.next=7,un._fromIdTokenResponse(t,a,i);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _n(e,t){return xn.apply(this,arguments)}function xn(){return(xn=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wn(ut(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function En(e,t){return In.apply(this,arguments)}function In(){return(In=Object(l.a)(j().mark(function e(t,n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.p)(t),e.next=3,bn(!1,r,n.providerId);case 3:return e.abrupt("return",mn(r,n));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tn(e,t){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kn(Object(v.p)(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Cn(e,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:signInWithCustomToken",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function An(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(l.a)(j().mark(function e(t,n){var r,a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=ut(t),e.next=3,Cn(r,{token:n,returnSecureToken:!0});case 3:return a=e.sent,e.next=6,un._fromIdTokenResponse(r,"signIn",a);case 6:return i=e.sent,e.next=9,r._updateCurrentUser(i.user);case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Pn=function(){function e(t,n){Object(a.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(i.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Dn._fromServerResponse(e,t):"totpInfo"in t?Ln._fromServerResponse(e,t):R(e,"internal-error")}}]),e}(),Dn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,"phone",e))).phoneNumber=e.phoneInfo,n}return Object(c.a)(t,e),Object(i.a)(t,null,[{key:"_fromServerResponse",value:function(e,n){return new t(n)}}]),t}(Pn),Ln=function(e){function t(e){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,"totp",e))}return Object(c.a)(t,e),Object(i.a)(t,null,[{key:"_fromServerResponse",value:function(e,n){return new t(n)}}]),t}(Pn);function Mn(e,t,n){var r;F((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),F("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(F(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(F(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Fn(e,t,n){return Un.apply(this,arguments)}function Un(){return(Un=Object(l.a)(j().mark(function e(t,n,r){var a,i,o,u;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ut(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(a=i._getRecaptchaConfig())||void 0===a?void 0:a.emailPasswordEnabled)){e.next=11;break}return e.next=5,rt(i,o,"getOobCode",!0);case 5:return u=e.sent,r&&Mn(i,u,r),e.next=9,xt(i,u);case 9:e.next=14;break;case 11:return r&&Mn(i,o,r),e.next=14,xt(i,o).catch(function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,rt(i,o,"getOobCode",!0);case 4:return n=e.sent,r&&Mn(i,n,r),e.next=8,xt(i,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vn(e,t,n){return zn.apply(this,arguments)}function zn(){return(zn=Object(l.a)(j().mark(function e(t,n,r){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt(Object(v.p)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bn(e,t){return qn.apply(this,arguments)}function qn(){return(qn=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt(Object(v.p)(t),{oobCode:n});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gn(e,t){return Kn.apply(this,arguments)}function Kn(){return(Kn=Object(l.a)(j().mark(function e(t,n){var r,a,i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.p)(t),e.next=3,dt(r,{oobCode:n});case 3:a=e.sent,F(i=a.requestType,r,"internal-error"),e.t0=i,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return F(a.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:F(a.mfaInfo,r,"internal-error");case 13:F(a.email,r,"internal-error");case 14:return o=null,a.mfaInfo&&(o=Pn._fromServerResponse(ut(r),a.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.newEmail:a.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.email:a.newEmail)||null,multiFactorInfo:o},operation:i});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Hn(e,t){return Wn.apply(this,arguments)}function Wn(){return(Wn=Object(l.a)(j().mark(function e(t,n){var r,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(Object(v.p)(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",a.email);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qn(e,t,n){return Yn.apply(this,arguments)}function Yn(){return(Yn=Object(l.a)(j().mark(function e(t,n,r){var a,i,o,u,s,c,f;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ut(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(a=i._getRecaptchaConfig())||void 0===a?void 0:a.emailPasswordEnabled)){e.next=9;break}return e.next=5,rt(i,o,"signUpPassword");case 5:s=e.sent,u=an(i,s),e.next=10;break;case 9:u=an(i,o).catch(function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,rt(i,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",an(i,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch(function(e){return Promise.reject(e)});case 12:return c=e.sent,e.next=15,un._fromIdTokenResponse(i,"signIn",c);case 15:return f=e.sent,e.next=18,i._updateCurrentUser(f.user);case 18:return e.abrupt("return",f);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $n(e,t,n){return _n(Object(v.p)(e),Wt.credential(t,n))}function Jn(e,t,n){return Xn.apply(this,arguments)}function Xn(){return(Xn=Object(l.a)(j().mark(function e(t,n,r){var a,i,o,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){F(t.handleCodeInApp,i,"argument-error"),t&&Mn(i,e,t)},i=ut(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(a=i._getRecaptchaConfig())||void 0===a?void 0:a.emailPasswordEnabled)){e.next=12;break}return e.next=6,rt(i,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,It(i,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,It(i,o).catch(function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,rt(i,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,It(i,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zn(e,t){var n=Ht.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function er(e,t,n){return tr.apply(this,arguments)}function tr(){return(tr=Object(l.a)(j().mark(function e(t,n,r){var a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(v.p)(t),F((i=Wt.credentialWithLink(n,r||z()))._tenantId===(a.tenantId||null),a,"tenant-id-mismatch"),e.abrupt("return",_n(a,i));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function nr(e,t){return rr.apply(this,arguments)}function rr(){return(rr=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:createAuthUri",Y(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ar(e,t){return ir.apply(this,arguments)}function ir(){return(ir=Object(l.a)(j().mark(function e(t,n){var r,a,i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=B()?z():"http://localhost",a={identifier:n,continueUri:r},e.next=4,nr(Object(v.p)(t),a);case 4:return i=e.sent,o=i.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function or(e,t){return ur.apply(this,arguments)}function ur(){return(ur=Object(l.a)(j().mark(function e(t,n){var r,a,i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.p)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,i={requestType:"VERIFY_EMAIL",idToken:a},n&&Mn(r.auth,i,n),e.next=8,jt(r.auth,i);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function sr(e,t,n){return cr.apply(this,arguments)}function cr(){return(cr=Object(l.a)(j().mark(function e(t,n,r){var a,i,o,u;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(v.p)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:n},r&&Mn(a.auth,o,r),e.next=8,St(a.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lr(e,t){return fr.apply(this,arguments)}function fr(){return(fr=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hr(e,t){return dr.apply(this,arguments)}function dr(){return(dr=Object(l.a)(j().mark(function e(t,n){var r,a,i,o,u,s,c;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,a=n.photoURL,void 0!==r||void 0!==a){e.next=3;break}return e.abrupt("return");case 3:return i=Object(v.p)(t),e.next=6,i.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:a,returnSecureToken:!0},e.next=10,ve(i,lr(i.auth,u));case 10:return s=e.sent,i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null,(c=i.providerData.find(function(e){return"password"===e.providerId}))&&(c.displayName=i.displayName,c.photoURL=i.photoURL),e.next=17,i._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pr(e,t){return mr(Object(v.p)(e),t,null)}function vr(e,t){return mr(Object(v.p)(e),null,t)}function mr(e,t,n){return yr.apply(this,arguments)}function yr(){return(yr=Object(l.a)(j().mark(function e(t,n,r){var a,i,o,u;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,o={idToken:i,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ve(t,vt(a,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var br=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(a.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},gr=function(e){function t(e,n,r,i){var u;return Object(a.a)(this,t),(u=Object(o.a)(this,Object(s.a)(t).call(this,e,n,r))).username=i,u}return Object(c.a)(t,e),t}(br),kr=function(e){function t(e,n){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e,"facebook.com",n))}return Object(c.a)(t,e),t}(br),Or=function(e){function t(e,n){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e,"github.com",n,"string"===typeof(null===n||void 0===n?void 0:n.login)?null===n||void 0===n?void 0:n.login:null))}return Object(c.a)(t,e),t}(gr),wr=function(e){function t(e,n){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e,"google.com",n))}return Object(c.a)(t,e),t}(br),jr=function(e){function t(e,n,r){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e,"twitter.com",n,r))}return Object(c.a)(t,e),t}(gr);function _r(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,a=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},i=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=pe(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new br(i,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new kr(i,a);case"github.com":return new Or(i,a);case"google.com":return new wr(i,a);case"twitter.com":return new jr(i,a,e.screenName||null);case"custom":case"anonymous":return new br(i,null);default:return new br(i,r,a)}}(n)}var xr=function(){function e(t,n,r){Object(a.a)(this,e),this.type=t,this.credential=n,this.auth=r}return Object(i.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(p.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Er=function(){function e(t,n,r){Object(a.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Object(i.a)(e,[{key:"resolveSignIn",value:function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ut(t),a=n.customData._serverResponse,i=(a.mfaInfo||[]).map(function(e){return Pn._fromServerResponse(r,e)});F(a.mfaPendingCredential,r,"internal-error");var o=xr._fromMfaPendingCredential(a.mfaPendingCredential);return new e(o,i,function(){var e=Object(l.a)(j().mark(function e(t){var i,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:i=e.sent,delete a.mfaInfo,delete a.mfaPendingCredential,u=Object.assign(Object.assign({},a),{idToken:i.idToken,refreshToken:i.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,un._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return F(n.user,r,"internal-error"),e.abrupt("return",un._forOperation(n.user,n.operationType,u));case 17:R(r,"internal-error");case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ir(e,t){var n,r=Object(v.p)(e),a=t;return F(t.customData.operationType,r,"argument-error"),F(null===(n=a.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Er._fromError(r,a)}function Tr(e,t){return $(e,"POST","/v2/accounts/mfaEnrollment:start",Y(e,t))}function Sr(e,t){return $(e,"POST","/v2/accounts/mfaEnrollment:finalize",Y(e,t))}var Cr=function(){function e(t){var n=this;Object(a.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload(function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map(function(e){return Pn._fromServerResponse(t.auth,e)}))})}return Object(i.a)(e,[{key:"getSession",value:function(){var e=Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=xr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Object(l.a)(j().mark(function e(t,n){var r,a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return a=e.sent,e.next=6,ve(this.user,r._process(this.user.auth,a,n));case 6:return i=e.sent,e.next=9,this.user._updateTokensIfNecessary(i);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,ve(this.user,$(i=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Y(i,{idToken:r,mfaEnrollmentId:n})));case 7:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter(function(e){return e.uid!==n}),e.next=11,this.user._updateTokensIfNecessary(a);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var i},e,this,[[4,15]])}));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Nr=new WeakMap;function Ar(e){var t=Object(v.p)(e);return Nr.has(t)||Nr.set(t,Cr._fromUser(t)),Nr.get(t)}var Rr=function(){function e(t,n){Object(a.a)(this,e),this.storageRetriever=t,this.type=n}return Object(i.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Pr=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this,function(){return window.localStorage},"LOCAL"))).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(v.q)();return Me(e)||qe(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ge(),e._shouldAllowMigration=!0,e}return Object(c.a)(t,e),Object(i.a)(t,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],a=this.storage.getItem(r),i=this.localCache[r];a!==i&&e(r,i,a)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var a=this.storage.getItem(r);if(e.newValue!==a)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var i=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Object(v.u)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}else this.forAllChangedKeys(function(e,n,r){t.notifyListeners(e,r)})}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,a=Array.from(n);r<a.length;r++){(0,a[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){e.forAllChangedKeys(function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(l.a)(j().mark(function e(n,r){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(t.prototype),"_set",this).call(this,n,r);case 2:this.localCache[n]=JSON.stringify(r);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(l.a)(j().mark(function e(n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(t.prototype),"_get",this).call(this,n);case 2:return r=e.sent,this.localCache[n]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(l.a)(j().mark(function e(n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(t.prototype),"_remove",this).call(this,n);case 2:delete this.localCache[n];case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(Rr);Pr.type="LOCAL";var Dr=Pr,Lr=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,function(){return window.sessionStorage},"SESSION"))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),t}(Rr);Lr.type="SESSION";var Mr=Lr;function Fr(e){return Promise.all(e.map(function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()))}var Ur=function(){function e(t){Object(a.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(i.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r,a,i,o,u,s,c;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,a=r.eventId,i=r.eventType,o=r.data,null===(u=this.handlersMap[i])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:a,eventType:i}),s=Array.from(u).map(function(){var e=Object(l.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=9,Fr(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:c});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find(function(e){return e.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Vr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ur.receivers=[];var zr=function(){function e(t){Object(a.a)(this,e),this.target=t,this.handlers=new Set}return Object(i.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(l.a)(j().mark(function e(t,n){var r,a,i,o,u=this,s=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,a="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise(function(e,s){var c=Vr("",20);a.port1.start();var l=setTimeout(function(){s(new Error("unsupported_event"))},r);o={messageChannel:a,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),i=setTimeout(function(){s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),e(n.data.response);break;default:clearTimeout(l),clearTimeout(i),s(new Error("invalid_response"))}}},u.handlers.add(o),a.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[a.port2])}).finally(function(){o&&u.removeMessageHandler(o)}));case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Br(){return window}function qr(e){Br().location.href=e}function Gr(){return"undefined"!==typeof Br().WorkerGlobalScope&&"function"===typeof Br().importScripts}function Kr(){return Hr.apply(this,arguments)}function Hr(){return(Hr=Object(l.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function Wr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Qr="firebaseLocalStorageDb",Yr=1,$r="firebaseLocalStorage",Jr="fbase_key",Xr=function(){function e(t){Object(a.a)(this,e),this.request=t}return Object(i.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.request.addEventListener("success",function(){t(e.request.result)}),e.request.addEventListener("error",function(){n(e.request.error)})})}}]),e}();function Zr(e,t){return e.transaction([$r],t?"readwrite":"readonly").objectStore($r)}function ea(){var e=indexedDB.deleteDatabase(Qr);return new Xr(e).toPromise()}function ta(){var e=indexedDB.open(Qr,Yr);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var t=e.result;try{t.createObjectStore($r,{keyPath:Jr})}catch(r){n(r)}}),e.addEventListener("success",Object(l.a)(j().mark(function n(){var r;return j().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains($r)){n.next=12;break}return r.close(),n.next=5,ea();case 5:return n.t0=t,n.next=8,ta();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}},n)})))})}function na(e,t,n){return ra.apply(this,arguments)}function ra(){return(ra=Object(l.a)(j().mark(function e(t,n,r){var a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zr(t,!0).put((a={},Object(p.a)(a,Jr,n),Object(p.a)(a,"value",r),a)),e.abrupt("return",new Xr(i).toPromise());case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function aa(e,t){return ia.apply(this,arguments)}function ia(){return(ia=Object(l.a)(j().mark(function e(t,n){var r,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zr(t,!1).get(n),e.next=3,new Xr(r).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oa(e,t){var n=Zr(e,!0).delete(t);return new Xr(n).toPromise()}var ua=function(){function e(){Object(a.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return Object(i.a)(e,[{key:"_openDb",value:function(){var e=Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ta();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(l.a)(j().mark(function e(){var t=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ur._getInstance(Gr()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(l.a)(j().mark(function e(n,r){var a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return a=e.sent,e.abrupt("return",{keyProcessed:a.includes(r.key)});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(l.a)(j().mark(function e(){var t,n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new zr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(l.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Wr()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(l.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ta();case 5:return t=e.sent,e.next=8,na(t,"__sak","1");case 8:return e.next=10,oa(t,"__sak");case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(l.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}},e,this,[[1,,4,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(l.a)(j().mark(function e(t,n){var r=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries(function(e){return na(e,t,n)});case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){return aa(e,t)});case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(l.a)(j().mark(function e(t){var n=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries(function(e){return oa(e,t)});case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(l.a)(j().mark(function e(){var t,n,r,a,i,o,u,s,c,l,f;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){var t=Zr(e,!1).getAll();return new Xr(t).toPromise()});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,a=O(t);try{for(a.s();!(i=a.n()).done;)o=i.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){a.e(h)}finally{a.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,a=Array.from(n);r<a.length;r++){(0,a[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(l.a)(j().mark(function t(){return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}},t)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ua.type="LOCAL";var sa=ua;function ca(e,t){return $(e,"POST","/v2/accounts/mfaSignIn:start",Y(e,t))}function la(e,t){return $(e,"POST","/v2/accounts/mfaSignIn:finalize",Y(e,t))}var fa=1e12,ha=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.counter=fa,this._widgets=new Map}return Object(i.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new da(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||fa;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||fa;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||fa,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),da=function(){function e(t,n,r){var i=this;Object(a.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"===typeof t?document.getElementById(t):t;F(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(i.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(a){}e.timerId=window.setTimeout(function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(a){}e.isVisible&&e.execute()},6e4)},500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var pa=et("rcb"),va=new G(3e4,6e4),ma=function(){function e(){var t;Object(a.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Br().grecaptcha)||void 0===t?void 0:t.render)}return Object(i.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return F(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&$e(Br().grecaptcha)?Promise.resolve(Br().grecaptcha):new Promise(function(r,a){var i=Br().setTimeout(function(){a(P(e,"network-request-failed"))},va.get());Br()[pa]=function(){Br().clearTimeout(i),delete Br()[pa];var o=Br().grecaptcha;if(o&&$e(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else a(P(e,"internal-error"))},Ze("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Object(v.A)({onload:pa,render:"explicit",hl:n}))).catch(function(){clearTimeout(i),a(P(e,"internal-error"))})})}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Br().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var ya=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,[{key:"load",value:function(){var e=Object(l.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ha(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ba="recaptcha",ga={theme:"light",type:"image"},ka=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ga),r=arguments.length>2?arguments[2]:void 0;Object(a.a)(this,e),this.parameters=n,this.type=ba,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ut(r),this.isInvisible="invisible"===this.parameters.size,F("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;F(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ya:new ma,this.validateStartingState()}return Object(i.a)(e,[{key:"verify",value:function(){var e=Object(l.a)(j().mark(function e(){var t,n,r,a=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise(function(e){a.tokenChangeListeners.add(function t(n){n&&(a.tokenChangeListeners.delete(t),e(n))}),a.isInvisible&&n.execute(t)}));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(function(t){throw e.renderPromise=null,t}),this.renderPromise)}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(function(t){e.container.removeChild(t)})}},{key:"validateStartingState",value:function(){F(!this.parameters.sitekey,this.auth,"argument-error"),F(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),F("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach(function(e){return e(n)}),"function"===typeof e)e(n);else if("string"===typeof e){var r=Br()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){F(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Object(l.a)(j().mark(function e(){var t,n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(l.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(B()&&!Gr(),this.auth,"internal-error"),e.next=3,Oa();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,He(this.auth);case 8:F(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return F(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Oa(){var e=null;return new Promise(function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()}).catch(function(t){throw e&&window.removeEventListener("load",e),t})}var wa=function(){function e(t,n){Object(a.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(i.a)(e,[{key:"confirm",value:function(e){var t=Kt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ja(e,t,n){return _a.apply(this,arguments)}function _a(){return(_a=Object(l.a)(j().mark(function e(t,n,r){var a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ut(t),e.next=3,Sa(a,n,Object(v.p)(r));case 3:return i=e.sent,e.abrupt("return",new wa(i,function(e){return _n(a,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xa(e,t,n){return Ea.apply(this,arguments)}function Ea(){return(Ea=Object(l.a)(j().mark(function e(t,n,r){var a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(v.p)(t),e.next=3,bn(!1,a,"phone");case 3:return e.next=5,Sa(a.auth,n,Object(v.p)(r));case 5:return i=e.sent,e.abrupt("return",new wa(i,function(e){return En(a,e)}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ia(e,t,n){return Ta.apply(this,arguments)}function Ta(){return(Ta=Object(l.a)(j().mark(function e(t,n,r){var a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(v.p)(t),e.next=3,Sa(a.auth,n,Object(v.p)(r));case 3:return i=e.sent,e.abrupt("return",new wa(i,function(e){return Tn(a,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Sa(e,t,n){return Ca.apply(this,arguments)}function Ca(){return(Ca=Object(l.a)(j().mark(function e(t,n,r){var a,i,o,u,s,c,l,f,h;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(i=e.sent,e.prev=3,F("string"===typeof i,t,"argument-error"),F(r.type===ba,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return F("enroll"===u.type,t,"internal-error"),e.next=13,Tr(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return F("signin"===u.type,t,"internal-error"),F(c=(null===(a=o.multiFactorHint)||void 0===a?void 0:a.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ca(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:i}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ut(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}},e,null,[[3,,31,34]])}))).apply(this,arguments)}function Na(e,t){return Aa.apply(this,arguments)}function Aa(){return(Aa=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(Object(v.p)(t),n);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ra=function(){function e(t){Object(a.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=ut(t)}return Object(i.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return Sa(this.auth,e,Object(v.p)(t))}}],[{key:"credential",value:function(e,t){return Kt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Kt._fromTokenResponse(n,r):null}}]),e}();function Pa(e,t){return t?Ce(t):(F(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ra.PROVIDER_ID="phone",Ra.PHONE_SIGN_IN_METHOD="phone";var Da=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,"custom","custom"))).params=e,n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"_getIdTokenResponse",value:function(e){return Lt(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Lt(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Lt(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),t}(ht);function La(e){return wn(e.auth,new Da(e),e.bypassAuthState)}function Ma(e){var t=e.auth,n=e.user;return F(n,t,"internal-error"),kn(n,new Da(e),e.bypassAuthState)}function Fa(e){return Ua.apply(this,arguments)}function Ua(){return(Ua=Object(l.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,F(r=t.user,n,"internal-error"),e.abrupt("return",mn(r,new Da(t),t.bypassAuthState));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Va=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(a.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(i.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(l.a)(j().mark(function t(n,r){return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r,a,i,o,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,a=t.postBody,i=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}},e,this,[[5,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return La;case"linkViaPopup":case"linkViaRedirect":return Fa;case"reauthViaPopup":case"reauthViaRedirect":return Ma;default:R(this.auth,"internal-error")}}},{key:"resolve",value:function(e){V(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){V(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),za=new G(2e3,1e4);function Ba(e,t,n){return qa.apply(this,arguments)}function qa(){return(qa=Object(l.a)(j().mark(function e(t,n,r){var a,i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ut(t),L(t,n,Qt),i=Pa(a,r),o=new Qa(a,"signInViaPopup",n,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ga(e,t,n){return Ka.apply(this,arguments)}function Ka(){return(Ka=Object(l.a)(j().mark(function e(t,n,r){var a,i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((a=Object(v.p)(t)).auth,n,Qt),i=Pa(a.auth,r),o=new Qa(a.auth,"reauthViaPopup",n,i,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ha(e,t,n){return Wa.apply(this,arguments)}function Wa(){return(Wa=Object(l.a)(j().mark(function e(t,n,r){var a,i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((a=Object(v.p)(t)).auth,n,Qt),i=Pa(a.auth,r),o=new Qa(a.auth,"linkViaPopup",n,i,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Qa=function(e){function t(e,n,r,i,u){var c;return Object(a.a)(this,t),(c=Object(o.a)(this,Object(s.a)(t).call(this,e,n,i,u))).provider=r,c.authWindow=null,c.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=Object(f.a)(Object(f.a)(c)),c}return Object(c.a)(t,e),Object(i.a)(t,[{key:"executeNotNull",value:function(){var e=Object(l.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return F(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(l.a)(j().mark(function e(){var t,n=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return V(1===this.filter.length,"Popup operations only handle one event"),t=Vr(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(function(e){n.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,function(e){e||n.reject(P(n.auth,"web-storage-unsupported"))}),this.pollUserCancellation();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){this.reject(P(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;null!==(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)&&void 0!==r&&r.closed?e.pollId=window.setTimeout(function(){e.pollId=null,e.reject(P(e.auth,"popup-closed-by-user"))},2e3):e.pollId=window.setTimeout(t,za.get())}()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}}]),t}(Va);Qa.currentPopupAction=null;var Ya="pendingRedirect",$a=new Map,Ja=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(a.a)(this,t),(r=Object(o.a)(this,Object(s.a)(t).call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i))).eventId=null,r}return Object(c.a)(t,e),Object(i.a)(t,[{key:"execute",value:function(){var e=Object(l.a)(j().mark(function e(){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=$a.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Xa(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(u.a)(Object(s.a)(t.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,n=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),n=function(){return Promise.reject(e.t1)};case 20:$a.set(this.auth._key(),n);case 21:return this.bypassAuthState||$a.set(this.auth._key(),function(){return Promise.resolve(null)}),e.abrupt("return",n());case 23:case"end":return e.stop()}},e,this,[[2,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(l.a)(j().mark(function e(n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==n.type){e.next=4;break}return e.abrupt("return",Object(u.a)(Object(s.a)(t.prototype),"onAuthEvent",this).call(this,n));case 4:if("unknown"!==n.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!n.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(n.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(u.a)(Object(s.a)(t.prototype),"onAuthEvent",this).call(this,n));case 16:this.resolve(null);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(l.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),t}(Va);function Xa(e,t){return Za.apply(this,arguments)}function Za(){return(Za=Object(l.a)(j().mark(function e(t,n){var r,a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=ai(n),a=ri(t),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(r);case 8:return e.t0=e.sent,i="true"===e.t0,e.next=12,a._remove(r);case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return(ti=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ri(t)._set(ai(n),"true"));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ni(e,t){$a.set(e._key(),t)}function ri(e){return Ce(e._redirectPersistence)}function ai(e){return Re(Ya,e.config.apiKey,e.name)}function ii(e,t,n){return function(e,t,n){return oi.apply(this,arguments)}(e,t,n)}function oi(){return(oi=Object(l.a)(j().mark(function e(t,n,r){var a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ut(t),L(t,n,Qt),e.next=4,a._initializationPromise;case 4:return i=Pa(a,r),e.next=7,ei(i,a);case 7:return e.abrupt("return",i._openRedirect(a,n,"signInViaRedirect"));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ui(e,t,n){return function(e,t,n){return si.apply(this,arguments)}(e,t,n)}function si(){return(si=Object(l.a)(j().mark(function e(t,n,r){var a,i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((a=Object(v.p)(t)).auth,n,Qt),e.next=4,a.auth._initializationPromise;case 4:return i=Pa(a.auth,r),e.next=7,ei(i,a.auth);case 7:return e.next=9,vi(a);case 9:return o=e.sent,e.abrupt("return",i._openRedirect(a.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ci(e,t,n){return function(e,t,n){return li.apply(this,arguments)}(e,t,n)}function li(){return(li=Object(l.a)(j().mark(function e(t,n,r){var a,i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L((a=Object(v.p)(t)).auth,n,Qt),e.next=4,a.auth._initializationPromise;case 4:return i=Pa(a.auth,r),e.next=7,bn(!1,a,n.providerId);case 7:return e.next=9,ei(i,a.auth);case 9:return e.next=11,vi(a);case 11:return o=e.sent,e.abrupt("return",i._openRedirect(a.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fi(e,t){return hi.apply(this,arguments)}function hi(){return(hi=Object(l.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(t)._initializationPromise;case 2:return e.abrupt("return",di(t,n,!1));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function di(e,t){return pi.apply(this,arguments)}function pi(){return(pi=Object(l.a)(j().mark(function e(t,n){var r,a,i,o,u,s=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],a=ut(t),i=Pa(a,n),o=new Ja(a,i,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,a._persistUserIfCurrent(u.user);case 11:return e.next=13,a._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vi(e){return mi.apply(this,arguments)}function mi(){return(mi=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vr("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var yi=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(i.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach(function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gi(e);default:return!1}}(e)?n:(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0),n)}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!gi(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(P(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bi(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(bi(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function bi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(e){return e}).join("-")}function gi(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ki(e){return Oi.apply(this,arguments)}function Oi(){return(Oi=Object(l.a)(j().mark(function e(t){var n,r=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",$(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var wi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ji=/^https?/;function _i(){return(_i=Object(l.a)(j().mark(function e(t){var n,r,a,i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ki(t);case 4:n=e.sent,r=n.authorizedDomains,a=O(r),e.prev=7,a.s();case 9:if((i=a.n()).done){e.next=20;break}if(o=i.value,e.prev=11,!xi(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:R(t,"unauthorized-domain");case 29:case"end":return e.stop()}},e,null,[[7,22,25,28],[11,16]])}))).apply(this,arguments)}function xi(e){var t=z(),n=new URL(t),r=n.protocol,a=n.hostname;if(e.startsWith("chrome-extension://")){var i=new URL(e);return""===i.hostname&&""===a?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&i.hostname===a}if(!ji.test(r))return!1;if(wi.test(e))return a===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}var Ei=new G(3e4,6e4);function Ii(){var e=Br().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(d.a)(e.H[r].L),e.CP)for(var a=0;a<e.CP.length;a++)e.CP[a]=null}}var Ti=null;function Si(e){return Ti=Ti||function(e){return new Promise(function(t,n){var r,a,i;function o(){Ii(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ii(),n(P(e,"network-request-failed"))},timeout:Ei.get()})}if(null===(a=null===(r=Br().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Br().gapi)||void 0===i||!i.load){var u=et("iframefcb");return Br()[u]=function(){gapi.load?o():n(P(e,"network-request-failed"))},Ze("https://apis.google.com/js/api.js?onload=".concat(u)).catch(function(e){return n(e)})}o()}}).catch(function(e){throw Ti=null,e})}(e)}var Ci=new G(5e3,15e3),Ni="__/auth/iframe",Ai="emulator/auth/iframe",Ri={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Di(e){var t=e.config;F(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?K(t,Ai):"https://".concat(e.config.authDomain,"/").concat(Ni),r={apiKey:t.apiKey,appName:e.name,v:m.SDK_VERSION},a=Pi.get(e.config.apiHost);a&&(r.eid=a);var i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(Object(v.A)(r).slice(1))}function Li(e){return Mi.apply(this,arguments)}function Mi(){return(Mi=Object(l.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Si(t);case 2:return n=e.sent,F(r=Br().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Di(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ri,dontclear:!0},function(e){return new Promise(function(){var n=Object(l.a)(j().mark(function n(r,a){var i,o,u;return j().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Br().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:i=P(t,"network-request-failed"),o=Br().setTimeout(function(){a(i)},Ci.get()),e.ping(u).then(u,function(){a(i)});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Fi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ui=500,Vi=600,zi="_blank",Bi="http://localhost",qi=function(){function e(t){Object(a.a)(this,e),this.window=t,this.associatedEvent=null}return Object(i.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Gi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ui,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vi,i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Fi),{width:r.toString(),height:a.toString(),top:i,left:o}),c=Object(v.q)().toLowerCase();n&&(u=Fe(c)?zi:n),Le(c)&&(t=t||Bi,s.scrollbars="yes");var l=Object.entries(s).reduce(function(e,t){var n=Object(h.a)(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")},"");if(function(){var e;return qe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new qi(null);var f=window.open(t||"",u,l);F(f,e,"popup-blocked");try{f.focus()}catch(d){}return new qi(f)}var Ki="__/auth/handler",Hi="emulator/auth/handler",Wi=encodeURIComponent("fac");function Qi(e,t,n,r,a,i){return Yi.apply(this,arguments)}function Yi(){return(Yi=Object(l.a)(j().mark(function e(t,n,r,a,i,o){var u,s,c,l,f,d,p,y,b,g,k,O,w;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(F(t.config.authDomain,t,"auth-domain-config-required"),F(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:a,v:m.SDK_VERSION,eventId:i},n instanceof Qt)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Object(v.t)(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=Object(h.a)(c[s],2),f=l[0],d=l[1],u[f]=d;for(n instanceof Yt&&(p=n.getScopes().filter(function(e){return""!==e})).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),y=u,b=0,g=Object.keys(y);b<g.length;b++)k=g[b],void 0===y[k]&&delete y[k];return e.next=10,t._getAppCheckToken();case 10:return O=e.sent,w=O?"#".concat(Wi,"=").concat(encodeURIComponent(O)):"",e.abrupt("return","".concat($i(t),"?").concat(Object(v.A)(y).slice(1)).concat(w));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $i(e){var t=e.config;return t.emulator?K(t,Hi):"https://".concat(t.authDomain,"/").concat(Ki)}var Ji=function(){function e(){Object(a.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mr,this._completeRedirectFn=di,this._overrideRedirectResult=ni}return Object(i.a)(e,[{key:"_openPopup",value:function(){var e=Object(l.a)(j().mark(function e(t,n,r,a){var i,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return V(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),e.next=3,Qi(t,n,r,z(),a);case 3:return o=e.sent,e.abrupt("return",Gi(t,o,Vr()));case 5:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(l.a)(j().mark(function e(t,n,r,a){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Qi(t,n,r,z(),a);case 4:return qr(e.sent),e.abrupt("return",new Promise(function(){}));case 7:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],a=r.manager,i=r.promise;return a?Promise.resolve(a):(V(i,"If manager is not set, promise should be"),i)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch(function(){delete t.eventManagers[n]}),o}},{key:"initAndGetManager",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(t);case 2:return n=e.sent,r=new yi(t),n.register("authEvent",function(e){return F(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},function(n){var r,a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==a&&t(!!a),R(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _i.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ge()||Me()||qe()}}]),e}(),Xi=function(){function e(t){Object(a.a)(this,e),this.factorId=t}return Object(i.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return U("unexpected MultiFactorSessionType")}}}]),e}(),Zi=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,"phone"))).credential=e,n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return $(e,"POST","/v2/accounts/mfaEnrollment:finalize",Y(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return $(e,"POST","/v2/accounts/mfaSignIn:finalize",Y(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new t(e)}}]),t}(Xi),eo=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"assertion",value:function(e){return Zi._fromCredential(e)}}]),e}();eo.FACTOR_ID="phone",(function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"assertionForEnrollment",value:function(e,t){return to._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return to._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Object(l.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,a=n.auth,i={idToken:n.credential,totpEnrollmentInfo:{}},$(a,"POST","/v2/accounts/mfaEnrollment:start",Y(a,i));case 4:return r=e.sent,e.abrupt("return",no._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var a,i},e)}));return function(t){return e.apply(this,arguments)}}()}]),e}()).FACTOR_ID="totp";var to=function(e){function t(e,n,r){var i;return Object(a.a)(this,t),(i=Object(o.a)(this,Object(s.a)(t).call(this,"totp"))).otp=e,i.enrollmentId=n,i.secret=r,i}return Object(c.a)(t,e),Object(i.a)(t,[{key:"_finalizeEnroll",value:function(){var e=Object(l.a)(j().mark(function e(t,n,r){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Sr(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Object(l.a)(j().mark(function e(t,n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",la(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,n){return new t(n,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,n){return new t(n,e)}}]),t}(Xi),no=function(){function e(t,n,r,i,o,u,s){Object(a.a)(this,e),this.sessionInfo=u,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=o}return Object(i.a)(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(ro(e)||ro(t))&&(r=!0),r&&(ro(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),ro(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function ro(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var ao="@firebase/auth",io="0.23.0",oo=function(){function e(t){Object(a.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(i.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(l.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged(function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var uo;Object(v.o)("authIdTokenMaxAge");function so(){so=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),u=new x(a||[]);return r(o,"_invoke",{value:O(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,i,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,i)&&(v=y);var b=p.prototype=h.prototype=Object.create(v);function g(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t(function(a,o){!function r(a,i,o,u){var s=l(e[a],e,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,i,a,o)})}return a=a?a.then(o,o):o()}})}function O(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return I()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=l(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(k.prototype),s(k.prototype,o,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new k(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(b),s(b,u,"Generator"),s(b,i,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function co(){return window}uo="Browser",Object(m._registerComponent)(new k.a("auth",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;F(u&&!u.includes(":"),"invalid-api-key",{appName:r.name}),F(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:uo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ke(uo)},l=new ot(r,a,i,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ce);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("auth-internal").initialize()})),Object(m._registerComponent)(new k.a("auth-internal",function(e){return function(e){return new oo(e)}(ut(e.getProvider("auth").getImmediate()))},"PRIVATE").setInstantiationMode("EXPLICIT")),Object(m.registerVersion)(ao,io,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(uo)),Object(m.registerVersion)(ao,io,"esm2017"),n.d(t,"x",function(){return Do}),n.d(t,"F",function(){return Ro}),n.d(t,"a",function(){return x}),n.d(t,"b",function(){return ht}),n.d(t,"c",function(){return Wt}),n.d(t,"d",function(){return Jt}),n.d(t,"e",function(){return Zt}),n.d(t,"f",function(){return Xt}),n.d(t,"g",function(){return Ft}),n.d(t,"h",function(){return $t}),n.d(t,"i",function(){return Ra}),n.d(t,"j",function(){return eo}),n.d(t,"k",function(){return _}),n.d(t,"l",function(){return ka}),n.d(t,"m",function(){return en}),n.d(t,"n",function(){return nn}),n.d(t,"o",function(){return rn}),n.d(t,"p",function(){return F}),n.d(t,"q",function(){return ut}),n.d(t,"r",function(){return R}),n.d(t,"s",function(){return Vr}),n.d(t,"t",function(){return Ce}),n.d(t,"u",function(){return di}),n.d(t,"v",function(){return ni}),n.d(t,"w",function(){return Re}),n.d(t,"y",function(){return Bn}),n.d(t,"z",function(){return Dr}),n.d(t,"A",function(){return Ji}),n.d(t,"B",function(){return Mr}),n.d(t,"C",function(){return Gn}),n.d(t,"D",function(){return Vn}),n.d(t,"E",function(){return ct}),n.d(t,"G",function(){return Qn}),n.d(t,"H",function(){return I}),n.d(t,"I",function(){return ar}),n.d(t,"J",function(){return _r}),n.d(t,"K",function(){return Ir}),n.d(t,"L",function(){return fi}),n.d(t,"M",function(){return Ae}),n.d(t,"N",function(){return sa}),n.d(t,"O",function(){return Zn}),n.d(t,"P",function(){return En}),n.d(t,"Q",function(){return xa}),n.d(t,"R",function(){return Ha}),n.d(t,"S",function(){return ci}),n.d(t,"T",function(){return Ar}),n.d(t,"U",function(){return Tn}),n.d(t,"V",function(){return Ia}),n.d(t,"W",function(){return Ga}),n.d(t,"X",function(){return ui}),n.d(t,"Y",function(){return or}),n.d(t,"Z",function(){return Fn}),n.d(t,"ab",function(){return Jn}),n.d(t,"bb",function(){return cn}),n.d(t,"cb",function(){return _n}),n.d(t,"db",function(){return An}),n.d(t,"eb",function(){return $n}),n.d(t,"fb",function(){return er}),n.d(t,"gb",function(){return ja}),n.d(t,"hb",function(){return Ba}),n.d(t,"ib",function(){return ii}),n.d(t,"jb",function(){return pn}),n.d(t,"kb",function(){return pr}),n.d(t,"lb",function(){return vr}),n.d(t,"mb",function(){return Na}),n.d(t,"nb",function(){return hr}),n.d(t,"ob",function(){return sr}),n.d(t,"pb",function(){return Hn});var lo=2e3;function fo(e,t,n){return ho.apply(this,arguments)}function ho(){return(ho=Object(l.a)(so().mark(function e(t,n,r){var a,i,o,u,s;return so().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=co(),o=i.BuildInfo,V(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,go(n.sessionId);case 4:return u=e.sent,s={},qe()?s.ibi=o.packageName:Ve()?s.apn=o.packageName:R(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Qi(t,r,n.type,void 0,null!==(a=n.eventId)&&void 0!==a?a:void 0,s));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function po(){return(po=Object(l.a)(so().mark(function e(t){var n,r,a;return so().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=co(),r=n.BuildInfo,a={},qe()?a.iosBundleId=r.packageName:Ve()?a.androidPackageName=r.packageName:R(t,"operation-not-supported-in-this-environment"),e.next=5,ki(t,a);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vo(e){var t=co().cordova;return new Promise(function(n){t.plugins.browsertab.isAvailable(function(r){var a=null;r?t.plugins.browsertab.openUrl(e):a=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.q)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(a)})})}function mo(e,t,n){return yo.apply(this,arguments)}function yo(){return(yo=Object(l.a)(so().mark(function e(t,n,r){var a,i,o;return so().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=co(),i=a.cordova,o=function(){},e.prev=2,e.next=5,new Promise(function(e,a){var u=null;function s(){var t;e();var n=null===(t=i.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout(function(){a(P(t,"redirect-cancelled-by-user"))},lo))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ve()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}});case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[2,,5,8]])}))).apply(this,arguments)}function bo(e){var t,n,r,a,i,o,u,s,c,l,f=co();F("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),F("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),F("function"===typeof(null===(i=null===(a=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===a?void 0:a.browsertab)||void 0===i?void 0:i.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function go(e){return ko.apply(this,arguments)}function ko(){return(ko=Object(l.a)(so().mark(function e(t){var n,r,a;return so().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oo(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,a=Array.from(new Uint8Array(r)),e.abrupt("return",a.map(function(e){return e.toString(16).padStart(2,"0")}).join(""));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Oo(e){if(V(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var wo=20,jo=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).apply(this,arguments))).passiveListeners=new Set,e.initPromise=new Promise(function(t){e.resolveInialized=t}),e}return Object(c.a)(t,e),Object(i.a)(t,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach(function(t){return t(e)}),Object(u.a)(Object(s.a)(t.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Object(l.a)(so().mark(function e(){return so().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(yi);function _o(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:So(),postBody:null,tenantId:e.tenantId,error:P(e,"no-auth-event")}}function xo(e,t){return Co()._set(No(e),t)}function Eo(e){return Io.apply(this,arguments)}function Io(){return(Io=Object(l.a)(so().mark(function e(t){var n;return so().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co()._get(No(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Co()._remove(No(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function To(e,t){var n,r,a=function(e){var t=Ao(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ao(n).link,a=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ao(a).link||a||r||n||e}(t);if(a.includes("/__/auth/callback")){var i=Ao(a),o=i.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(i.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?P(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:a,postBody:null}}return null}function So(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<wo;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Co(){return Ce(Dr)}function No(e){return Re("authEvent",e.config.apiKey,e.name)}function Ao(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=e.split("?"),n=Object(r.a)(t),a=(n[0],n.slice(1));return Object(v.B)(a.join("?"))}var Ro=function(){function e(){Object(a.a)(this,e),this._redirectPersistence=Mr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=di,this._overrideRedirectResult=ni}return Object(i.a)(e,[{key:"_initialize",value:function(){var e=Object(l.a)(so().mark(function e(t){var n,r;return so().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new jo(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){R(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Object(l.a)(so().mark(function e(t,n,r,a){var i,o,u,s;return so().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return bo(t),e.next=3,this._initialize(t);case 3:return i=e.sent,e.next=6,i.initialized();case 6:return i.resetRedirect(),$a.clear(),e.next=10,this._originValidation(t);case 10:return o=_o(t,r,a),e.next=13,xo(t,o);case 13:return e.next=15,fo(t,o,n);case 15:return u=e.sent,e.next=18,vo(u);case 18:return s=e.sent,e.abrupt("return",mo(t,i,s));case 20:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return po.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=co(),r=n.universalLinks,a=n.handleOpenURL,i=n.BuildInfo,o=setTimeout(Object(l.a)(so().mark(function n(){return so().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Eo(e);case 2:t.onEvent(Po());case 3:case"end":return n.stop()}},n)})),500),u=function(){var n=Object(l.a)(so().mark(function n(r){var a,i;return so().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Eo(e);case 3:a=n.sent,i=null,a&&(null===r||void 0===r?void 0:r.url)&&(i=To(a,r.url)),t.onEvent(i||Po());case 7:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=a,c="".concat(i.packageName.toLowerCase(),"://");co().handleOpenURL=function(){var e=Object(l.a)(so().mark(function e(t){return so().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}]),e}();function Po(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:P("no-auth-event")}}function Do(e,t){ut(e)._logFramework(t)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return(a="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var i=n(38);function o(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?Object(i.a)(e):t}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return Df}),n.d(t,"b",function(){return Al}),n.d(t,"c",function(){return bl}),n.d(t,"d",function(){return ul}),n.d(t,"e",function(){return Uf}),n.d(t,"f",function(){return Rl}),n.d(t,"g",function(){return M}),n.d(t,"h",function(){return Dl}),n.d(t,"i",function(){return Vf}),n.d(t,"j",function(){return zf}),n.d(t,"k",function(){return X}),n.d(t,"l",function(){return oh}),n.d(t,"m",function(){return St}),n.d(t,"n",function(){return ae}),n.d(t,"o",function(){return re}),n.d(t,"p",function(){return nl}),n.d(t,"q",function(){return P}),n.d(t,"r",function(){return kt}),n.d(t,"s",function(){return C}),n.d(t,"t",function(){return Xc}),n.d(t,"u",function(){return eh}),n.d(t,"v",function(){return dh}),n.d(t,"w",function(){return hh}),n.d(t,"x",function(){return xl}),n.d(t,"y",function(){return ll}),n.d(t,"z",function(){return fl}),n.d(t,"A",function(){return ol}),n.d(t,"B",function(){return Zf}),n.d(t,"C",function(){return lh}),n.d(t,"D",function(){return Tl}),n.d(t,"E",function(){return hl}),n.d(t,"F",function(){return wl}),n.d(t,"G",function(){return jl}),n.d(t,"H",function(){return Il}),n.d(t,"I",function(){return Sf}),n.d(t,"J",function(){return Tf}),n.d(t,"K",function(){return kl}),n.d(t,"L",function(){return rh}),n.d(t,"M",function(){return Gf}),n.d(t,"N",function(){return Hf}),n.d(t,"O",function(){return Wf}),n.d(t,"P",function(){return Qf}),n.d(t,"Q",function(){return Yf}),n.d(t,"R",function(){return $f}),n.d(t,"S",function(){return ph}),n.d(t,"T",function(){return wf}),n.d(t,"U",function(){return jf}),n.d(t,"V",function(){return Sl}),n.d(t,"W",function(){return Cl}),n.d(t,"X",function(){return th}),n.d(t,"Y",function(){return nh}),n.d(t,"Z",function(){return kf}),n.d(t,"ab",function(){return vf}),n.d(t,"bb",function(){return pl}),n.d(t,"cb",function(){return dl}),n.d(t,"db",function(){return ch}),n.d(t,"eb",function(){return fh}),n.d(t,"fb",function(){return Jf}),n.d(t,"gb",function(){return I}),n.d(t,"hb",function(){return qf}),n.d(t,"ib",function(){return Ef}),n.d(t,"jb",function(){return xf}),n.d(t,"kb",function(){return Xf}),n.d(t,"lb",function(){return El}),n.d(t,"mb",function(){return yf});var r=n(73),a=n(33),i=n(17),o=n(114),u=n(2),s=n(14),c=n(9),l=n(10),f=n(23),h=n(1),d=n(3),p=n(22),v=n(28),m=n(32),y=n(6),b=n(104);function g(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(){O=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),u=new E(a||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,i,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(I([])));y&&y!==t&&n.call(y,i)&&(v=y);var b=p.prototype=h.prototype=Object.create(v);function g(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t(function(a,o){!function r(a,i,o,u){var s=l(e[a],e,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,i,a,o)})}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=j(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=l(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(k.prototype),s(k.prototype,o,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new k(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(b),s(b,u,"Generator"),s(b,i,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var w="@firebase/firestore",j=function(){function e(t){Object(h.a)(this,e),this.uid=t}return Object(d.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();j.UNAUTHENTICATED=new j(null),j.GOOGLE_CREDENTIALS=new j("google-credentials-uid"),j.FIRST_PARTY=new j("first-party-uid"),j.MOCK_USER=new j("mock-user");var _="9.20.0",x=new m.b("@firebase/firestore");function E(){return x.logLevel}function I(e){x.setLogLevel(e)}function T(e){if(x.logLevel<=m.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(N);x.debug.apply(x,["Firestore (".concat(_,"): ").concat(e)].concat(Object(f.a)(a)))}}function S(e){if(x.logLevel<=m.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(N);x.error.apply(x,["Firestore (".concat(_,"): ").concat(e)].concat(Object(f.a)(a)))}}function C(e){if(x.logLevel<=m.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(N);x.warn.apply(x,["Firestore (".concat(_,"): ").concat(e)].concat(Object(f.a)(a)))}}function N(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(_,") INTERNAL ASSERTION FAILED: ")+e;throw S(t),new Error(t)}function R(e,t){e||A()}function P(e,t){e||A()}function D(e,t){return e}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},M=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e,n))).code=e,r.message=n,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return Object(l.a)(t,e),t}(y.c),F=function e(){var t=this;Object(h.a)(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},U=function e(t,n){Object(h.a)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))},V=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(j.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),e}(),z=function(){function e(t){Object(h.a)(this,e),this.token=t,this.changeListener=null}return Object(d.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),B=function(){function e(t){Object(h.a)(this,e),this.t=t,this.currentUser=j.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(d.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,a=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},i=new F;this.o=function(){n.i++,n.currentUser=n.u(),i.resolve(),i=new F,e.enqueueRetryable(function(){return a(n.currentUser)})};var o=function(){var t=i;e.enqueueRetryable(Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,a(n.currentUser);case 4:case"end":return e.stop()}},e)})))},s=function(e){T("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit(function(e){return s(e)}),setTimeout(function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new F)}},0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.i!==t?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(R("string"==typeof n.accessToken),new U(n.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return R(null===e||"string"==typeof e),new j(e)}}]),e}(),q=function(){function e(t,n,r){Object(h.a)(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=j.FIRST_PARTY,this.g=new Map}return Object(d.a)(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),G=function(){function e(t,n,r){Object(h.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(d.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new q(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(j.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),K=function e(t){Object(h.a)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)},H=function(){function e(t){Object(h.a)(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return Object(d.a)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&T("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,T("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable(function(){return r(t)})};var a=function(e){T("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit(function(e){return a(e)}),setTimeout(function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?a(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(function(t){return t?(R("string"==typeof t.token),e.T=t.token,new K(t.token)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function W(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Q=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=W(40),a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%e.length));return n}}]),e}();function Y(e,t){return e<t?-1:e>t?1:0}function $(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function J(e){return e+"\0"}var X=function(){function e(t,n){if(Object(h.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new M(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new M(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new M(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(d.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Z=function(){function e(t){Object(h.a)(this,e),this.timestamp=t}return Object(d.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new X(0,0))}},{key:"max",value:function(){return new e(new X(253402300799,999999999))}}]),e}(),ee=function(){function e(t,n,r){Object(h.a)(this,e),void 0===n?n=0:n>t.length&&A(),void 0===r?r=t.length-n:r>t.length-n&&A(),this.segments=t,this.offset=n,this.len=r}return Object(d.a)(e,[{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}},{key:"length",get:function(){return this.len}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var a=e.get(r),i=t.get(r);if(a<i)return-1;if(a>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),te=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(var i=0,o=r;i<o.length;i++){var u=o[i];if(u.indexOf("//")>=0)throw new M(L.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Object(f.a)(u.split("/").filter(function(e){return e.length>0})))}return new t(e)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(ee),ne=/^[_a-zA-Z][_a-zA-Z0-9]*$/,re=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ne.test(e)}},{key:"keyField",value:function(){return new t(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var n=[],r="",a=0,i=function(){if(0===r.length)throw new M(L.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(r),r=""},o=!1;a<e.length;){var u=e[a];if("\\"===u){if(a+1===e.length)throw new M(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[a+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new M(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,a+=2}else"`"===u?(o=!o,a++):"."!==u||o?(r+=u,a++):(i(),a++)}if(i(),o)throw new M(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(ee),ae=function(){function e(t){Object(h.a)(this,e),this.path=t}return Object(d.a)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===te.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}},{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}}],[{key:"fromPath",value:function(t){return new e(te.fromString(t))}},{key:"fromName",value:function(t){return new e(te.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(te.emptyPath())}},{key:"comparator",value:function(e,t){return te.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new te(t.slice()))}}]),e}(),ie=function e(t,n,r,a){Object(h.a)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=a};function oe(e){return e.fields.find(function(e){return 2===e.kind})}function ue(e){return e.fields.filter(function(e){return 2!==e.kind})}ie.UNKNOWN_ID=-1;var se=function e(t,n){Object(h.a)(this,e),this.fieldPath=t,this.kind=n};var ce=function(){function e(t,n){Object(h.a)(this,e),this.sequenceNumber=t,this.offset=n}return Object(d.a)(e,null,[{key:"empty",value:function(){return new e(0,he.min())}}]),e}();function le(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Z.fromTimestamp(1e9===r?new X(n+1,0):new X(n,r));return new he(a,ae.empty(),t)}function fe(e){return new he(e.readTime,e.key,-1)}var he=function(){function e(t,n,r){Object(h.a)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Object(d.a)(e,null,[{key:"min",value:function(){return new e(Z.min(),ae.empty(),-1)}},{key:"max",value:function(){return new e(Z.max(),ae.empty(),-1)}}]),e}();function de(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ae.comparator(e.documentKey,t.documentKey))?n:Y(e.largestBatchId,t.largestBatchId)}var pe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ve=function(){function e(){Object(h.a)(this,e),this.onCommittedListeners=[]}return Object(d.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}]),e}();function me(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(u.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===L.FAILED_PRECONDITION&&t.message===pe){e.next=2;break}throw t;case 2:T("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var be=function(){function e(t){var n=this;Object(h.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return Object(d.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&A(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,a){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,a)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,a)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.next(t,n)})}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)}}],[{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"waitFor",value:function(t){return new e(function(e,n){var r=0,a=0,i=!1;t.forEach(function(t){++r,t.next(function(){++a,i&&a===r&&e()},function(e){return n(e)})}),i=!0,a===r&&e()})}},{key:"or",value:function(t){var n,r=e.resolve(!1),a=g(t);try{var i=function(){var t=n.value;r=r.next(function(n){return n?e.resolve(n):t()})};for(a.s();!(n=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach(function(e,a){r.push(t.call(n,e,a))}),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e(function(e,r){for(var a=t.length,i=new Array(a),o=0,u=function(){var u=s;n(t[u]).next(function(t){i[u]=t,++o===a&&e(i)},function(e){return r(e)})},s=0;s<a;s++)u()})}},{key:"doWhile",value:function(t,n){return new e(function(e,r){!function a(){!0===t()?n().next(function(){a()},r):e()}()})}}]),e}(),ge=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new F,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new we(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=Ie(e.target.error);r.R.reject(new we(t,n))}}return Object(d.a)(e,[{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(T("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new _e(t)}},{key:"v",get:function(){return this.R.promise}}],[{key:"open",value:function(t,n,r,a){try{return new e(n,t.transaction(a,r))}catch(t){throw new we(n,t)}}}]),e}(),ke=function(){function t(e,n,r){Object(h.a)(this,t),this.name=e,this.version=n,this.V=r,12.2===t.S(Object(y.q)())&&S("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(d.a)(t,[{key:"$",value:function(){var e=Object(u.a)(O().mark(function e(t){var n=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return T("SimpleDb","Opening database:",this.name),e.next=5,new Promise(function(e,r){var a=indexedDB.open(n.name,n.version);a.onsuccess=function(t){var n=t.target.result;e(n)},a.onblocked=function(){r(new we(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new M(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new M(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new we(t,n))},a.onupgradeneeded=function(e){T("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.M(t,a.transaction,e.oldVersion,n.version).next(function(){T("SimpleDb","Database upgrade to version "+n.version+" complete")})}});case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(u.a)(O().mark(function e(t,n,r,a){var i,o,u,s,c=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i="readonly"===n,o=0,u=O().mark(function e(){var n,u,s,l;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=ge.open(c.db,t,i?"readonly":"readwrite",r),(u=a(n).next(function(e){return n.P(),e}).catch(function(e){return n.abort(e),be.reject(e)}).toPromise()).catch(function(){}),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,T("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}},e,null,[[1,13]])});case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return T("SimpleDb","Removing database:",e),xe(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Object(y.v)())return!1;if(t.C())return!0;var e=Object(y.q)(),n=t.S(e),r=0<n&&n<10,a=t.N(e),i=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}},{key:"C",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:""}))||void 0===t?void 0:t.k)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),Oe=function(){function e(t){Object(h.a)(this,e),this.L=t,this.q=!1,this.U=null}return Object(d.a)(e,[{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return xe(this.L.delete())}},{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}}]),e}(),we=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,L.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(n)))).name="IndexedDbTransactionError",r}return Object(l.a)(t,e),t}(M);function je(e){return"IndexedDbTransactionError"===e.name}var _e=function(){function e(t){Object(h.a)(this,e),this.store=t}return Object(d.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(T("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(T("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xe(n)}},{key:"add",value:function(e){return T("SimpleDb","ADD",this.store.name,e,e),xe(this.store.add(e))}},{key:"get",value:function(e){var t=this;return xe(this.store.get(e)).next(function(n){return void 0===n&&(n=null),T("SimpleDb","GET",t.store.name,e,n),n})}},{key:"delete",value:function(e){return T("SimpleDb","DELETE",this.store.name,e),xe(this.store.delete(e))}},{key:"count",value:function(){return T("SimpleDb","COUNT",this.store.name),xe(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),a=[];return this.W(r,function(e,t){a.push(t)}).next(function(){return a})}var i=this.store.getAll(n.range);return new be(function(e,t){i.onerror=function(e){t(e.target.error)},i.onsuccess=function(t){e(t.target.result)}})}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new be(function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}})}},{key:"J",value:function(e,t){T("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,function(e,t,n){return n.delete()})}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new be(function(n,r){t.onerror=function(e){var t=Ie(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})}},{key:"W",value:function(e,t){var n=[];return new be(function(r,a){e.onerror=function(e){a(e.target.error)},e.onsuccess=function(e){var a=e.target.result;if(a){var i=new Oe(a),o=t(a.primaryKey,a.value,i);if(o instanceof be){var u=o.catch(function(e){return i.done(),be.reject(e)});n.push(u)}i.isDone?r():null===i.K?a.continue():a.continue(i.K)}else r()}}).next(function(){return be.waitFor(n)})}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function xe(e){return new be(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ie(e.target.error);n(t)}})}var Ee=!1;function Ie(e){var t=ke.S(Object(y.q)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new M("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ee||(Ee=!0,setTimeout(function(){throw r},0)),r}}return e}var Te=function(){function e(t,n){Object(h.a)(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return Object(d.a)(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"et",value:function(e){var t=this;T("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=T,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!je(e.t4)){e.next=17;break}T("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,me(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}},e,null,[[1,11]])})))}},{key:"started",get:function(){return null!==this.task}}]),e}(),Se=function(){function e(t,n){Object(h.a)(this,e),this.localStore=t,this.persistence=n}return Object(d.a)(e,[{key:"nt",value:function(){var e=Object(u.a)(O().mark(function e(){var t,n=this,r=arguments;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",function(e){return n.st(e,t)}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,a=t,i=!0;return be.doWhile(function(){return!0===i&&a>0},function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(function(t){if(null!==t&&!r.has(t))return T("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,a).next(function(e){a-=e,r.add(t)});i=!1})}).next(function(){return t-a})}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(function(a){return r.localStore.localDocuments.getNextDocuments(e,t,a,n).next(function(n){var i=n.changes;return r.localStore.indexManager.updateIndexEntries(e,i).next(function(){return r.rt(a,n)}).next(function(n){return T("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)}).next(function(){return i.size})})})}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach(function(e,t){var r=fe(t);de(r,n)>0&&(n=r)}),new he(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Ce=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return Object(d.a)(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Ne(e){return null==e}function Ae(e){return 0===e&&1/e==-1/0}function Re(e){return"number"==typeof e&&Number.isInteger(e)&&!Ae(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Pe(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Le(t)),t=De(e.get(n),t);return Le(t)}function De(e,t){for(var n=t,r=e.length,a=0;a<r;a++){var i=e.charAt(a);switch(i){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=i}}return n}function Le(e){return e+"\x01\x01"}function Me(e){var t=e.length;if(R(t>=2),2===t)return R("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),te.emptyPath();for(var n=t-2,r=[],a="",i=0;i<t;){var o=e.indexOf("\x01",i);switch((o<0||o>n)&&A(),e.charAt(o+1)){case"\x01":var u=e.substring(i,o),s=void 0;0===a.length?s=u:(s=a+=u,a=""),r.push(s);break;case"\x10":a+=e.substring(i,o),a+="\0";break;case"\x11":a+=e.substring(i,o+1);break;default:A()}i=o+2}return new te(r)}Ce.ct=-1;var Fe=["userId","batchId"];function Ue(e,t){return[e,Pe(t)]}function Ve(e,t,n){return[e,Pe(t),n]}var ze={},Be=["prefixPath","collectionGroup","readTime","documentId"],qe=["prefixPath","collectionGroup","documentId"],Ge=["collectionGroup","readTime","prefixPath","documentId"],Ke=["canonicalId","targetId"],He=["targetId","path"],We=["path","targetId"],Qe=["collectionId","parent"],Ye=["indexId","uid"],$e=["uid","sequenceNumber"],Je=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xe=["indexId","uid","orderedDocumentKey"],Ze=["userId","collectionPath","documentId"],et=["userId","collectionPath","largestBatchId"],tt=["userId","collectionGroup","largestBatchId"],nt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),rt=[].concat(Object(f.a)(nt),["documentOverlays"]),at=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],it=at,ot=[].concat(it,["indexConfiguration","indexState","indexEntries"]),ut=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).at=e,r.currentSequenceNumber=n,r}return Object(l.a)(t,e),t}(ve);function st(e,t){var n=D(e);return ke.O(n.at,t)}function ct(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lt(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ft(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ht=function(){function e(t,n){Object(h.a)(this,e),this.comparator=t,this.root=n||pt.EMPTY}return Object(d.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pt.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pt.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,n){return e.push("".concat(t,":").concat(n)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new dt(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new dt(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new dt(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new dt(this.root,e,this.comparator,!0)}},{key:"size",get:function(){return this.root.size}}]),e}(),dt=function(){function e(t,n,r,a){Object(h.a)(this,e),this.isReverse=a,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(d.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),pt=function(){function e(t,n,r,a,i){Object(h.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=a?a:e.EMPTY,this.right=null!=i?i:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(d.a)(e,[{key:"copy",value:function(t,n,r,a,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=i?i:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,a=n(e,r.key);return(r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===n(t,a.key)){if(a.right.isEmpty())return e.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw A();if(this.right.isRed())throw A();var e=this.left.check();if(e!==this.right.check())throw A();return e+(this.isRed()?0:1)}}]),e}();pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1,pt.EMPTY=new(function(){function e(){Object(h.a)(this,e),this.size=0}return Object(d.a)(e,[{key:"copy",value:function(e,t,n,r,a){return this}},{key:"insert",value:function(e,t,n){return new pt(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}},{key:"key",get:function(){throw A()}},{key:"value",get:function(){throw A()}},{key:"color",get:function(){throw A()}},{key:"left",get:function(){throw A()}},{key:"right",get:function(){throw A()}}]),e}());var vt=function(){function e(t){Object(h.a)(this,e),this.comparator=t,this.data=new ht(this.comparator)}return Object(d.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new mt(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new mt(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var a=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(a,i))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}},{key:"size",get:function(){return this.data.size}}]),e}(),mt=function(){function e(t){Object(h.a)(this,e),this.iter=t}return Object(d.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function yt(e){return e.hasNext()?e.getNext():void 0}var bt=function(){function e(t){Object(h.a)(this,e),this.fields=t,t.sort(re.comparator)}return Object(d.a)(e,[{key:"unionWith",value:function(t){var n,r=new vt(re.comparator),a=g(this.fields);try{for(a.s();!(n=a.n()).done;){var i=n.value;r=r.add(i)}}catch(c){a.e(c)}finally{a.f()}var o,u=g(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=g(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $(this.fields,e.fields,function(e,t){return e.isEqual(t)})}}],[{key:"empty",value:function(){return new e([])}}]),e}(),gt=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(s.a)(this,Object(c.a)(t).apply(this,arguments))).name="Base64DecodeError",e}return Object(l.a)(t,e),t}(Object(o.a)(Error));function kt(){return"undefined"!=typeof atob}var Ot=function(){function e(t){Object(h.a)(this,e),this.binaryString=t}return Object(d.a)(e,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Y(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new gt("Invalid base64 string: "+e):e}}(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();Ot.EMPTY_BYTE_STRING=new Ot("");var wt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jt(e){if(R(!!e),"string"==typeof e){var t=0,n=wt.exec(e);if(R(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var a=new Date(e);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:_t(e.seconds),nanos:_t(e.nanos)}}function _t(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function xt(e){return"string"==typeof e?Ot.fromBase64String(e):Ot.fromUint8Array(e)}function Et(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function It(e){var t=jt(e.mapValue.fields.__local_write_time__.timestampValue);return new X(t.seconds,t.nanos)}var Tt=function e(t,n,r,a,i,o,u,s){Object(h.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s},St=function(){function e(t,n){Object(h.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(d.a)(e,[{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ct={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nt={nullValue:"NULL_VALUE"};function At(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Et(e)?4:Kt(e)?9007199254740991:10:A()}function Rt(e,t){if(e===t)return!0;var n=At(e);if(n!==At(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return It(e).isEqual(It(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=jt(e.timestampValue),r=jt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return xt(e.bytesValue).isEqual(xt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _t(e.geoPointValue.latitude)===_t(t.geoPointValue.latitude)&&_t(e.geoPointValue.longitude)===_t(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _t(e.integerValue)===_t(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=_t(e.doubleValue),r=_t(t.doubleValue);return n===r?Ae(n)===Ae(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $(e.arrayValue.values||[],t.arrayValue.values||[],Rt);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ct(n)!==ct(r))return!1;for(var a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Rt(n[a],r[a])))return!1;return!0}(e,t);default:return A()}}function Pt(e,t){return void 0!==(e.values||[]).find(function(e){return Rt(e,t)})}function Dt(e,t){if(e===t)return 0;var n=At(e),r=At(t);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=_t(e.integerValue||e.doubleValue),r=_t(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Lt(e.timestampValue,t.timestampValue);case 4:return Lt(It(e),It(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return function(e,t){var n=xt(e),r=xt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),a=0;a<n.length&&a<r.length;a++){var i=Y(n[a],r[a]);if(0!==i)return i}return Y(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Y(_t(e.latitude),_t(t.latitude));return 0!==n?n:Y(_t(e.longitude),_t(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],a=0;a<n.length&&a<r.length;++a){var i=Dt(n[a],r[a]);if(i)return i}return Y(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ct.mapValue&&t===Ct.mapValue)return 0;if(e===Ct.mapValue)return 1;if(t===Ct.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(var o=0;o<r.length&&o<i.length;++o){var u=Y(r[o],i[o]);if(0!==u)return u;var s=Dt(n[r[o]],a[i[o]]);if(0!==s)return s}return Y(r.length,i.length)}(e.mapValue,t.mapValue);default:throw A()}}function Lt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Y(e,t);var n=jt(e),r=jt(t),a=Y(n.seconds,r.seconds);return 0!==a?a:Y(n.nanos,r.nanos)}function Mt(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=jt(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xt(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,ae.fromName(r).toString()):"geoPointValue"in t?"geo(".concat((n=t.geoPointValue).latitude,",").concat(n.longitude,")"):"arrayValue"in t?function(t){var n,r="[",a=!0,i=g(t.values||[]);try{for(i.s();!(n=i.n()).done;){var o=n.value;a?a=!1:r+=",",r+=e(o)}}catch(u){i.e(u)}finally{i.f()}return r+"]"}(t.arrayValue):"mapValue"in t?function(t){var n,r=Object.keys(t.fields||{}).sort(),a="{",i=!0,o=g(r);try{for(o.s();!(n=o.n()).done;){var u=n.value;i?i=!1:a+=",",a+="".concat(u,":").concat(e(t.fields[u]))}}catch(s){o.e(s)}finally{o.f()}return a+"}"}(t.mapValue):A();var n,r}(e)}function Ft(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ut(e){return!!e&&"integerValue"in e}function Vt(e){return!!e&&"arrayValue"in e}function zt(e){return!!e&&"nullValue"in e}function Bt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qt(e){return!!e&&"mapValue"in e}function Gt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return lt(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=Gt(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Gt(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Kt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ht(e){return"nullValue"in e?Nt:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ft(St.empty(),ae.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:A()}function Wt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ft(St.empty(),ae.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ct:A()}function Qt(e,t){var n=Dt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Yt(e,t){var n=Dt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var $t=function(){function e(t){Object(h.a)(this,e),this.value=t}return Object(d.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!qt(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gt(t)}},{key:"setAll",value:function(e){var t=this,n=re.emptyPath(),r={},a=[];e.forEach(function(e,i){if(!n.isImmediateParentOf(i)){var o=t.getFieldsMap(n);t.applyChanges(o,r,a),r={},a=[],n=i.popLast()}e?r[i.lastSegment()]=Gt(e):a.push(i.lastSegment())});var i=this.getFieldsMap(n);this.applyChanges(i,r,a)}},{key:"delete",value:function(e){var t=this.field(e.popLast());qt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Rt(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];qt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){lt(t,function(t,n){return e[t]=n});var r,a=g(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;delete e[i]}}catch(o){a.e(o)}finally{a.f()}}},{key:"clone",value:function(){return new e(Gt(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Jt(e){var t=[];return lt(e.fields,function(e,n){var r=new re([e]);if(qt(n)){var a=Jt(n.mapValue).fields;if(0===a.length)t.push(r);else{var i,o=g(a);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)}),new bt(t)}var Xt=function(){function e(t,n,r,a,i,o,u){Object(h.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=i,this.data=o,this.documentState=u}return Object(d.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Z.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Z.min(),Z.min(),Z.min(),$t.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,a){return new e(t,1,n,Z.min(),r,a,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Z.min(),Z.min(),$t.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Z.min(),Z.min(),$t.empty(),2)}}]),e}(),Zt=function e(t,n){Object(h.a)(this,e),this.position=t,this.inclusive=n};function en(e,t,n){for(var r=0,a=0;a<e.position.length;a++){var i=t[a],o=e.position[a];if(r=i.field.isKeyField()?ae.comparator(ae.fromName(o.referenceValue),n.key):Dt(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function tn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Rt(e.position[n],t.position[n]))return!1;return!0}var nn=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(h.a)(this,e),this.field=t,this.dir=n};function rn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var an=function e(){Object(h.a)(this,e)},on=function(e){function t(e,n,r){var a;return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this))).field=e,a.op=n,a.value=r,a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Dt(t,this.value)):null!==t&&At(this.value)===At(t)&&this.matchesComparison(Dt(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return A()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new vn(e,n,r):"array-contains"===n?new gn(e,r):"in"===n?new kn(e,r):"not-in"===n?new On(e,r):"array-contains-any"===n?new wn(e,r):new t(e,n,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new mn(e,n):new yn(e,n)}}]),t}(an),un=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).filters=e,r.op=n,r.ht=null,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){return sn(this)?void 0===this.filters.find(function(t){return!t.matches(e)}):void 0!==this.filters.find(function(t){return t.matches(e)})}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce(function(e,t){return e.concat(t.getFlattenedFilters())},[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt(function(e){return e.isInequality()});return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=g(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(a){n.e(a)}finally{n.f()}return null}}],[{key:"create",value:function(e,n){return new t(e,n)}}]),t}(an);function sn(e){return"and"===e.op}function cn(e){return"or"===e.op}function ln(e){return fn(e)&&sn(e)}function fn(e){var t,n=g(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof un)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function hn(e,t){return e instanceof on?function(e,t){return t instanceof on&&e.op===t.op&&e.field.isEqual(t.field)&&Rt(e.value,t.value)}(e,t):e instanceof un?function(e,t){return t instanceof un&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(function(e,n,r){return e&&hn(n,t.filters[r])},!0)}(e,t):void A()}function dn(e,t){var n=e.filters.concat(t);return un.create(n,e.op)}function pn(e){return e instanceof on?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Mt(e.value))}(e):e instanceof un?function(e){return e.op.toString()+" {"+e.getFilters().map(pn).join(" ,")+"}"}(e):"Filter"}var vn=function(e){function t(e,n,r){var a;return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e,n,r))).key=ae.fromName(r.referenceValue),a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){var t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}}]),t}(on),mn=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e,"in",n))).keys=bn("in",n),r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){return this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(on),yn=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e,"not-in",n))).keys=bn("not-in",n),r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(on);function bn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return ae.fromName(e.referenceValue)})}var gn=function(e){function t(e,n){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).call(this,e,"array-contains",n))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Vt(t)&&Pt(t.arrayValue,this.value)}}]),t}(on),kn=function(e){function t(e,n){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).call(this,e,"in",n))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Pt(this.value.arrayValue,t)}}]),t}(on),On=function(e){function t(e,n){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).call(this,e,"not-in",n))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){if(Pt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Pt(this.value.arrayValue,t)}}]),t}(on),wn=function(e){function t(e,n){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).call(this,e,"array-contains-any",n))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Vt(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return Pt(t.value.arrayValue,e)})}}]),t}(on),jn=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(h.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=o,this.endAt=u,this.ft=null};function _n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new jn(e,t,n,r,a,i,o)}function xn(e){var t=D(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function e(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+Mt(t.value);if(ln(t))return t.filters.map(function(t){return e(t)}).join(",");var n=t.filters.map(function(t){return e(t)}).join(",");return"".concat(t.op,"(").concat(n,")")}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),Ne(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(function(e){return Mt(e)}).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(function(e){return Mt(e)}).join(",")),t.ft=n}return t.ft}function En(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!rn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!hn(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tn(e.startAt,t.startAt)&&tn(e.endAt,t.endAt)}function In(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Tn(e,t){return e.filters.filter(function(e){return e instanceof on&&e.field.isEqual(t)})}function Sn(e,t,n){var r,a=Nt,i=!0,o=g(Tn(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Nt,c=!0;switch(u.op){case"<":case"<=":s=Ht(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Nt}Qt({value:a,inclusive:i},{value:s,inclusive:c})<0&&(a=s,i=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Qt({value:a,inclusive:i},{value:f,inclusive:n.inclusive})<0&&(a=f,i=n.inclusive);break}return{value:a,inclusive:i}}function Cn(e,t,n){var r,a=Ct,i=!0,o=g(Tn(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ct,c=!0;switch(u.op){case">=":case">":s=Wt(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ct}Yt({value:a,inclusive:i},{value:s,inclusive:c})>0&&(a=s,i=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Yt({value:a,inclusive:i},{value:f,inclusive:n.inclusive})>0&&(a=f,i=n.inclusive);break}return{value:a,inclusive:i}}var Nn=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(h.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this.wt=null,this.startAt,this.endAt};function An(e,t,n,r,a,i,o,u){return new Nn(e,t,n,r,a,i,o,u)}function Rn(e){return new Nn(e)}function Pn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Dn(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ln(e){var t,n=g(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(a){n.e(a)}finally{n.f()}return null}function Mn(e){return null!==e.collectionGroup}function Fn(e){var t=D(e);if(null===t.dt){t.dt=[];var n=Ln(t),r=Dn(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new nn(n)),t.dt.push(new nn(re.keyField(),"asc"));else{var a,i=!1,o=g(t.explicitOrderBy);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.dt.push(u),u.field.isKeyField()&&(i=!0)}}catch(c){o.e(c)}finally{o.f()}if(!i){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new nn(re.keyField(),s))}}}return t.dt}function Un(e){var t=D(e);if(!t.wt)if("F"===t.limitType)t.wt=_n(t.path,t.collectionGroup,Fn(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],a=g(Fn(t));try{for(a.s();!(n=a.n()).done;){var i=n.value,o="desc"===i.dir?"asc":"desc";r.push(new nn(i.field,o))}}catch(c){a.e(c)}finally{a.f()}var u=t.endAt?new Zt(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Zt(t.startAt.position,t.startAt.inclusive):null;t.wt=_n(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Vn(e,t){t.getFirstInequalityField(),Ln(e);var n=e.filters.concat([t]);return new Nn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function zn(e,t,n){return new Nn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bn(e,t){return En(Un(e),Un(t))&&e.limitType===t.limitType}function qn(e){return"".concat(xn(Un(e)),"|lt:").concat(e.limitType)}function Gn(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(e){return pn(e)}).join(", "),"]")),Ne(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)}).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(function(e){return Mt(e)}).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(function(e){return Mt(e)}).join(",")),"Target(".concat(t,")")}(Un(e)),"; limitType=").concat(e.limitType,")")}function Kn(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ae.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=g(Fn(e));try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!a.field.isKeyField()&&null===t.data.field(a.field))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=g(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=en(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fn(e),t))&&!(e.endAt&&!function(e,t,n){var r=en(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fn(e),t))}(e,t)}function Hn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wn(e){return function(t,n){var r,a=!1,i=g(Fn(e));try{for(i.s();!(r=i.n()).done;){var o=r.value,u=Qn(o,t,n);if(0!==u)return u;a=a||o.field.isKeyField()}}catch(s){i.e(s)}finally{i.f()}return 0}}function Qn(e,t,n){var r=e.field.isKeyField()?ae.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Dt(r,a):A()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return A()}}var Yn=function(){function e(t,n){Object(h.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Object(d.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=g(n);try{for(a.s();!(r=a.n()).done;){var o=Object(i.a)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){a.e(c)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){lt(this.inner,function(t,n){var r,a=g(n);try{for(a.s();!(r=a.n()).done;){var o=Object(i.a)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){a.e(c)}finally{a.f()}})}},{key:"isEmpty",value:function(){return ft(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),$n=new ht(ae.comparator);function Jn(){return $n}var Xn=new ht(ae.comparator);function Zn(){for(var e=Xn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];e=e.insert(o.key,o)}return e}function er(e){var t=Xn;return e.forEach(function(e,n){return t=t.insert(e,n.overlayedDocument)}),t}function tr(){return rr()}function nr(){return rr()}function rr(){return new Yn(function(e){return e.toString()},function(e,t){return e.isEqual(t)})}var ar=new ht(ae.comparator),ir=new vt(ae.comparator);function or(){for(var e=ir,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];e=e.add(o)}return e}var ur=new vt(Y);function sr(){return ur}function cr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ae(t)?"-0":t}}function lr(e){return{integerValue:""+e}}function fr(e,t){return Re(t)?lr(t):cr(e,t)}var hr=function e(){Object(h.a)(this,e),this._=void 0};function dr(e,t,n){return e instanceof mr?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yr?br(e,t):e instanceof gr?kr(e,t):function(e,t){var n=vr(e,t),r=wr(n)+wr(e._t);return Ut(n)&&Ut(e._t)?lr(r):cr(e.serializer,r)}(e,t)}function pr(e,t,n){return e instanceof yr?br(e,t):e instanceof gr?kr(e,t):n}function vr(e,t){return e instanceof Or?Ut(n=t)||n&&"doubleValue"in n?t:{integerValue:0}:null;var n}var mr=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),t}(hr),yr=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).elements=e,n}return Object(l.a)(t,e),t}(hr);function br(e,t){var n,r=jr(t),a=g(e.elements);try{var i=function(){var e=n.value;r.some(function(t){return Rt(t,e)})||r.push(e)};for(a.s();!(n=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return{arrayValue:{values:r}}}var gr=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).elements=e,n}return Object(l.a)(t,e),t}(hr);function kr(e,t){var n,r=jr(t),a=g(e.elements);try{var i=function(){var e=n.value;r=r.filter(function(t){return!Rt(t,e)})};for(a.s();!(n=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return{arrayValue:{values:r}}}var Or=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).serializer=e,r._t=n,r}return Object(l.a)(t,e),t}(hr);function wr(e){return _t(e.integerValue||e.doubleValue)}function jr(e){return Vt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var _r=function e(t,n){Object(h.a)(this,e),this.field=t,this.transform=n};var xr=function e(t,n){Object(h.a)(this,e),this.version=t,this.transformResults=n},Er=function(){function e(t,n){Object(h.a)(this,e),this.updateTime=t,this.exists=n}return Object(d.a)(e,[{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}},{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ir(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Tr=function e(){Object(h.a)(this,e)};function Sr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zr(e.key,Er.none()):new Pr(e.key,e.data,Er.none());var n,r=e.data,a=$t.empty(),i=new vt(re.comparator),o=g(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!i.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?a.delete(u):a.set(u,s),i=i.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Dr(e.key,a,new bt(i.toArray()),Er.none())}function Cr(e,t,n){e instanceof Pr?function(e,t,n){var r=e.value.clone(),a=Mr(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dr?function(e,t,n){if(Ir(e.precondition,t)){var r=Mr(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Lr(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Nr(e,t,n,r){return e instanceof Pr?function(e,t,n,r){if(!Ir(e.precondition,t))return n;var a=e.value.clone(),i=Fr(e.fieldTransforms,r,t);return a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dr?function(e,t,n,r){if(!Ir(e.precondition,t))return n;var a=Fr(e.fieldTransforms,r,t),i=t.data;return i.setAll(Lr(e)),i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(function(e){return e.field}))}(e,t,n,r):function(e,t,n){return Ir(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ar(e,t){var n,r=null,a=g(e.fieldTransforms);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=t.data.field(i.field),u=vr(i.transform,o||null);null!=u&&(null===r&&(r=$t.empty()),r.set(i.field,u))}}catch(s){a.e(s)}finally{a.f()}return r||null}function Rr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yr&&t instanceof yr||e instanceof gr&&t instanceof gr?$(e.elements,t.elements,Rt):e instanceof Or&&t instanceof Or?Rt(e._t,t._t):e instanceof mr&&t instanceof mr}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Pr=function(e){function t(e,n,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this))).key=e,a.value=n,a.precondition=r,a.fieldTransforms=i,a.type=0,a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Tr),Dr=function(e){function t(e,n,r,a){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this))).key=e,i.data=n,i.fieldMask=r,i.precondition=a,i.fieldTransforms=o,i.type=1,i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),t}(Tr);function Lr(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Mr(e,t,n){var r=new Map;R(e.length===n.length);for(var a=0;a<n.length;a++){var i=e[a],o=i.transform,u=t.data.field(i.field);r.set(i.field,pr(o,u,n[a]))}return r}function Fr(e,t,n){var r,a=new Map,i=g(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);a.set(o.field,dr(u,s,t))}}catch(c){i.e(c)}finally{i.f()}return a}var Ur,Vr,zr=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Tr),Br=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(Tr),qr=function(){function e(t,n,r,a){Object(h.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}return Object(d.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var a=this.mutations[r];a.key.isEqual(e.key)&&Cr(a,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=g(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.key.isEqual(e.key)&&(t=Nr(a,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var i,o=g(this.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value;u.key.isEqual(e.key)&&(t=Nr(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=nr();return this.mutations.forEach(function(a){var i=e.get(a.key),o=i.overlayedDocument,u=n.applyToLocalView(o,i.mutatedFields),s=Sr(o,u=t.has(a.key)?null:u);null!==s&&r.set(a.key,s),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},or())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations,function(e,t){return Rr(e,t)})&&$(this.baseMutations,e.baseMutations,function(e,t){return Rr(e,t)})}}]),e}(),Gr=function(){function e(t,n,r,a){Object(h.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}return Object(d.a)(e,null,[{key:"from",value:function(t,n,r){R(t.mutations.length===r.length);for(var a=ar,i=t.mutations,o=0;o<i.length;o++)a=a.insert(i[o].key,r[o].version);return new e(t,n,r,a)}}]),e}(),Kr=function(){function e(t,n){Object(h.a)(this,e),this.largestBatchId=t,this.mutation=n}return Object(d.a)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Hr=function e(t){Object(h.a)(this,e),this.count=t};function Wr(e){switch(e){default:return A();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function Qr(e){if(void 0===e)return S("GRPC error has no .code"),L.UNKNOWN;switch(e){case Ur.OK:return L.OK;case Ur.CANCELLED:return L.CANCELLED;case Ur.UNKNOWN:return L.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return L.INTERNAL;case Ur.UNAVAILABLE:return L.UNAVAILABLE;case Ur.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ur.NOT_FOUND:return L.NOT_FOUND;case Ur.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ur.ABORTED:return L.ABORTED;case Ur.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ur.DATA_LOSS:return L.DATA_LOSS;default:return A()}}(Vr=Ur||(Ur={}))[Vr.OK=0]="OK",Vr[Vr.CANCELLED=1]="CANCELLED",Vr[Vr.UNKNOWN=2]="UNKNOWN",Vr[Vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vr[Vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vr[Vr.NOT_FOUND=5]="NOT_FOUND",Vr[Vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vr[Vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vr[Vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vr[Vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vr[Vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vr[Vr.ABORTED=10]="ABORTED",Vr[Vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vr[Vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vr[Vr.INTERNAL=13]="INTERNAL",Vr[Vr.UNAVAILABLE=14]="UNAVAILABLE",Vr[Vr.DATA_LOSS=15]="DATA_LOSS";var Yr=function(){function e(){Object(h.a)(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return Object(d.a)(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach(function(t){return t(e)})}}],[{key:"getOrCreateInstance",value:function(){return null===$r&&($r=new e),$r}},{key:"instance",get:function(){return $r}}]),e}(),$r=null,Jr=function(){function e(t,n,r,a,i){Object(h.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}return Object(d.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var a=new Map;return a.set(t,Xr.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Z.min(),a,sr(),Jn(),or())}}]),e}(),Xr=function(){function e(t,n,r,a,i){Object(h.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}return Object(d.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,or(),or(),or())}}]),e}(),Zr=function e(t,n,r,a){Object(h.a)(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=a},ea=function e(t,n){Object(h.a)(this,e),this.targetId=t,this.Et=n},ta=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ot.EMPTY_BYTE_STRING,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(h.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a},na=function(){function e(){Object(h.a)(this,e),this.At=0,this.Rt=ia(),this.vt=Ot.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return Object(d.a)(e,[{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=or(),t=or(),n=or();return this.Rt.forEach(function(r,a){switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:A()}}),new Xr(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=ia()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}},{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}}]),e}(),ra=function(){function e(t){Object(h.a)(this,e),this.Ft=t,this.Bt=new Map,this.Lt=Jn(),this.qt=aa(),this.Ut=new vt(Y)}return Object(d.a)(e,[{key:"Kt",value:function(e){var t,n=g(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var a,i=g(e.removedTargetIds);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.Qt(o,e.key,e.Tt)}}catch(u){i.e(u)}finally{i.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:A()}})}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach(function(e,r){n.Wt(r)&&t(r)})}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,a=this.Yt(n);if(a){var i=a.target;if(In(i))if(0===r){var o=new ae(i.path);this.Qt(n,o,Xt.newNoDocument(o,Z.min()))}else R(1===r);else{var u=this.Zt(n);u!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=Yr.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach(function(r,a){var i=t.Yt(a);if(i){if(r.current&&In(i.target)){var o=new ae(i.target.path);null!==t.Lt.get(o)||t.te(a,o)||t.Qt(a,o,Xt.newNoDocument(o,e))}r.St&&(n.set(a,r.Ct()),r.xt())}});var r=or();this.qt.forEach(function(e,n){var a=!0;n.forEachWhile(function(e){var n=t.Yt(e);return!n||2===n.purpose||(a=!1,!1)}),a&&(r=r.add(e))}),this.Lt.forEach(function(t,n){return n.setReadTime(e)});var a=new Jr(e,n,this.Ut,this.Lt,r);return this.Lt=Jn(),this.qt=aa(),this.Ut=new vt(Y),a}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new na,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new vt(Y),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new na),this.Ft.getRemoteKeysForTarget(e).forEach(function(n){t.Qt(e,n,null)})}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function aa(){return new ht(ae.comparator)}function ia(){return new ht(ae.comparator)}var oa={asc:"ASCENDING",desc:"DESCENDING"},ua={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sa={and:"AND",or:"OR"},ca=function e(t,n){Object(h.a)(this,e),this.databaseId=t,this.useProto3Json=n};function la(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fa(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ha(e,t){return la(e,t.toTimestamp())}function da(e){return R(!!e),Z.fromTimestamp(function(e){var t=jt(e);return new X(t.seconds,t.nanos)}(e))}function pa(e,t){return function(e){return new te(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function va(e){var t=te.fromString(e);return R(La(t)),t}function ma(e,t){return pa(e.databaseId,t.path)}function ya(e,t){var n=va(t);if(n.get(1)!==e.databaseId.projectId)throw new M(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ae(Oa(n))}function ba(e,t){return pa(e.databaseId,t)}function ga(e){var t=va(e);return 4===t.length?te.emptyPath():Oa(t)}function ka(e){return new te(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Oa(e){return R(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function wa(e,t,n){return{name:ma(e,t),fields:n.value.mapValue.fields}}function ja(e,t,n){var r=ya(e,t.name),a=da(t.updateTime),i=t.createTime?da(t.createTime):Z.min(),o=new $t({mapValue:{fields:t.fields}}),u=Xt.newFoundDocument(r,a,i,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function _a(e,t){return"found"in t?function(e,t){R(!!t.found),t.found.name,t.found.updateTime;var n=ya(e,t.found.name),r=da(t.found.updateTime),a=t.found.createTime?da(t.found.createTime):Z.min(),i=new $t({mapValue:{fields:t.found.fields}});return Xt.newFoundDocument(n,r,a,i)}(e,t):"missing"in t?function(e,t){R(!!t.missing),R(!!t.readTime);var n=ya(e,t.missing),r=da(t.readTime);return Xt.newNoDocument(n,r)}(e,t):A()}function xa(e,t){var n;if(t instanceof Pr)n={update:wa(e,t.key,t.value)};else if(t instanceof zr)n={delete:ma(e,t.key)};else if(t instanceof Dr)n={update:wa(e,t.key,t.data),updateMask:Da(t.fieldMask)};else{if(!(t instanceof Br))return A();n={verify:ma(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof mr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Or)return{fieldPath:t.field.canonicalString(),increment:n._t};throw A()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ha(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:A()}(e,t.precondition)),n}function Ea(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Er.updateTime(da(e.updateTime)):void 0!==e.exists?Er.exists(e.exists):Er.none()}(t.currentDocument):Er.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;if("setToServerValue"in t)R("REQUEST_TIME"===t.setToServerValue),n=new mr;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new yr(r)}else if("removeAllFromArray"in t){var a=t.removeAllFromArray.values||[];n=new gr(a)}else"increment"in t?n=new Or(e,t.increment):A();var i=re.fromServerFormat(t.fieldPath);return new _r(i,n)}(e,t)}):[];if(t.update){t.update.name;var a=ya(e,t.update.name),i=new $t({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new bt(t.map(function(e){return re.fromServerFormat(e)}))}(t.updateMask);return new Dr(a,i,o,n,r)}return new Pr(a,i,n,r)}if(t.delete){var u=ya(e,t.delete);return new zr(u,n)}if(t.verify){var s=ya(e,t.verify);return new Br(s,n)}return A()}function Ia(e,t){return{documents:[ba(e,t.path)]}}function Ta(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ba(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ba(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var a=function(e){if(0!==e.length)return function e(t){return t instanceof on?function(e){if("=="===e.op){if(Bt(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NAN"}};if(zt(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bt(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NOT_NAN"}};if(zt(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(e.field),op:Na(e.op),value:e.value}}}(t):t instanceof un?function(t){var n=t.getFilters().map(function(t){return e(t)});return 1===n.length?n[0]:{compositeFilter:{op:Aa(t.op),filters:n}}}(t):A()}(un.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);var i=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Ra(e.field),direction:Ca(e.dir)}}(e)})}(t.orderBy);i&&(n.structuredQuery.orderBy=i);var o,u=function(e,t){return e.useProto3Json||Ne(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Sa(e){var t=ga(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,a=null;if(r>0){R(1===r);var i=n.from[0];i.allDescendants?a=i.collectionId:t=t.child(i.collectionId)}var o=[];n.where&&(o=function(e){var t=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Pa(e.unaryFilter.field);return on.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Pa(e.unaryFilter.field);return on.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Pa(e.unaryFilter.field);return on.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var a=Pa(e.unaryFilter.field);return on.create(a,"!=",{nullValue:"NULL_VALUE"});default:return A()}}(t):void 0!==t.fieldFilter?function(e){return on.create(Pa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return A()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return un.create(t.compositeFilter.filters.map(function(t){return e(t)}),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return A()}}(t.compositeFilter.op))}(t):A()}(n.where);return t instanceof un&&ln(t)?t.getFilters():[t]}());var u=[];n.orderBy&&(u=n.orderBy.map(function(e){return function(e){return new nn(Pa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var s=null;n.limit&&(s=function(e){var t;return Ne(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Zt(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Zt(n,t)}(n.endAt)),An(t,a,u,o,s,"F",c,l)}function Ca(e){return oa[e]}function Na(e){return ua[e]}function Aa(e){return sa[e]}function Ra(e){return{fieldPath:e.canonicalString()}}function Pa(e){return re.fromServerFormat(e.fieldPath)}function Da(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function La(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Ma=function(){function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Z.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Z.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ot.EMPTY_BYTE_STRING;Object(h.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Object(d.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Fa=function e(t){Object(h.a)(this,e),this.se=t};function Ua(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Va(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ma(e,t.key),fields:t.data.value.mapValue.fields,updateTime:la(e,t.version.toTimestamp()),createTime:la(e,t.createTime.toTimestamp())}}(e.se,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:za(t.version)};else{if(!t.isUnknownDocument())return A();r.unknownDocument={path:n.path.toArray(),version:za(t.version)}}return r}function Va(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function za(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ba(e){var t=new X(e.seconds,e.nanoseconds);return Z.fromTimestamp(t)}function qa(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Ea(e.se,t)}),r=0;r<t.mutations.length-1;++r){var a=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var i=t.mutations[r+1];a.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map(function(t){return Ea(e.se,t)}),u=X.fromMillis(t.localWriteTimeMs);return new qr(t.batchId,u,n,o)}function Ga(e){var t,n,r=Ba(e.readTime),a=void 0!==e.lastLimboFreeSnapshotVersion?Ba(e.lastLimboFreeSnapshotVersion):Z.min();return void 0!==e.query.documents?(R(1===(n=e.query).documents.length),t=Un(Rn(ga(n.documents[0])))):t=function(e){return Un(Sa(e))}(e.query),new Ma(t,e.targetId,0,e.lastListenSequenceNumber,r,a,Ot.fromBase64String(e.resumeToken))}function Ka(e,t){var n,r=za(t.snapshotVersion),a=za(t.lastLimboFreeSnapshotVersion);n=In(t.target)?Ia(e.se,t.target):Ta(e.se,t.target);var i=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xn(t.target),readTime:r,resumeToken:i,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:n}}function Ha(e){var t=Sa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zn(t,t.limit,"L"):t}function Wa(e,t){return new Kr(t.largestBatchId,Ea(e.se,t.overlayMutation))}function Qa(e,t){var n=t.path.lastSegment();return[e,Pe(t.path.popLast()),n]}function Ya(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:za(r.readTime),documentKey:Pe(r.documentKey.path),largestBatchId:r.largestBatchId}}var $a=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Ja(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Ba(t.createTime),version:t.version};var t})}},{key:"saveBundleMetadata",value:function(e,t){return Ja(e).put({bundleId:(n=t).id,createTime:za(da(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Xa(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Ha(t.bundledQuery),readTime:Ba(t.readTime)};var t})}},{key:"saveNamedQuery",value:function(e,t){return Xa(e).put(function(e){return{name:e.name,readTime:za(da(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ja(e){return st(e,"bundles")}function Xa(e){return st(e,"namedQueries")}var Za=function(){function e(t,n){Object(h.a)(this,e),this.serializer=t,this.userId=n}return Object(d.a)(e,[{key:"getOverlay",value:function(e,t){var n=this;return ei(e).get(Qa(this.userId,t)).next(function(e){return e?Wa(n.serializer,e):null})}},{key:"getOverlays",value:function(e,t){var n=this,r=tr();return be.forEach(t,function(t){return n.getOverlay(e,t).next(function(e){null!==e&&r.set(t,e)})}).next(function(){return r})}},{key:"saveOverlays",value:function(e,t,n){var r=this,a=[];return n.forEach(function(n,i){var o=new Kr(t,i);a.push(r.re(e,o))}),be.waitFor(a)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,a=new Set;t.forEach(function(e){return a.add(Pe(e.getCollectionPath()))});var i=[];return a.forEach(function(t){var a=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);i.push(ei(e).J("collectionPathOverlayIndex",a))}),be.waitFor(i)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,a=tr(),i=Pe(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ei(e).j("collectionPathOverlayIndex",o).next(function(e){var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=Wa(r.serializer,i);a.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return a})}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var a,i=this,o=tr(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ei(e).Z({index:"collectionGroupOverlayIndex",range:u},function(e,t,n){var u=Wa(i.serializer,t);o.size()<r||u.largestBatchId===a?(o.set(u.getKey(),u),a=u.largestBatchId):n.done()}).next(function(){return o})}},{key:"re",value:function(e,t){return ei(e).put(function(e,t,n){var r=Qa(t,n.mutation.key),a=Object(i.a)(r,3);a[0];return{userId:t,collectionPath:a[1],documentId:a[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:xa(e.se,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ie",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function ei(e){return st(e,"documentOverlays")}var ti=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(_t(e.integerValue));else if("doubleValue"in e){var n=_t(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),Ae(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(xt(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var a=e.geoPointValue;this.ae(t,45),t.he(a.latitude||0),t.he(a.longitude||0)}else"mapValue"in e?Kt(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):A()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,a=Object.keys(n);r<a.length;r++){var i=a[r];this.fe(i,t),this.ue(n[i],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,a=g(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.ue(i,t)}}catch(o){a.e(o)}finally{a.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),ae.fromName(e).path.forEach(function(e){n.ae(t,60),n.ye(e,t)})}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();function ni(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ri(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ni(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ti.pe=new ti;var ai=function(){function e(){Object(h.a)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Object(d.a)(e,[{key:"Ie",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Te(n.value),n=t.next();this.Ee()}},{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.ve()}},{key:"be",value:function(e){var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=r.charCodeAt(0);if(a<128)this.Te(a);else if(a<2048)this.Te(960|a>>>6),this.Te(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Te(480|a>>>12),this.Te(128|63&a>>>6),this.Te(128|63&a);else{var i=r.codePointAt(0);this.Te(240|i>>>18),this.Te(128|63&i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i)}}}catch(o){n.e(o)}finally{n.f()}this.Ee()}},{key:"Pe",value:function(e){var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=r.charCodeAt(0);if(a<128)this.Re(a);else if(a<2048)this.Re(960|a>>>6),this.Re(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Re(480|a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a);else{var i=r.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"Ve",value:function(e){var t=this.Se(e),n=ri(t);this.De(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ce",value:function(e){var t=this.Se(e),n=ri(t);this.De(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"xe",value:function(){this.Ne(255),this.Ne(255)}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Se",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Te",value:function(e){var t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}},{key:"Ee",value:function(){this.Ne(0),this.Ne(1)}},{key:"ve",value:function(){this.Oe(0),this.Oe(1)}},{key:"Ne",value:function(e){this.De(1),this.buffer[this.position++]=e}},{key:"Oe",value:function(e){this.De(1),this.buffer[this.position++]=~e}},{key:"De",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),ii=function(){function e(t){Object(h.a)(this,e),this.Me=t}return Object(d.a)(e,[{key:"we",value:function(e){this.Me.Ie(e)}},{key:"le",value:function(e){this.Me.be(e)}},{key:"he",value:function(e){this.Me.Ve(e)}},{key:"ce",value:function(){this.Me.xe()}}]),e}(),oi=function(){function e(t){Object(h.a)(this,e),this.Me=t}return Object(d.a)(e,[{key:"we",value:function(e){this.Me.Ae(e)}},{key:"le",value:function(e){this.Me.Pe(e)}},{key:"he",value:function(e){this.Me.Ce(e)}},{key:"ce",value:function(){this.Me.ke()}}]),e}(),ui=function(){function e(){Object(h.a)(this,e),this.Me=new ai,this.Fe=new ii(this.Me),this.Be=new oi(this.Me)}return Object(d.a)(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Le",value:function(e){return 0===e?this.Fe:this.Be}},{key:"$e",value:function(){return this.Me.$e()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),si=function(){function e(t,n,r,a){Object(h.a)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=a}return Object(d.a)(e,[{key:"qe",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function ci(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=li(e.arrayValue,t.arrayValue))?n:0!==(n=li(e.directionalValue,t.directionalValue))?n:ae.comparator(e.documentKey,t.documentKey)}function li(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var fi=function(){function e(t){Object(h.a)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];var n,r=g(t.filters);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.isInequality()?this.Ge=a:this.Ke.push(a)}}catch(i){r.e(i)}finally{r.f()}}return Object(d.a)(e,[{key:"Qe",value:function(e){R(e.collectionGroup===this.collectionId);var t=oe(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=ue(e),r=0,a=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ge){var i=n[r];if(!this.je(this.Ge,i)||!this.We(this.Ue[a++],i))return!1;++r}for(;r<n.length;++r){var o=n[r];if(a>=this.Ue.length||!this.We(this.Ue[a++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=g(this.Ke);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function hi(e){if(0===e.getFilters().length)return[];var t=function e(t){if(R(t instanceof on||t instanceof un),t instanceof on)return t;if(1===t.filters.length)return e(t.filters[0]);var n=t.filters.map(function(t){return e(t)});var r=un.create(n,t.op);return r=bi(r),vi(r)?r:(R(r instanceof un),R(sn(r)),R(r.filters.length>1),r.filters.reduce(function(e,t){return mi(e,t)}))}(function e(t){var n,r;if(R(t instanceof on||t instanceof un),t instanceof on){if(t instanceof kn){var a=(null===(r=null===(n=t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(function(e){return on.create(t.field,"==",e)}))||[];return un.create(a,"or")}return t}var i=t.filters.map(function(t){return e(t)});return un.create(i,t.op)}(e));return R(vi(t)),di(t)||pi(t)?[t]:t.getFilters()}function di(e){return e instanceof on}function pi(e){return e instanceof un&&ln(e)}function vi(e){return di(e)||pi(e)||function(e){if(e instanceof un&&cn(e)){var t,n=g(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!di(r)&&!pi(r))return!1}}catch(a){n.e(a)}finally{n.f()}return!0}return!1}(e)}function mi(e,t){return R(e instanceof on||e instanceof un),R(t instanceof on||t instanceof un),bi(e instanceof on?t instanceof on?function(e,t){return un.create([e,t],"and")}(e,t):yi(e,t):t instanceof on?yi(t,e):function(e,t){if(R(e.filters.length>0&&t.filters.length>0),sn(e)&&sn(t))return dn(e,t.getFilters());var n=cn(e)?e:t,r=cn(e)?t:e,a=n.filters.map(function(e){return mi(e,r)});return un.create(a,"or")}(e,t))}function yi(e,t){if(sn(t))return dn(t,e.getFilters());var n=t.filters.map(function(t){return mi(e,t)});return un.create(n,"or")}function bi(e){if(R(e instanceof on||e instanceof un),e instanceof on)return e;var t=e.getFilters();if(1===t.length)return bi(t[0]);if(fn(e))return e;var n=t.map(function(e){return bi(e)}),r=[];return n.forEach(function(t){t instanceof on?r.push(t):t instanceof un&&(t.op===e.op?r.push.apply(r,Object(f.a)(t.filters)):r.push(t))}),1===r.length?r[0]:un.create(r,e.op)}var gi=function(){function e(){Object(h.a)(this,e),this.He=new ki}return Object(d.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),be.resolve()}},{key:"getCollectionParents",value:function(e,t){return be.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return be.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return be.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return be.resolve(null)}},{key:"getIndexType",value:function(e,t){return be.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return be.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return be.resolve(null)}},{key:"getMinOffset",value:function(e,t){return be.resolve(he.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return be.resolve(he.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return be.resolve()}},{key:"updateIndexEntries",value:function(e,t){return be.resolve()}}]),e}(),ki=function(){function e(){Object(h.a)(this,e),this.index={}}return Object(d.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vt(te.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new vt(te.comparator)).toArray()}}]),e}(),Oi=new Uint8Array(0),wi=function(){function e(t,n){Object(h.a)(this,e),this.user=t,this.databaseId=n,this.Je=new ki,this.Ye=new Yn(function(e){return xn(e)},function(e,t){return En(e,t)}),this.uid=t.uid||""}return Object(d.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Je.has(t)){var r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(function(){n.Je.add(t)});var i={collectionId:r,parent:Pe(a)};return ji(e).put(i)}return be.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[J(t),""],!1,!0);return ji(e).j(r).next(function(e){var r,a=g(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.collectionId!==t)break;n.push(Me(i.parent))}}catch(o){a.e(o)}finally{a.f()}return n})}},{key:"addFieldIndex",value:function(e,t){var n=this,r=xi(e),a=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(function(e){return[e.fieldPath.canonicalString(),e.kind]})}}(t);delete a.indexId;var i=r.add(a);if(t.indexState){var o=Ei(e);return i.next(function(e){o.put(Ya(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=xi(e),r=Ei(e),a=_i(e);return n.delete(t.indexId).next(function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}).next(function(){return a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=_i(e),a=!0,i=new Map;return be.forEach(this.Ze(t),function(t){return n.Xe(e,t).next(function(e){a&&(a=!!e),i.set(t,e)})}).next(function(){if(a){var e=or(),o=[];return be.forEach(i,function(a,i){var u;T("IndexedDbIndexManager","Using index ".concat((u=a,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map(function(e){return"".concat(e.fieldPath,":").concat(e.kind)}).join(",")))," to execute ").concat(xn(t)));var s=function(e,t){var n=oe(a);if(void 0===n)return null;var r,i=g(Tn(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var o=r.value;switch(o.op){case"array-contains-any":return o.value.arrayValue.values||[];case"array-contains":return[o.value]}}}catch(u){i.e(u)}finally{i.f()}return null}(i),c=function(e,t){var n,r=new Map,a=g(ue(t));try{for(a.s();!(n=a.n()).done;){var i,o=n.value,u=g(Tn(e,o.fieldPath));try{for(u.s();!(i=u.n()).done;){var s=i.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){a.e(c)}finally{a.f()}return null}(i,a),l=function(e,t){var n,r=[],i=!0,o=g(ue(a));try{for(o.s();!(n=o.n()).done;){var u=n.value,s=0===u.kind?Sn(e,u.fieldPath,e.startAt):Cn(e,u.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){o.e(c)}finally{o.f()}return new Zt(r,i)}(i),f=function(e,t){var n,r=[],i=!0,o=g(ue(a));try{for(o.s();!(n=o.n()).done;){var u=n.value,s=0===u.kind?Cn(e,u.fieldPath,e.endAt):Sn(e,u.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(c){o.e(c)}finally{o.f()}return new Zt(r,i)}(i),h=n.tn(a,i,l),d=n.tn(a,i,f),p=n.en(a,i,c),v=n.nn(a.indexId,s,h,l.inclusive,d,f.inclusive,p);return be.forEach(v,function(n){return r.H(n,t.limit).next(function(t){t.forEach(function(t){var n=ae.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))})})})}).next(function(){return o})}return be.resolve(null)})}},{key:"Ze",value:function(e){var t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:hi(un.create(e.filters,"and")).map(function(t){return _n(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)}),this.Ye.set(e,t),t)}},{key:"nn",value:function(e,t,n,r,a,i,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,a.length),c=s/(null!=t?t.length:1),l=[],h=function(){var s=t?u.sn(t[d/c]):Oi,h=u.rn(e,s,n[d%c],r),p=u.on(e,s,a[d%c],i),v=o.map(function(t){return u.rn(e,s,t,!0)});l.push.apply(l,Object(f.a)(u.createRange(h,p,v)))},d=0;d<s;++d)h();return l}},{key:"rn",value:function(e,t,n,r){var a=new si(e,ae.empty(),t,n);return r?a:a.qe()}},{key:"on",value:function(e,t,n,r){var a=new si(e,ae.empty(),t,n);return r?a.qe():a}},{key:"Xe",value:function(e,t){var n=new fi(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(function(e){var t,r=null,a=g(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n.Qe(i)&&(!r||i.fields.length>r.fields.length)&&(r=i)}}catch(o){a.e(o)}finally{a.f()}return r})}},{key:"getIndexType",value:function(e,t){var n=this,r=2,a=this.Ze(t);return be.forEach(a,function(t){return n.Xe(e,t).next(function(e){e?0!==r&&e.fields.length<function(e){var t,n=new vt(re.comparator),r=!1,a=g(e.filters);try{for(a.s();!(t=a.n()).done;){var i,o=g(t.value.getFlattenedFilters());try{for(o.s();!(i=o.n()).done;){var u=i.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){a.e(f)}finally{a.f()}var s,c=g(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0})}).next(function(){return null!==t.limit&&a.length>1&&2===r?1:r})}},{key:"un",value:function(e,t){var n,r=new ui,a=g(ue(e));try{for(a.s();!(n=a.n()).done;){var i=n.value,o=t.data.field(i.fieldPath);if(null==o)return null;var u=r.Le(i.kind);ti.pe.oe(o,u)}}catch(s){a.e(s)}finally{a.f()}return r.$e()}},{key:"sn",value:function(e){var t=new ui;return ti.pe.oe(e,t.Le(0)),t.$e()}},{key:"cn",value:function(e,t){var n=new ui;return ti.pe.oe(Ft(this.databaseId,t),n.Le(function(e){var t=ue(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"en",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new ui);var a,i=0,o=g(ue(e));try{for(o.s();!(a=o.n()).done;){var u,s=a.value,c=n[i++],l=g(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.an(t,s.fieldPath)&&Vt(c))r=this.hn(r,s,c);else{var h=f.Le(s.kind);ti.pe.oe(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.ln(r)}},{key:"tn",value:function(e,t,n){return this.en(e,t,n.position)}},{key:"ln",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"hn",value:function(e,t,n){var r,a=Object(f.a)(e),i=[],o=g(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=g(a);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=new ui;h.seed(l.$e()),ti.pe.oe(s,h.Le(t.kind)),i.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return i}},{key:"an",value:function(e,t){return!!e.filters.find(function(e){return e instanceof on&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)})}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=xi(e),a=Ei(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(function(e){var t=[];return be.forEach(e,function(e){return a.get([e.indexId,n.uid]).next(function(n){t.push(function(e,t){var n=t?new ce(t.sequenceNumber,new he(Ba(t.readTime),new ae(Me(t.documentKey)),t.largestBatchId)):ce.empty(),r=e.fields.map(function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return new se(re.fromServerFormat(n),r)});return new ie(e.indexId,e.collectionGroup,r,n)}(e,n))})}).next(function(){return t})})}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next(function(e){return 0===e.length?null:(e.sort(function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Y(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup)})}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,a=xi(e),i=Ei(e);return this.fn(e).next(function(e){return a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(function(t){return be.forEach(t,function(t){return i.put(Ya(t.indexId,r.user,e,n))})})})}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return be.forEach(t,function(t,a){var i=r.get(t.collectionGroup);return(i?be.resolve(i):n.getFieldIndexes(e,t.collectionGroup)).next(function(i){return r.set(t.collectionGroup,i),be.forEach(i,function(r){return n.dn(e,t,r).next(function(t){var i=n.wn(a,r);return t.isEqual(i)?be.resolve():n._n(e,a,r,t,i)})})})})}},{key:"mn",value:function(e,t,n,r){return _i(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"gn",value:function(e,t,n,r){return _i(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(n,t.key),t.key.path.toArray()])}},{key:"dn",value:function(e,t,n){var r=_i(e),a=new vt(ci);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.cn(n,t)])},function(e,r){a=a.add(new si(n.indexId,t,r.arrayValue,r.directionalValue))}).next(function(){return a})}},{key:"wn",value:function(e,t){var n=new vt(ci),r=this.un(t,e);if(null==r)return n;var a=oe(t);if(null!=a){var i=e.data.field(a.fieldPath);if(Vt(i)){var o,u=g(i.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new si(t.indexId,e.key,this.sn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new si(t.indexId,e.key,Oi,r));return n}},{key:"_n",value:function(e,t,n,r,a){var i=this;T("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,a){for(var i=e.getIterator(),o=t.getIterator(),u=yt(i),s=yt(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=yt(o)):l?(a(u),u=yt(i)):(u=yt(i),s=yt(o))}}(r,a,ci,function(r){o.push(i.mn(e,t,n,r))},function(r){o.push(i.gn(e,t,n,r))}),be.waitFor(o)}},{key:"fn",value:function(e){var t=1;return Ei(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},function(e,n,r){r.done(),t=n.sequenceNumber+1}).next(function(){return t})}},{key:"createRange",value:function(e,t,n){n=n.sort(function(e,t){return ci(e,t)}).filter(function(e,t,n){return!t||0!==ci(e,n[t-1])});var r=[];r.push(e);var a,i=g(n);try{for(i.s();!(a=i.n()).done;){var o=a.value,u=ci(o,e),s=ci(o,t);if(0===u)r[0]=e.qe();else if(u>0&&s<0)r.push(o),r.push(o.qe());else if(s>0)break}}catch(d){i.e(d)}finally{i.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.yn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Oi,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Oi,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"yn",value:function(e,t){return ci(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ii)}},{key:"getMinOffset",value:function(e,t){var n=this;return be.mapArray(this.Ze(t),function(t){return n.Xe(e,t).next(function(e){return e||A()})}).next(Ii)}}]),e}();function ji(e){return st(e,"collectionParents")}function _i(e){return st(e,"indexEntries")}function xi(e){return st(e,"indexConfiguration")}function Ei(e){return st(e,"indexState")}function Ii(e){R(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var a=e[r].indexState.offset;de(a,t)<0&&(t=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new he(t.readTime,t.documentKey,n)}var Ti={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Si=function(){function e(t,n,r){Object(h.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(d.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Ci(e,t,n){var r=e.store("mutations"),a=e.store("documentMutations"),i=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},function(e,t,n){return u++,n.delete()});i.push(s.next(function(){R(1===u)}));var c,l=[],f=g(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ve(t,h.key.path,n.batchId);i.push(a.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return be.waitFor(i).next(function(){return l})}function Ni(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw A();t=e.noDocument}return JSON.stringify(t).length}Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(41943040,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);var Ai=function(){function e(t,n,r,a){Object(h.a)(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.pn={}}return Object(d.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pi(e).Z({index:"userMutationsIndex",range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})}},{key:"addMutationBatch",value:function(e,t,n,r){var a=this,i=Di(e),o=Pi(e);return o.add({}).next(function(u){R("number"==typeof u);var s,c=new qr(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map(function(t){return xa(e.se,t)}),a=n.mutations.map(function(t){return xa(e.se,t)});return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:a}}(a.serializer,a.userId,c),f=[],h=new vt(function(e,t){return Y(e.canonicalString(),t.canonicalString())}),d=g(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Ve(a.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(i.put(v,ze))}}catch(m){d.e(m)}finally{d.f()}return h.forEach(function(t){f.push(a.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){a.pn[u]=c.keys()}),be.waitFor(f).next(function(){return c})})}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Pi(e).get(t).next(function(e){return e?(R(e.userId===n.userId),qa(n.serializer,e)):null})}},{key:"In",value:function(e,t){var n=this;return this.pn[t]?be.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.pn[t]=r,r}return null})}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]),i=null;return Pi(e).Z({index:"userMutationsIndex",range:a},function(e,t,a){t.userId===n.userId&&(R(t.batchId>=r),i=qa(n.serializer,t)),a.done()}).next(function(){return i})}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Pi(e).Z({index:"userMutationsIndex",range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pi(e).j("userMutationsIndex",n).next(function(e){return e.map(function(e){return qa(t.serializer,e)})})}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ue(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return Di(e).Z({range:a},function(r,a,u){var s=Object(i.a)(r,3),c=s[0],l=s[1],f=s[2],h=Me(l);if(c===n.userId&&t.path.isEqual(h))return Pi(e).get(f).next(function(e){if(!e)throw A();R(e.userId===n.userId),o.push(qa(n.serializer,e))});u.done()}).next(function(){return o})}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vt(Y),a=[];return t.forEach(function(t){var o=Ue(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=Di(e).Z({range:u},function(e,a,o){var u=Object(i.a)(e,3),s=u[0],c=u[1],l=u[2],f=Me(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()});a.push(s)}),be.waitFor(a).next(function(){return n.Tn(e,r)})}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,a=r.length+1,o=Ue(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new vt(Y);return Di(e).Z({range:u},function(e,t,o){var u=Object(i.a)(e,3),c=u[0],l=u[1],f=u[2],h=Me(l);c===n.userId&&r.isPrefixOf(h)?h.length===a&&(s=s.add(f)):o.done()}).next(function(){return n.Tn(e,s)})}},{key:"Tn",value:function(e,t){var n=this,r=[],a=[];return t.forEach(function(t){a.push(Pi(e).get(t).next(function(e){if(null===e)throw A();R(e.userId===n.userId),r.push(qa(n.serializer,e))}))}),be.waitFor(a).next(function(){return r})}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ci(e.at,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.En(t.batchId)}),be.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})}},{key:"En",value:function(e){delete this.pn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return be.resolve();var r=IDBKeyRange.lowerBound([t.userId]),a=[];return Di(e).Z({range:r},function(e,n,r){if(e[0]===t.userId){var i=Me(e[1]);a.push(i)}else r.done()}).next(function(){R(0===a.length)})})}},{key:"containsKey",value:function(e,t){return Ri(e,this.userId,t)}},{key:"An",value:function(e){var t=this;return Li(e).get(this.userId).next(function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}})}}],[{key:"ie",value:function(t,n,r,a){return R(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,a)}}]),e}();function Ri(e,t,n){var r=Ue(t,n.path),a=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return Di(e).Z({range:o,Y:!0},function(e,n,r){var o=Object(i.a)(e,3),s=o[0],c=o[1];o[2];s===t&&c===a&&(u=!0),r.done()}).next(function(){return u})}function Pi(e){return st(e,"mutations")}function Di(e){return st(e,"documentMutations")}function Li(e){return st(e,"mutationQueues")}var Mi=function(){function e(t){Object(h.a)(this,e),this.Rn=t}return Object(d.a)(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}(),Fi=function(){function e(t,n){Object(h.a)(this,e),this.referenceDelegate=t,this.serializer=n}return Object(d.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Pn(e).next(function(n){var r=new Mi(n.highestTargetId);return n.highestTargetId=r.next(),t.Vn(e,n).next(function(){return n.highestTargetId})})}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Pn(e).next(function(e){return Z.fromTimestamp(new X(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})}},{key:"getHighestSequenceNumber",value:function(e){return this.Pn(e).next(function(e){return e.highestListenSequenceNumber})}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Pn(e).next(function(a){return a.highestListenSequenceNumber=t,n&&(a.lastRemoteSnapshotVersion=n.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),r.Vn(e,a)})}},{key:"addTargetData",value:function(e,t){var n=this;return this.Sn(e,t).next(function(){return n.Pn(e).next(function(r){return r.targetCount+=1,n.Dn(t,r),n.Vn(e,r)})})}},{key:"updateTargetData",value:function(e,t){return this.Sn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Ui(e).delete(t.targetId)}).next(function(){return n.Pn(e)}).next(function(t){return R(t.targetCount>0),t.targetCount-=1,n.Vn(e,t)})}},{key:"removeTargets",value:function(e,t,n){var r=this,a=0,i=[];return Ui(e).Z(function(o,u){var s=Ga(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(a++,i.push(r.removeTargetData(e,s)))}).next(function(){return be.waitFor(i)}).next(function(){return a})}},{key:"forEachTarget",value:function(e,t){return Ui(e).Z(function(e,n){var r=Ga(n);t(r)})}},{key:"Pn",value:function(e){return Vi(e).get("targetGlobalKey").next(function(e){return R(null!==e),e})}},{key:"Vn",value:function(e,t){return Vi(e).put("targetGlobalKey",t)}},{key:"Sn",value:function(e,t){return Ui(e).put(Ka(this.serializer,t))}},{key:"Dn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Pn(e).next(function(e){return e.targetCount})}},{key:"getTargetData",value:function(e,t){var n=xn(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),a=null;return Ui(e).Z({range:r,index:"queryTargetsIndex"},function(e,n,r){var i=Ga(n);En(t,i.target)&&(a=i,r.done())}).next(function(){return a})}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,a=[],i=zi(e);return t.forEach(function(t){var o=Pe(t.path);a.push(i.put({targetId:n,path:o})),a.push(r.referenceDelegate.addReference(e,n,t))}),be.waitFor(a)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,a=zi(e);return be.forEach(t,function(t){var i=Pe(t.path);return be.waitFor([a.delete([n,i]),r.referenceDelegate.removeReference(e,n,t)])})}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=zi(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zi(e),a=or();return r.Z({range:n,Y:!0},function(e,t,n){var r=Me(e[1]),i=new ae(r);a=a.add(i)}).next(function(){return a})}},{key:"containsKey",value:function(e,t){var n=Pe(t.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),a=0;return zi(e).Z({index:"documentTargetsIndex",Y:!0,range:r},function(e,t,n){var r=Object(i.a)(e,2),o=r[0];r[1];0!==o&&(a++,n.done())}).next(function(){return a>0})}},{key:"ne",value:function(e,t){return Ui(e).get(t).next(function(e){return e?Ga(e):null})}}]),e}();function Ui(e){return st(e,"targets")}function Vi(e){return st(e,"targetGlobal")}function zi(e){return st(e,"targetDocuments")}function Bi(e,t){var n=Object(i.a)(e,2),r=n[0],a=n[1],o=Object(i.a)(t,2),u=o[0],s=o[1],c=Y(r,u);return 0===c?Y(a,s):c}var qi=function(){function e(t){Object(h.a)(this,e),this.Cn=t,this.buffer=new vt(Bi),this.xn=0}return Object(d.a)(e,[{key:"Nn",value:function(){return++this.xn}},{key:"kn",value:function(e){var t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Bi(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Gi=function(){function e(t,n,r){Object(h.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return Object(d.a)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"$n",value:function(e){var t=this;T("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!je(e.t0)){e.next=12;break}T("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,me(e.t0);case 14:return e.next=16,t.$n(3e5);case 16:case"end":return e.stop()}},e,null,[[1,6]])})))}},{key:"started",get:function(){return null!==this.On}}]),e}(),Ki=function(){function e(t,n){Object(h.a)(this,e),this.Mn=t,this.params=n}return Object(d.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.Fn(e).next(function(e){return Math.floor(t/100*e)})}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return be.resolve(Ce.ct);var r=new qi(t);return this.Mn.forEachTarget(e,function(e){return r.kn(e.sequenceNumber)}).next(function(){return n.Mn.Bn(e,function(e){return r.kn(e)})}).next(function(){return r.maxValue})}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(Ti)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Ti):n.Ln(e,t)})}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"Ln",value:function(e,t){var n,r,a,i,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(T("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return a=t,u=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return s=Date.now(),E()<=m.a.DEBUG&&T("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-i)+"ms\n"+"\tRemoved ".concat(a," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e})})}}]),e}(),Hi=function(){function e(t,n){Object(h.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ki(e,t)}(this,n)}return Object(d.a)(e,[{key:"Fn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})}},{key:"qn",value:function(e){var t=0;return this.Bn(e,function(e){t++}).next(function(){return t})}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Bn",value:function(e,t){return this.Un(e,function(e,n){return t(n)})}},{key:"addReference",value:function(e,t,n){return Wi(e,n)}},{key:"removeReference",value:function(e,t,n){return Wi(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Wi(e,t)}},{key:"Kn",value:function(e,t){return function(e,t){var n=!1;return Li(e).X(function(r){return Ri(e,r,t).next(function(e){return e&&(n=!0),be.resolve(!e)})}).next(function(){return n})}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[],i=0;return this.Un(e,function(o,u){if(u<=t){var s=n.Kn(e,o).next(function(t){if(!t)return i++,r.getEntry(e,o).next(function(){return r.removeEntry(o,Z.min()),zi(e).delete([0,Pe(o.path)])})});a.push(s)}}).next(function(){return be.waitFor(a)}).next(function(){return r.apply(e)}).next(function(){return i})}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Wi(e,t)}},{key:"Un",value:function(e,t){var n,r=zi(e),a=Ce.ct;return r.Z({index:"documentTargetsIndex"},function(e,r){var o=Object(i.a)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(a!==Ce.ct&&t(new ae(Me(n)),a),a=c,n=s):a=Ce.ct}).next(function(){a!==Ce.ct&&t(new ae(Me(n)),a)})}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Wi(e,t){return zi(e).put(function(e,t){return{targetId:0,path:Pe(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Qi=function(){function e(){Object(h.a)(this,e),this.changes=new Yn(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return Object(d.a)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?be.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Yi=function(){function e(t){Object(h.a)(this,e),this.serializer=t}return Object(d.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Zi(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Zi(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Va(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.Gn(e,r)})}},{key:"getEntry",value:function(e,t){var n=this,r=Xt.newInvalidDocument(t);return Zi(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(eo(t))},function(e,a){r=n.Qn(t,a)}).next(function(){return r})}},{key:"zn",value:function(e,t){var n=this,r={size:0,document:Xt.newInvalidDocument(t)};return Zi(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(eo(t))},function(e,a){r={document:n.Qn(t,a),size:Ni(a)}}).next(function(){return r})}},{key:"getEntries",value:function(e,t){var n=this,r=Jn();return this.jn(e,t,function(e,t){var a=n.Qn(e,t);r=r.insert(e,a)}).next(function(){return r})}},{key:"Wn",value:function(e,t){var n=this,r=Jn(),a=new ht(ae.comparator);return this.jn(e,t,function(e,t){var i=n.Qn(e,t);r=r.insert(e,i),a=a.insert(e,Ni(t))}).next(function(){return{documents:r,Hn:a}})}},{key:"jn",value:function(e,t,n){if(t.isEmpty())return be.resolve();var r=new vt(no);t.forEach(function(e){return r=r.add(e)});var a=IDBKeyRange.bound(eo(r.first()),eo(r.last())),i=r.getIterator(),o=i.getNext();return Zi(e).Z({index:"documentKeyIndex",range:a},function(e,t,r){for(var a=ae.fromSegments([].concat(Object(f.a)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&no(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.G(eo(o)):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var a=this,i=t.path,o=[i.popLast().toArray(),i.lastSegment(),Va(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zi(e).j(IDBKeyRange.bound(o,u,!0)).next(function(e){var n,i=Jn(),o=g(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=a.Qn(ae.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Kn(t,s)||r.has(s.key))&&(i=i.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return i})}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var a=this,i=Jn(),o=to(t,n),u=to(t,he.max());return Zi(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},function(e,t,n){var o=a.Qn(ae.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(i=i.insert(o.key,o)).size===r&&n.done()}).next(function(){return i})}},{key:"newChangeBuffer",value:function(e){return new Ji(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next(function(e){return e.byteSize})}},{key:"getMetadata",value:function(e){return Xi(e).get("remoteDocumentGlobalKey").next(function(e){return R(!!e),e})}},{key:"Gn",value:function(e,t){return Xi(e).put("remoteDocumentGlobalKey",t)}},{key:"Qn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ja(e.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ae.fromSegments(t.noDocument.path),a=Ba(t.noDocument.readTime);n=Xt.newNoDocument(r,a),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return A();var i=ae.fromSegments(t.unknownDocument.path),o=Ba(t.unknownDocument.version);n=Xt.newUnknownDocument(i,o)}return t.readTime&&n.setReadTime(function(e){var t=new X(e[0],e[1]);return Z.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Z.min()))return n}return Xt.newInvalidDocument(e)}}]),e}();function $i(e){return new Yi(e)}var Ji=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).Jn=e,r.trackRemovals=n,r.Yn=new Yn(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,a=new vt(function(e,t){return Y(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(i,o){var u=t.Yn.get(i);if(n.push(t.Jn.removeEntry(e,i,u.readTime)),o.isValidDocument()){var s=Ua(t.Jn.serializer,o);a=a.add(i.path.popLast());var c=Ni(s);r+=c-u.size,n.push(t.Jn.addEntry(e,i,s))}else if(r-=u.size,t.trackRemovals){var l=Ua(t.Jn.serializer,o.convertToNoDocument(Z.min()));n.push(t.Jn.addEntry(e,i,l))}}),a.forEach(function(r){n.push(t.Jn.indexManager.addToCollectionParentIndex(e,r))}),n.push(this.Jn.updateMetadata(e,r)),be.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Jn.zn(e,t).next(function(e){return n.Yn.set(t,{size:e.size,readTime:e.document.readTime}),e.document})}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Jn.Wn(e,t).next(function(e){var t=e.documents;return e.Hn.forEach(function(e,r){n.Yn.set(e,{size:r,readTime:t.get(e).readTime})}),t})}}]),t}(Qi);function Xi(e){return st(e,"remoteDocumentGlobal")}function Zi(e){return st(e,"remoteDocumentsV14")}function eo(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function to(e,t){var n=t.documentKey.path.toArray();return[e,Va(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function no(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),a=0,i=0;i<n.length-2&&i<r.length-2;++i)if(a=Y(n[i],r[i]))return a;return(a=Y(n.length,r.length))||((a=Y(n[n.length-2],r[r.length-2]))||Y(n[n.length-1],r[r.length-1]))}var ro=function e(t,n){Object(h.a)(this,e),this.overlayedDocument=t,this.mutatedFields=n},ao=function(){function e(t,n,r,a){Object(h.a)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}return Object(d.a)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next(function(a){return r=a,n.remoteDocumentCache.getEntry(e,t)}).next(function(e){return null!==r&&Nr(r.mutation,e,bt.empty(),X.now()),e})}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t,or()).next(function(){return t})})}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or(),a=tr();return this.populateOverlays(e,a,t).next(function(){return n.computeViews(e,t,a,r).next(function(e){var t=Zn();return e.forEach(function(e,n){t=t.insert(e,n.overlayedDocument)}),t})})}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=tr();return this.populateOverlays(e,r,t).next(function(){return n.computeViews(e,t,r,or())})}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach(function(e){t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(function(e){e.forEach(function(e,n){t.set(e,n)})})}},{key:"computeViews",value:function(e,t,n,r){var a=Jn(),i=rr(),o=rr();return t.forEach(function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Dr)?a=a.insert(t.key,t):void 0!==o?(i.set(t.key,o.mutation.getFieldMask()),Nr(o.mutation,t,o.mutation.getFieldMask(),X.now())):i.set(t.key,bt.empty())}),this.recalculateAndSaveOverlays(e,a).next(function(e){return e.forEach(function(e,t){return i.set(e,t)}),t.forEach(function(e,t){var n;return o.set(e,new ro(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),o})}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=rr(),a=new ht(function(e,t){return e-t}),i=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){var n,i=g(e);try{var o=function(){var e=n.value;e.keys().forEach(function(n){var i=t.get(n);if(null!==i){var o=r.get(n)||bt.empty();o=e.applyToLocalView(i,o),r.set(n,o);var u=(a.get(e.batchId)||or()).add(n);a=a.insert(e.batchId,u)}})};for(i.s();!(n=i.n()).done;)o()}catch(u){i.e(u)}finally{i.f()}}).next(function(){for(var o=[],u=a.getReverseIterator(),s=function(){var a=u.getNext(),s=a.key,c=a.value,l=nr();c.forEach(function(e){if(!i.has(e)){var n=Sr(t.get(e),r.get(e));null!==n&&l.set(e,n),i=i.add(e)}}),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return be.waitFor(o)}).next(function(){return r})}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.recalculateAndSaveOverlays(e,t)})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ae.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var a=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(function(i){var o=r-i.size>0?a.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):be.resolve(tr()),u=-1,s=i;return o.next(function(t){return be.forEach(t,function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),i.get(t)?be.resolve():a.remoteDocumentCache.getEntry(e,t).next(function(e){s=s.insert(t,e)})}).next(function(){return a.populateOverlays(e,t,i)}).next(function(){return a.computeViews(e,s,t,or())}).next(function(e){return{batchId:u,changes:er(e)}})})})}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ae(t)).next(function(e){var t=Zn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,a=t.collectionGroup,i=Zn();return this.indexManager.getCollectionParents(e,a).next(function(o){return be.forEach(o,function(o){var u=function(e,t){return new Nn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(a));return r.getDocumentsMatchingCollectionQuery(e,u,n).next(function(e){e.forEach(function(e,t){i=i.insert(e,t)})})}).next(function(){return i})})}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(function(i){return r=i,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)}).next(function(e){r.forEach(function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Xt.newInvalidDocument(r)))});var n=Zn();return e.forEach(function(e,a){var i=r.get(e);void 0!==i&&Nr(i.mutation,a,bt.empty(),X.now()),Kn(t,a)&&(n=n.insert(e,a))}),n})}}]),e}(),io=function(){function e(t){Object(h.a)(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return Object(d.a)(e,[{key:"getBundleMetadata",value:function(e,t){return be.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:da(n.createTime)}),be.resolve()}},{key:"getNamedQuery",value:function(e,t){return be.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Ha(e.bundledQuery),readTime:da(e.readTime)}}(t)),be.resolve()}}]),e}(),oo=function(){function e(){Object(h.a)(this,e),this.overlays=new ht(ae.comparator),this.ts=new Map}return Object(d.a)(e,[{key:"getOverlay",value:function(e,t){return be.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=tr();return be.forEach(t,function(t){return n.getOverlay(e,t).next(function(e){null!==e&&r.set(t,e)})}).next(function(){return r})}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach(function(n,a){r.re(e,t,a)}),be.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,a=this.ts.get(n);return void 0!==a&&(a.forEach(function(e){return r.overlays=r.overlays.remove(e)}),this.ts.delete(n)),be.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=tr(),a=t.length+1,i=new ae(t.child("")),o=this.overlays.getIteratorFrom(i);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===a&&u.largestBatchId>n&&r.set(u.getKey(),u)}return be.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var a=new ht(function(e,t){return e-t}),i=this.overlays.getIterator();i.hasNext();){var o=i.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=a.get(o.largestBatchId);null===u&&(u=tr(),a=a.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=tr(),c=a.getIterator();c.hasNext()&&(c.getNext().value.forEach(function(e,t){return s.set(e,t)}),!(s.size()>=r)););return be.resolve(s)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var a=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new Kr(t,n));var i=this.ts.get(t);void 0===i&&(i=or(),this.ts.set(t,i)),this.ts.set(t,i.add(n.key))}}]),e}(),uo=function(){function e(){Object(h.a)(this,e),this.es=new vt(so.ns),this.ss=new vt(so.rs)}return Object(d.a)(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new so(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})}},{key:"removeReference",value:function(e,t){this.us(new so(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})}},{key:"hs",value:function(e){var t=this,n=new ae(new te([])),r=new so(n,e),a=new so(n,e+1),i=[];return this.ss.forEachInRange([r,a],function(e){t.us(e),i.push(e.key)}),i}},{key:"ls",value:function(){var e=this;this.es.forEach(function(t){return e.us(t)})}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new ae(new te([])),n=new so(t,e),r=new so(t,e+1),a=or();return this.ss.forEachInRange([n,r],function(e){a=a.add(e.key)}),a}},{key:"containsKey",value:function(e){var t=new so(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),so=function(){function e(t,n){Object(h.a)(this,e),this.key=t,this.ds=n}return Object(d.a)(e,null,[{key:"ns",value:function(e,t){return ae.comparator(e.key,t.key)||Y(e.ds,t.ds)}},{key:"rs",value:function(e,t){return Y(e.ds,t.ds)||ae.comparator(e.key,t.key)}}]),e}(),co=function(){function e(t,n){Object(h.a)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new vt(so.ns)}return Object(d.a)(e,[{key:"checkEmpty",value:function(e){return be.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var a=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var i=new qr(a,t,n,r);this.mutationQueue.push(i);var o,u=g(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this._s=this._s.add(new so(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return be.resolve(i)}},{key:"lookupMutationBatch",value:function(e,t){return be.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),a=r<0?0:r;return be.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return be.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return be.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new so(t,0),a=new so(t,Number.POSITIVE_INFINITY),i=[];return this._s.forEachInRange([r,a],function(e){var t=n.gs(e.ds);i.push(t)}),be.resolve(i)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vt(Y);return t.forEach(function(e){var t=new so(e,0),a=new so(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,a],function(e){r=r.add(e.ds)})}),be.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,a=n;ae.isDocumentKey(a)||(a=a.child(""));var i=new so(new ae(a),0),o=new vt(Y);return this._s.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)},i),be.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t.gs(e);null!==r&&n.push(r)}),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;R(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return be.forEach(t.mutations,function(a){var i=new so(a.key,t.batchId);return r=r.delete(i),n.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(function(){n._s=r})}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new so(t,0),r=this._s.firstAfterOrEqual(n);return be.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,be.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),lo=function(){function e(t){Object(h.a)(this,e),this.Ts=t,this.docs=new ht(ae.comparator),this.size=0}return Object(d.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),a=r?r.size:0,i=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return be.resolve(n?n.document.mutableCopy():Xt.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Jn();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Xt.newInvalidDocument(e))}),be.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var a=Jn(),i=t.path,o=new ae(i.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||de(fe(l),n)<=0||(r.has(l.key)||Kn(t,l))&&(a=a.insert(l.key,l.mutableCopy()))}return be.resolve(a)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){A()}},{key:"Es",value:function(e,t){return be.forEach(this.docs,function(e){return t(e)})}},{key:"newChangeBuffer",value:function(e){return new fo(this)}},{key:"getSize",value:function(e){return be.resolve(this.size)}}]),e}(),fo=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).Jn=e,n}return Object(l.a)(t,e),Object(d.a)(t,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach(function(r,a){a.isValidDocument()?n.push(t.Jn.addEntry(e,a)):t.Jn.removeEntry(r)}),be.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),t}(Qi),ho=function(){function e(t){Object(h.a)(this,e),this.persistence=t,this.As=new Yn(function(e){return xn(e)},En),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Rs=0,this.vs=new uo,this.targetCount=0,this.bs=Mi.vn()}return Object(d.a)(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach(function(e,n){return t(n)}),be.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return be.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return be.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),be.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),be.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Mi(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,be.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),be.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,be.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,a=0,i=[];return this.As.forEach(function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.As.delete(o),i.push(r.removeMatchingKeysForTargetId(e,u.targetId)),a++)}),be.waitFor(i).next(function(){return a})}},{key:"getTargetCount",value:function(e){return be.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return be.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),be.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(function(t){a.push(r.markPotentiallyOrphaned(e,t))}),be.waitFor(a)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),be.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return be.resolve(n)}},{key:"containsKey",value:function(e,t){return be.resolve(this.vs.containsKey(t))}}]),e}(),po=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.Ps={},this.overlays={},this.Vs=new Ce(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new ho(this),this.indexManager=new gi,this.remoteDocumentCache=new lo(function(e){return r.referenceDelegate.Cs(e)}),this.serializer=new Fa(n),this.xs=new io(this.serializer)}return Object(d.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new oo,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new co(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;T("MemoryPersistence","Starting transaction:",e);var a=new vo(this.Vs.next());return this.referenceDelegate.Ns(),n(a).next(function(e){return r.referenceDelegate.ks(a).next(function(){return e})}).toPromise().then(function(e){return a.raiseOnCommittedEvent(),e})}},{key:"Os",value:function(e,t){return be.or(Object.values(this.Ps).map(function(n){return function(){return n.containsKey(e,t)}}))}},{key:"started",get:function(){return this.Ss}}]),e}(),vo=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).currentSequenceNumber=e,n}return Object(l.a)(t,e),t}(ve),mo=function(){function e(t){Object(h.a)(this,e),this.persistence=t,this.$s=new uo,this.Ms=null}return Object(d.a)(e,[{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),be.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),be.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),be.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach(function(e){return n.Bs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.Bs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Bs,function(r){var a=ae.fromPath(r);return t.Ls(e,a).next(function(e){e||n.removeEntry(a,Z.min())})}).next(function(){return t.Ms=null,n.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next(function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())})}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return be.or([function(){return be.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}},{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw A()}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}(),yo=function(){function e(t){Object(h.a)(this,e),this.serializer=t}return Object(d.a)(e,[{key:"M",value:function(e,t,n,r){var a=this,i=new ge("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fe,{unique:!0}),e.createObjectStore("documentMutations")}(e),bo(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=be.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),bo(e)),o=o.next(function(){return function(e){var t=i.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Z.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}()})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(e,t){return t.store("mutations").j().next(function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fe,{unique:!0});var r=t.store("mutations"),a=n.map(function(e){return r.put(e)});return be.waitFor(a)})}(e,i)})),o=o.next(function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(function(){return a.qs(i)})),n<6&&r>=6&&(o=o.next(function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),a.Us(i)})),n<7&&r>=7&&(o=o.next(function(){return a.Ks(i)})),n<8&&r>=8&&(o=o.next(function(){return a.Gs(e,i)})),n<9&&r>=9&&(o=o.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(o=o.next(function(){return a.Qs(i)})),n<11&&r>=11&&(o=o.next(function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Ze});t.createIndex("collectionPathOverlayIndex",et,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",tt,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Be});t.createIndex("documentKeyIndex",qe),t.createIndex("collectionGroupIndex",Ge)}(e)}).next(function(){return a.zs(e,i)}).next(function(){return e.deleteObjectStore("remoteDocuments")})),n<14&&r>=14&&(o=o.next(function(){return a.js(e,i)})),n<15&&r>=15&&(o=o.next(function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ye}).createIndex("sequenceNumberIndex",$e,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Je}).createIndex("documentKeyIndex",Xe,{unique:!1})}(e)})),o}},{key:"Us",value:function(e){var t=0;return e.store("remoteDocuments").Z(function(e,n){t+=Ni(n)}).next(function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(function(n){return be.forEach(n,function(n){var a=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",a).next(function(r){return be.forEach(r,function(r){R(r.userId===n.userId);var a=qa(t.serializer,r);return Ci(e,n.userId,a).next(function(){})})})})})}},{key:"Ks",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(function(e){var r=[];return n.Z(function(n,a){var i=new te(n),o=[0,Pe(i)];r.push(t.get(o).next(function(n){return n?be.resolve():function(n){return t.put({targetId:0,path:Pe(n),sequenceNumber:e.highestListenSequenceNumber})}(i)}))}).next(function(){return be.waitFor(r)})})}},{key:"Gs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Qe});var n=t.store("collectionParents"),r=new ki,a=function(e){if(r.add(e)){var t=e.lastSegment(),a=e.popLast();return n.put({collectionId:t,parent:Pe(a)})}};return t.store("remoteDocuments").Z({Y:!0},function(e,t){var n=new te(e);return a(n.popLast())}).next(function(){return t.store("documentMutations").Z({Y:!0},function(e,t){var n=Object(i.a)(e,3),r=(n[0],n[1]),o=(n[2],Me(r));return a(o.popLast())})})}},{key:"Qs",value:function(e){var t=this,n=e.store("targets");return n.Z(function(e,r){var a=Ga(r),i=Ka(t.serializer,a);return n.put(i)})}},{key:"zs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z(function(e,n){var a,i=t.store("remoteDocumentsV14"),o=(a=n,a.document?new ae(te.fromString(a.document.name).popFirst(5)):a.noDocument?ae.fromSegments(a.noDocument.path):a.unknownDocument?ae.fromSegments(a.unknownDocument.path):A()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(u))}).next(function(){return be.waitFor(r)})}},{key:"js",value:function(e,t){var n=this,r=t.store("mutations"),a=$i(this.serializer),i=new po(mo.Fs,this.serializer.se);return r.j().next(function(e){var r=new Map;return e.forEach(function(e){var t,a=null!==(t=r.get(e.userId))&&void 0!==t?t:or();qa(n.serializer,e).keys().forEach(function(e){return a=a.add(e)}),r.set(e.userId,a)}),be.forEach(r,function(e,r){var o=new j(r),u=Za.ie(n.serializer,o),s=i.getIndexManager(o),c=Ai.ie(o,n.serializer,s,i.referenceDelegate);return new ao(a,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new ut(t,Ce.ct),e).next()})})}}]),e}();function bo(e){e.createObjectStore("targetDocuments",{keyPath:He}).createIndex("documentTargetsIndex",We,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ke,{unique:!0}),e.createObjectStore("targetGlobal")}var go="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ko=function(){function e(t,n,r,a,i,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Object(h.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ws=i,this.window=o,this.document=u,this.Hs=c,this.Js=l,this.Ys=f,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=function(e){return Promise.resolve()},!e.D())throw new M(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hi(this,a),this.si=n+"main",this.serializer=new Fa(s),this.ii=new ke(this.si,this.Ys,new yo(this.serializer)),this.Ds=new Fi(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$i(this.serializer),this.xs=new $a,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===l&&S("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(d.a)(e,[{key:"start",value:function(){var e=this;return this.oi().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new M(L.FAILED_PRECONDITION,go);return e.ui(),e.ci(),e.ai(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.Ds.getHighestSequenceNumber(t)})}).then(function(t){e.Vs=new Ce(t,e.Hs)}).then(function(){e.Ss=!0}).catch(function(t){return e.ii&&e.ii.close(),Promise.reject(t)})}},{key:"hi",value:function(e){var t=this;return this.ni=function(){var n=Object(u.a)(O().mark(function n(r){return O().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ii.B(function(){var t=Object(u.a)(O().mark(function t(n){return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget(Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.oi();case 4:case"end":return e.stop()}},e)}))))}},{key:"oi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return wo(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next(function(){if(e.isPrimary)return e.li(t).next(function(t){t||(e.isPrimary=!1,e.Ws.enqueueRetryable(function(){return e.ni(!1)}))})}).next(function(){return e.fi(t)}).next(function(n){return e.isPrimary&&!n?e.di(t).next(function(){return!1}):!!n&&e.wi(t).next(function(){return!0})})}).catch(function(t){if(je(t))return T("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return T("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Ws.enqueueRetryable(function(){return e.ni(t)}),e.isPrimary=t})}},{key:"li",value:function(e){var t=this;return Oo(e).get("owner").next(function(e){return be.resolve(t._i(e))})}},{key:"mi",value:function(e){return wo(e).delete(this.clientId)}},{key:"gi",value:function(){var e=Object(u.a)(O().mark(function e(){var t,n,r,a,i=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.yi(this.ei,18e5)){e.next=6;break}return this.ei=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=st(e,"clientMetadata");return t.j().next(function(e){var n=i.pi(e,18e5),r=e.filter(function(e){return-1===n.indexOf(e)});return be.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]});case 4:if(t=e.sent,this.ri){n=g(t);try{for(n.s();!(r=n.n()).done;)a=r.value,this.ri.removeItem(this.Ii(a.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"ai",value:function(){var e=this;this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.oi().then(function(){return e.gi()}).then(function(){return e.ai()})})}},{key:"_i",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.Js?be.resolve(!0):Oo(e).get("owner").next(function(n){if(null!==n&&t.yi(n.leaseTimestampMs,5e3)&&!t.Ti(n.ownerId)){if(t._i(n)&&t.networkEnabled)return!0;if(!t._i(n)){if(!n.allowTabSynchronization)throw new M(L.FAILED_PRECONDITION,go);return!1}}return!(!t.networkEnabled||!t.inForeground)||wo(e).j().next(function(e){return void 0===t.pi(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,a=t.networkEnabled===e.networkEnabled;if(n||r&&a)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&T("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e})}},{key:"shutdown",value:function(){var e=Object(u.a)(O().mark(function e(){var t=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),e.next=7,this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],function(e){var n=new ut(e,Ce.ct);return t.di(n).next(function(){return t.mi(n)})});case 7:this.ii.close(),this.vi();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(e,t){var n=this;return e.filter(function(e){return n.yi(e.updateTimeMs,t)&&!n.Ti(e.clientId)})}},{key:"bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return wo(t).j().next(function(t){return e.pi(t,18e5).map(function(e){return e.clientId})})})}},{key:"getMutationQueue",value:function(e,t){return Ai.ie(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new wi(e,this.serializer.se.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Za.ie(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;T("IndexedDbPersistence","Starting transaction:",e);var a,i,o="readonly"===t?"readonly":"readwrite",u=15===(a=this.Ys)?ot:14===a?it:13===a?at:12===a?rt:11===a?nt:void A();return this.ii.runTransaction(e,o,u,function(a){return i=new ut(a,r.Vs?r.Vs.next():Ce.ct),"readwrite-primary"===t?r.li(i).next(function(e){return!!e||r.fi(i)}).next(function(t){if(!t)throw S("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ws.enqueueRetryable(function(){return r.ni(!1)}),new M(L.FAILED_PRECONDITION,pe);return n(i)}).next(function(e){return r.wi(i).next(function(){return e})}):r.Pi(i).next(function(){return n(i)})}).then(function(e){return i.raiseOnCommittedEvent(),e})}},{key:"Pi",value:function(e){var t=this;return Oo(e).get("owner").next(function(e){if(null!==e&&t.yi(e.leaseTimestampMs,5e3)&&!t.Ti(e.ownerId)&&!t._i(e)&&!(t.Js||t.allowTabSynchronization&&e.allowTabSynchronization))throw new M(L.FAILED_PRECONDITION,go)})}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Oo(e).put("owner",t)}},{key:"di",value:function(e){var t=this,n=Oo(e);return n.get("owner").next(function(e){return t._i(e)?(T("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):be.resolve()})}},{key:"yi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(S("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ui",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=function(){e.Ws.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.oi()})},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ai",value:function(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}},{key:"ci",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ei();var e=/(?:Version|Mobile)\/1[456]/;Object(y.z)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ws.enterRestrictedMode(!0),t.Ws.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.Zs))}},{key:"Ri",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ti",value:function(e){var t;try{var n=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return T("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return S("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ei",value:function(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){S("Failed to set zombie client id.",e)}}},{key:"vi",value:function(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch(e){}}},{key:"Ii",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}},{key:"started",get:function(){return this.Ss}}],[{key:"D",value:function(){return ke.D()}}]),e}();function Oo(e){return st(e,"owner")}function wo(e){return st(e,"clientMetadata")}function jo(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var _o=function(){function e(t,n,r,a){Object(h.a)(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=a}return Object(d.a)(e,null,[{key:"Di",value:function(t,n){var r,a=or(),i=or(),o=g(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,a,i)}}]),e}(),xo=function(){function e(){Object(h.a)(this,e),this.Ci=!1}return Object(d.a)(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var a=this;return this.Ni(e,t).next(function(i){return i||a.ki(e,t,r,n)}).next(function(n){return n||a.Oi(e,t)})}},{key:"Ni",value:function(e,t){var n=this;if(Pn(t))return be.resolve(null);var r=Un(t);return this.indexManager.getIndexType(e,r).next(function(a){return 0===a?null:(null!==t.limit&&1===a&&(t=zn(t,null,"F"),r=Un(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next(function(a){var i=or.apply(void 0,Object(f.a)(a));return n.xi.getDocuments(e,i).next(function(a){return n.indexManager.getMinOffset(e,r).next(function(r){var o=n.$i(t,a);return n.Mi(t,o,i,r.readTime)?n.Ni(e,zn(t,null,"F")):n.Fi(e,o,t,r)})})}))})}},{key:"ki",value:function(e,t,n,r){var a=this;return Pn(t)||r.isEqual(Z.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next(function(i){var o=a.$i(t,i);return a.Mi(t,o,n,r)?a.Oi(e,t):(E()<=m.a.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gn(t)),a.Fi(e,o,t,le(r,-1)))})}},{key:"$i",value:function(e,t){var n=new vt(Wn(e));return t.forEach(function(t,r){Kn(e,r)&&(n=n.add(r))}),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return E()<=m.a.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Gn(t)),this.xi.getDocumentsMatchingQuery(e,t,he.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next(function(e){return t.forEach(function(t){e=e.insert(t.key,t)}),e})}}]),e}(),Eo=function(){function e(t,n,r,a){Object(h.a)(this,e),this.persistence=t,this.Bi=n,this.serializer=a,this.Li=new ht(Y),this.qi=new Yn(function(e){return xn(e)},En),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return Object(d.a)(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ao(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.Li)})}}]),e}();function Io(e,t,n,r){return new Eo(e,t,n,r)}function To(e,t){return So.apply(this,arguments)}function So(){return(So=Object(u.a)(O().mark(function e(t,n){var r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next(function(a){return t=a,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)}).next(function(n){var a,i=[],o=[],u=or(),s=g(t);try{for(s.s();!(a=s.n()).done;){var c=a.value;i.push(c.batchId);var l,f=g(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=g(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=g(v.mutations);try{for(y.s();!(m=y.n()).done;){var b=m.value;u=u.add(b.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next(function(e){return{Qi:e,removedBatchIds:i,addedBatchIds:o}})})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Co(e,t){var n=D(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),a=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var a=n.batch,i=a.keys(),o=be.resolve();return i.forEach(function(e){o=o.next(function(){return r.getEntry(t,e)}).next(function(t){var i=n.docVersions.get(e);R(null!==i),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(function(){return e.mutationQueue.removeMutationBatch(t,a)})}(n,e,t,a).next(function(){return a.apply(e)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=or(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))}).next(function(){return n.localDocuments.getDocuments(e,r)})})}function No(e){var t=D(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.Ds.getLastRemoteSnapshotVersion(e)})}function Ao(e,t){var n=D(e),r=t.snapshotVersion,a=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var i=n.Ki.newChangeBuffer({trackRemovals:!0});a=n.Li;var o=[];t.targetChanges.forEach(function(i,u){var s=a.get(u);if(s){o.push(n.Ds.removeMatchingKeys(e,i.removedDocuments,u).next(function(){return n.Ds.addMatchingKeys(e,i.addedDocuments,u)}));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Ot.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),a=a.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,i)&&o.push(n.Ds.updateTargetData(e,c))}});var u=Jn(),s=or();if(t.documentUpdates.forEach(function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Ro(e,i,t.documentUpdates).next(function(e){u=e.zi,s=e.ji})),!r.isEqual(Z.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next(function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)});o.push(c)}return be.waitFor(o).next(function(){return i.apply(e)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)}).next(function(){return u})}).then(function(e){return n.Li=a,e})}function Ro(e,t,n){var r=or(),a=or();return n.forEach(function(e){return r=r.add(e)}),t.getEntries(e,r).next(function(e){var r=Jn();return n.forEach(function(n,i){var o=e.get(n);i.isFoundDocument()!==o.isFoundDocument()&&(a=a.add(n)),i.isNoDocument()&&i.version.isEqual(Z.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!o.isValidDocument()||i.version.compareTo(o.version)>0||0===i.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):T("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",i.version)}),{zi:r,ji:a}})}function Po(e,t){var n=D(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)})}function Do(e,t){var n=D(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.Ds.getTargetData(e,t).next(function(a){return a?(r=a,be.resolve(r)):n.Ds.allocateTargetId(e).next(function(a){return r=new Ma(t,a,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e})}function Lo(e,t,n){return Mo.apply(this,arguments)}function Mo(){return(Mo=Object(u.a)(O().mark(function e(t,n,r){var a,i,o;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=D(t),i=a.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,a.persistence.runTransaction("Release target",o,function(e){return a.persistence.referenceDelegate.removeTarget(e,i)});case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),je(e.t1)){e.next=12;break}throw e.t1;case 12:T("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:a.Li=a.Li.remove(n),a.qi.delete(i.target);case 14:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function Fo(e,t,n){var r=D(e),a=Z.min(),i=or();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=D(e),a=r.qi.get(n);return void 0!==a?be.resolve(r.Li.get(a)):r.Ds.getTargetData(t,n)}(r,e,Un(t)).next(function(t){if(t)return a=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next(function(e){i=e})}).next(function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?a:Z.min(),n?i:or())}).next(function(e){return zo(r,Hn(t),e),{documents:e,Wi:i}})})}function Uo(e,t){var n=D(e),r=D(n.Ds),a=n.Li.get(t);return a?Promise.resolve(a.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.ne(e,t).next(function(e){return e?e.target:null})})}function Vo(e,t){var n=D(e),r=n.Ui.get(t)||Z.min();return n.persistence.runTransaction("Get new document changes","readonly",function(e){return n.Ki.getAllFromCollectionGroup(e,t,le(r,-1),Number.MAX_SAFE_INTEGER)}).then(function(e){return zo(n,t,e),e})}function zo(e,t,n){var r=e.Ui.get(t)||Z.min();n.forEach(function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ui.set(t,r)}function Bo(e,t,n,r){return qo.apply(this,arguments)}function qo(){return(qo=Object(u.a)(O().mark(function e(t,n,r,a){var i,o,u,s,c,l,f,h,d,p;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=D(t),o=or(),u=Jn(),s=g(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Hi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Ji(l)).setReadTime(n.Yi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=i.Ki.newChangeBuffer({trackRemovals:!0}),e.next=7,Do(i,function(e){return Un(Rn(te.fromString("__bundle__/docs/".concat(e))))}(a));case 7:return p=e.sent,e.abrupt("return",i.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return Ro(e,d,u).next(function(t){return d.apply(e),t}).next(function(t){return i.Ds.removeMatchingKeysForTargetId(e,p.targetId).next(function(){return i.Ds.addMatchingKeys(e,o,p.targetId)}).next(function(){return i.localDocuments.getLocalViewOfDocuments(e,t.zi,t.ji)}).next(function(){return t.zi})})}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Go(e,t){return Ko.apply(this,arguments)}function Ko(){return(Ko=Object(u.a)(O().mark(function e(t,n){var r,a,i,o=arguments;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:or(),e.next=3,Do(t,Un(Ha(n.bundledQuery)));case 3:return a=e.sent,i=D(t),e.abrupt("return",i.persistence.runTransaction("Save named query","readwrite",function(e){var t=da(n.readTime);if(a.snapshotVersion.compareTo(t)>=0)return i.xs.saveNamedQuery(e,n);var o=a.withResumeToken(Ot.EMPTY_BYTE_STRING,t);return i.Li=i.Li.insert(o.targetId,o),i.Ds.updateTargetData(e,o).next(function(){return i.Ds.removeMatchingKeysForTargetId(e,a.targetId)}).next(function(){return i.Ds.addMatchingKeys(e,r,a.targetId)}).next(function(){return i.xs.saveNamedQuery(e,n)})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ho(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Wo(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Qo(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Yo=function(){function e(t,n,r,a){Object(h.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=a}return Object(d.a)(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var a,i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&((o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new M(i.error.code,i.error.message))),o?new e(t,n,i.state,a):(S("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),$o=function(){function e(t,n,r){Object(h.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(d.a)(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,a=JSON.parse(n),i="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return i&&a.error&&((i="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(r=new M(a.error.code,a.error.message))),i?new e(t,a.state,r):(S("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Jo=function(){function e(t,n){Object(h.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(d.a)(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),a="object"==typeof r&&r.activeTargetIds instanceof Array,i=sr(),o=0;a&&o<r.activeTargetIds.length;++o)a=Re(r.activeTargetIds[o]),i=i.add(r.activeTargetIds[o]);return a?new e(t,i):(S("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Xo=function(){function e(t,n){Object(h.a)(this,e),this.clientId=t,this.onlineState=n}return Object(d.a)(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(S("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Zo=function(){function e(){Object(h.a)(this,e),this.activeTargetIds=sr()}return Object(d.a)(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),eu=function(){function e(t,n,r,a,i){Object(h.a)(this,e),this.window=t,this.Ws=n,this.persistenceKey=r,this.nr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new ht(Y),this.started=!1,this.ur=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.cr=Ho(this.persistenceKey,this.nr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new Zo),this.hr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.lr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.dr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}return Object(d.a)(e,[{key:"start",value:function(){var e=Object(u.a)(O().mark(function e(){var t,n,r,a,i,o,u,s,c,l,f,h=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.bi();case 2:t=e.sent,n=g(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((a=r.value)!==this.nr){e.next=10;break}return e.abrupt("continue",12);case 10:(i=this.getItem(Ho(this.persistenceKey,a)))&&(o=Jo.Zi(a,i))&&(this.rr=this.rr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.mr(),(u=this.storage.getItem(this.wr))&&(s=this.gr(u))&&this.yr(s),c=g(this.ur);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ir(f)}catch(d){c.e(d)}finally{c.f()}this.ur=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0;case 28:case"end":return e.stop()}},e,this,[[4,16,19,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.pr(this.rr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.rr.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t}},{key:"addPendingMutation",value:function(e){this.Ir(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ir(e,t,n),this.Tr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Qo(this.persistenceKey,e));if(n){var r=$o.Zi(e,n);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Er.er(e),this.mr()}},{key:"isLocalQueryTarget",value:function(e){return this.Er.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Qo(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Ar(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach(function(e){r.Tr(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})}},{key:"setOnlineState",value:function(e){this.Rr(e)}},{key:"notifyBundleLoaded",value:function(e){this.vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return T("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){T("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){T("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ir",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(T("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void S("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(Object(u.a)(O().mark(function e(){var r,a,i,o,u,s,c;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.hr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.br(n.key),e.abrupt("return",t.Pr(r,null));case 6:if(!(a=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Pr(a.clientId,a));case 9:e.next=41;break;case 11:if(!t.lr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(i=t.Sr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Dr(i));case 16:e.next=41;break;case 18:if(!t.dr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Nr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.gr(n.newValue))){e.next=30;break}return e.abrupt("return",t.yr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}(s=function(e){var t=Ce.ct;if(null!=e)try{var n=JSON.parse(e);R("number"==typeof n),t=n}catch(e){S("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Ce.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.kr(n.newValue),e.next=41,Promise.all(c.map(function(e){return t.syncEngine.Or(e)}));case 41:e.next=44;break;case 43:t.ur.push(n);case 44:case"end":return e.stop()}},e)})))}}},{key:"mr",value:function(){this.setItem(this.cr,this.Er.Xi())}},{key:"Ir",value:function(e,t,n){var r=new Yo(this.currentUser,e,t,n),a=Wo(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Xi())}},{key:"Tr",value:function(e){var t=Wo(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Rr",value:function(e){var t={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Ar",value:function(e,t,n){var r=Qo(this.persistenceKey,e),a=new $o(e,t,n);this.setItem(r,a.Xi())}},{key:"vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"br",value:function(e){var t=this.hr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.br(e);return Jo.Zi(n,t)}},{key:"Sr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]),a=void 0!==n[2]?n[2]:null;return Yo.Zi(new j(a),r,t)}},{key:"Cr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]);return $o.Zi(r,t)}},{key:"gr",value:function(e){return Xo.Zi(e)}},{key:"kr",value:function(e){return JSON.parse(e)}},{key:"Dr",value:function(){var e=Object(u.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:T("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Nr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"Pr",value:function(e,t){var n=this,r=t?this.rr.insert(e,t):this.rr.remove(e),a=this.pr(this.rr),i=this.pr(r),o=[],u=[];return i.forEach(function(e){a.has(e)||o.push(e)}),a.forEach(function(e){i.has(e)||u.push(e)}),this.syncEngine.Fr(o,u).then(function(){n.rr=r})}},{key:"yr",value:function(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"pr",value:function(e){var t=sr();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t}},{key:"Er",get:function(){return this.rr.get(this.nr)}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),tu=function(){function e(){Object(h.a)(this,e),this.Br=new Zo,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(d.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new Zo,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),nu=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ru=function(){function e(){var t=this;Object(h.a)(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return Object(d.a)(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=g(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=g(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),au=null;function iu(){return null===au?au=268435456+Math.round(2147483648*Math.random()):au++,"0x"+au.toString(16)}var ou={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},uu=function(){function e(t){Object(h.a)(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return Object(d.a)(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),su="WebChannelConnection",cu=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(l.a)(t,e),Object(d.a)(t,[{key:"lo",value:function(e,t,n,r){var a=iu();return new Promise(function(i,o){var u=new b.g;u.setWithCredentials(!0),u.listenOnce(b.c.COMPLETE,function(){try{switch(u.getLastErrorCode()){case b.a.NO_ERROR:var t=u.getResponseJson();T(su,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),i(t);break;case b.a.TIMEOUT:T(su,"RPC '".concat(e,"' ").concat(a," timed out")),o(new M(L.DEADLINE_EXCEEDED,"Request time out"));break;case b.a.HTTP_ERROR:var n=u.getStatus();if(T(su,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=s.status.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(t)>=0?t:L.UNKNOWN}();o(new M(c,s.message))}else o(new M(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new M(L.UNAVAILABLE,"Connection failed."));break;default:A()}}finally{T(su,"RPC '".concat(e,"' ").concat(a," completed."))}});var s=JSON.stringify(r);T(su,"RPC '".concat(e,"' ").concat(a," sending request:"),r),u.send(t,"POST",s,n,15)})}},{key:"wo",value:function(e,t,n){var r=iu(),a=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(b.h)(),o=Object(b.i)(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new b.d({})),this.ho(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=a.join("");T(su,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=i.createWebChannel(s,u),l=!1,f=!1,h=new uu({Wr:function(t){f?T(su,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(T(su,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),T(su,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return d(c,b.f.EventType.OPEN,function(){f||T(su,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),d(c,b.f.EventType.CLOSE,function(){f||(f=!0,T(su,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())}),d(c,b.f.EventType.ERROR,function(t){f||(f=!0,C(su,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new M(L.UNAVAILABLE,"The operation could not be completed")))}),d(c,b.f.EventType.MESSAGE,function(t){var n;if(!f){var a=t.data[0];R(!!a);var i=a,o=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(o){T(su,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Ur[u];if(void 0!==t)return Qr(t)}(),l=o.message;void 0===s&&(s=L.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.so(new M(s,l)),c.close()}else T(su,"RPC '".concat(e,"' stream ").concat(r," received:"),a),h.io(a)}}),d(o,b.b.STAT_EVENT,function(t){t.stat===b.e.PROXY?T(su,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===b.e.NOPROXY&&T(su,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(function(){h.no()},0),h}}]),t}(function(){function e(t){Object(h.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(d.a)(e,[{key:"co",value:function(e,t,n,r,a){var i=iu(),o=this.ao(e,t);T("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),o,n);var u={};return this.ho(u,r,a),this.lo(e,o,u,n).then(function(t){return T("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t},function(t){throw C("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",o,"request:",n),t})}},{key:"fo",value:function(e,t,n,r,a,i){return this.co(e,t,n,r,a)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(function(t,n){return e[n]=t}),n&&n.headers.forEach(function(t,n){return e[n]=t})}},{key:"ao",value:function(e,t){var n=ou[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}},{key:"uo",get:function(){return!1}}]),e}());function lu(){return"undefined"!=typeof window?window:null}function fu(){return"undefined"!=typeof document?document:null}function hu(e){return new ca(e,!0)}var du=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(h.a)(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=a,this.yo=i,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return Object(d.a)(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),a=Math.max(0,n-r);a>0&&T("ExponentialBackoff","Backing off for ".concat(a," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,a,function(){return t.To=Date.now(),e()}),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),pu=function(){function e(t,n,r,a,i,o,u,s){Object(h.a)(this,e),this.Ws=t,this.bo=r,this.Po=a,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new du(t,n)}return Object(d.a)(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,function(){return e.Mo()}))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=Object(u.a)(O().mark(function e(t,n){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(S(n.toString()),S("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===L.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(function(t){var r=Object(i.a)(t,2),a=r[0],o=r[1];e.Vo===n&&e.Ko(a,o)},function(n){t(function(){var t=new M(L.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)})})}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(function(){r(function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,function(){return n.No()&&(n.state=3),Promise.resolve()}),n.listener.Jr()})}),this.stream.Zr(function(e){r(function(){return n.Go(e)})}),this.stream.onMessage(function(e){r(function(){return n.onMessage(e)})})}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(Object(u.a)(O().mark(function t(){return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}},t)})))}},{key:"Go",value:function(e){return T("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget(function(){return t.Vo===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),e}(),vu=function(e){function t(e,n,r,a,i,o){var u;return Object(h.a)(this,t),(u=Object(s.a)(this,Object(c.a)(t).call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,o))).serializer=i,u}return Object(l.a)(t,e),Object(d.a)(t,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:A()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(R(void 0===t||"string"==typeof t),Ot.fromBase64String(t||"")):(R(void 0===t||t instanceof Uint8Array),Ot.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?L.UNKNOWN:Qr(e.code);return new M(t,e.message||"")}(o);n=new ta(r,a,i,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=ya(e,s.document.name),l=da(s.document.updateTime),f=s.document.createTime?da(s.document.createTime):Z.min(),h=new $t({mapValue:{fields:s.document.fields}}),d=Xt.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Zr(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=ya(e,m.document),b=m.readTime?da(m.readTime):Z.min(),g=Xt.newNoDocument(y,b),k=m.removedTargetIds||[];n=new Zr([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var O=t.documentRemove;O.document;var w=ya(e,O.document),j=O.removedTargetIds||[];n=new Zr([],j,w,null)}else{if(!("filter"in t))return A();t.filter;var _=t.filter;_.targetId;var x=_.count||0,E=new Hr(x),I=_.targetId;n=new ea(I,E)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Z.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Z.min():t.readTime?da(t.readTime):Z.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=ka(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=In(r)?{documents:Ia(e,r)}:{query:Ta(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=fa(e,t.resumeToken):t.snapshotVersion.compareTo(Z.min())>0&&(n.readTime=la(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return A()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=ka(this.serializer),t.removeTarget=e,this.Fo(t)}}]),t}(pu),mu=function(e){function t(e,n,r,a,i,o){var u;return Object(h.a)(this,t),(u=Object(s.a)(this,Object(c.a)(t).call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,o))).serializer=i,u.Ho=!1,u}return Object(l.a)(t,e),Object(d.a)(t,[{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,Object(a.a)(Object(c.a)(t.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(R(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(R(void 0!==t),e.map(function(e){return function(e,t){var n=e.updateTime?da(e.updateTime):da(t);return n.isEqual(Z.min())&&(n=da(t)),new xr(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=da(e.commitTime);return this.listener.Zo(n,t)}return R(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=ka(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return xa(t.serializer,e)})};this.Fo(n)}},{key:"Jo",get:function(){return this.Ho}}]),t}(pu),yu=function(e){function t(e,n,r,a){var i;return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this))).authCredentials=e,i.appCheckCredentials=n,i.connection=r,i.serializer=a,i.eu=!1,i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"nu",value:function(){if(this.eu)throw new M(L.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(a){var o=Object(i.a)(a,2),u=o[0],s=o[1];return r.connection.co(e,t,n,u,s)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===L.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new M(L.UNKNOWN,e.toString())})}},{key:"fo",value:function(e,t,n,r){var a=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(o){var u=Object(i.a)(o,2),s=u[0],c=u[1];return a.connection.fo(e,t,n,s,c,r)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===L.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new M(L.UNKNOWN,e.toString())})}},{key:"terminate",value:function(){this.eu=!0}}]),t}(function(){return function e(){Object(h.a)(this,e)}}());var bu=function(){function e(t,n){Object(h.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return Object(d.a)(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()}))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(S(t),this.ru=!1):T("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),gu=function e(t,n,r,a,i){var o=this;Object(h.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=i,this._u.qr(function(e){r.enqueueAndForget(Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Cu(o),!e.t0){e.next=5;break}return T("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(u.a)(O().mark(function e(t){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=D(t)).du.add(4),e.next=4,wu(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,ku(n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}},e)})))}),this.mu=new bu(r,a)};function ku(e){return Ou.apply(this,arguments)}function Ou(){return(Ou=Object(u.a)(O().mark(function e(t){var n,r,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Cu(t)){e.next=18;break}n=g(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}))).apply(this,arguments)}function wu(e){return ju.apply(this,arguments)}function ju(){return(ju=Object(u.a)(O().mark(function e(t){var n,r,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=g(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,e.next=7,a(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))).apply(this,arguments)}function _u(e,t){var n=D(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Su(n)?Tu(n):is(n).No()&&Eu(n,t))}function xu(e,t){var n=D(e),r=is(n);n.fu.delete(t),r.No()&&Iu(n,t),0===n.fu.size&&(r.No()?r.$o():Cu(n)&&n.mu.set("Unknown"))}function Eu(e,t){e.gu.Ot(t.targetId),is(e).jo(t)}function Iu(e,t){e.gu.Ot(t),is(e).Wo(t)}function Tu(e){e.gu=new ra({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),is(e).start(),e.mu.ou()}function Su(e){return Cu(e)&&!is(e).xo()&&e.fu.size>0}function Cu(e){return 0===D(e).du.size}function Nu(e){e.gu=void 0}function Au(e){return Ru.apply(this,arguments)}function Ru(){return(Ru=Object(u.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach(function(e,n){Eu(t,e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pu(e,t){return Du.apply(this,arguments)}function Du(){return(Du=Object(u.a)(O().mark(function e(t,n){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Nu(t),Su(t)?(t.mu.au(n),Tu(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Lu(e,t,n){return Mu.apply(this,arguments)}function Mu(){return(Mu=Object(u.a)(O().mark(function e(t,n,r){var a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof ta&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(u.a)(O().mark(function e(t,n){var r,a,i,o;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,a=g(n.targetIds),e.prev=2,a.s();case 4:if((i=a.n()).done){e.next=14;break}if(o=i.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[2,16,19,22]])}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),T("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Fu(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof Zr?t.gu.Kt(n):n instanceof ea?t.gu.Jt(n):t.gu.zt(n),r.isEqual(Z.min())){e.next=29;break}return e.prev=14,e.next=17,No(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var a=e.fu.get(r);a&&e.fu.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(Ot.EMPTY_BYTE_STRING,n.snapshotVersion)),Iu(e,t);var r=new Ma(n.target,t,1,n.sequenceNumber);Eu(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),T("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Fu(t,e.t2);case 29:case"end":return e.stop()}},e,null,[[1,6],[14,24]])}))).apply(this,arguments)}function Fu(e,t,n){return Uu.apply(this,arguments)}function Uu(){return(Uu=Object(u.a)(O().mark(function e(t,n,r){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(je(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,wu(t);case 5:t.mu.set("Offline"),r||(r=function(){return No(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,ku(t);case 6:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vu(e,t){return t().catch(function(n){return Fu(e,n,t)})}function zu(e){return Bu.apply(this,arguments)}function Bu(){return(Bu=Object(u.a)(O().mark(function e(t){var n,r,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=D(t),r=os(n),a=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!qu(n)){e.next=19;break}return e.prev=3,e.next=6,Po(n.localStore,a);case 6:if(null!==(i=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:a=i.batchId,Gu(n,i),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Fu(n,e.t0);case 17:e.next=2;break;case 19:Ku(n)&&Hu(n);case 20:case"end":return e.stop()}},e,null,[[3,13]])}))).apply(this,arguments)}function qu(e){return Cu(e)&&e.lu.length<10}function Gu(e,t){e.lu.push(t);var n=os(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function Ku(e){return Cu(e)&&!os(e).xo()&&e.lu.length>0}function Hu(e){os(e).start()}function Wu(e){return Qu.apply(this,arguments)}function Qu(){return(Qu=Object(u.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:os(t).tu();case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yu(e){return $u.apply(this,arguments)}function $u(){return($u=Object(u.a)(O().mark(function e(t){var n,r,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=os(t),r=g(t.lu);try{for(r.s();!(a=r.n()).done;)i=a.value,n.Yo(i.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ju(e,t,n){return Xu.apply(this,arguments)}function Xu(){return(Xu=Object(u.a)(O().mark(function e(t,n,r){var a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.lu.shift(),i=Gr.from(a,n,r),e.next=3,Vu(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)});case 3:return e.next=5,zu(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zu(e,t){return es.apply(this,arguments)}function es(){return(es=Object(u.a)(O().mark(function e(t,n){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&os(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(u.a)(O().mark(function e(t,n){var r,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wr(a=n.code)||a===L.ABORTED){e.next=7;break}return r=t.lu.shift(),os(t).Oo(),e.next=5,Vu(t,function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)});case 5:return e.next=7,zu(t);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ku(t)&&Hu(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return(ns=Object(u.a)(O().mark(function e(t,n){var r,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=D(t)).asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials"),a=Cu(r),r.du.add(3),e.next=6,wu(r);case 6:return a&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,ku(r);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rs(e,t){return as.apply(this,arguments)}function as(){return(as=Object(u.a)(O().mark(function e(t,n){var r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,ku(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,wu(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function is(e){return e.yu||(e.yu=function(e,t,n){var r=D(e);return r.nu(),new vu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Au.bind(null,e),Zr:Pu.bind(null,e),zo:Lu.bind(null,e)}),e.wu.push(function(){var t=Object(u.a)(O().mark(function t(n){return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),Su(e)?Tu(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:Nu(e);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.yu}function os(e){return e.pu||(e.pu=function(e,t,n){var r=D(e);return r.nu(),new mu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Wu.bind(null,e),Zr:Zu.bind(null,e),Xo:Yu.bind(null,e),Zo:Ju.bind(null,e)}),e.wu.push(function(){var t=Object(u.a)(O().mark(function t(n){return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,zu(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(T("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.pu}var us=function(){function e(t,n,r,a,i){Object(h.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new F,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return Object(d.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(t,n,r,a,i){var o=new e(t,n,Date.now()+r,a,i);return o.start(r),o}}]),e}();function ss(e,t){if(S("AsyncQueue","".concat(t,": ").concat(e)),je(e))return new M(L.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var cs=function(){function e(t){Object(h.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||ae.comparator(e.key,n.key)}:function(e,t){return ae.comparator(e.key,t.key)},this.keyedMap=Zn(),this.sortedSet=new ht(this.comparator)}return Object(d.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},{key:"size",get:function(){return this.sortedSet.size}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ls=function(){function e(){Object(h.a)(this,e),this.Iu=new ht(ae.comparator)}return Object(d.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):A():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal(function(t,n){e.push(n)}),e}}]),e}(),fs=function(){function e(t,n,r,a,i,o,u,s,c){Object(h.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Object(d.a)(e,[{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}},{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}}],[{key:"fromInitialDocuments",value:function(t,n,r,a,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,cs.emptySet(n),o,r,a,!0,!1,i)}}]),e}(),hs=function e(){Object(h.a)(this,e),this.Eu=void 0,this.listeners=[]},ds=function e(){Object(h.a)(this,e),this.queries=new Yn(function(e){return qn(e)},Bn),this.onlineState="Unknown",this.Au=new Set};function ps(e,t){return vs.apply(this,arguments)}function vs(){return(vs=Object(u.a)(O().mark(function e(t,n){var r,a,i,o,u;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),a=n.query,i=!1,(o=r.queries.get(a))||(i=!0,o=new hs),!i){e.next=13;break}return e.prev=3,e.next=6,r.onListen(a);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ss(e.t0,"Initialization of query '".concat(Gn(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(a,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&bs(r);case 14:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function ms(e,t){return ys.apply(this,arguments)}function ys(){return(ys=Object(u.a)(O().mark(function e(t,n){var r,a,i,o,u;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),a=n.query,i=!1,(o=r.queries.get(a))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),i=0===o.listeners.length),!i){e.next=6;break}return e.abrupt("return",(r.queries.delete(a),r.onUnlisten(a)));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bs(e){e.Au.forEach(function(e){e.next()})}var gs=function(){function e(t,n,r){Object(h.a)(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return Object(d.a)(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=g(e.docChanges);try{for(r.s();!(t=r.n()).done;){var a=t.value;3!==a.type&&n.push(a)}}catch(o){r.e(o)}finally{r.f()}e=new fs(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var i=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),i=!0):this.Du(e,this.onlineState)&&(this.Cu(e),i=!0),this.Vu=e,i}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}(),ks=function(){function e(t,n){Object(h.a)(this,e),this.Nu=t,this.byteLength=n}return Object(d.a)(e,[{key:"ku",value:function(){return"metadata"in this.Nu}}]),e}(),Os=function(){function e(t){Object(h.a)(this,e),this.serializer=t}return Object(d.a)(e,[{key:"Hi",value:function(e){return ya(this.serializer,e)}},{key:"Ji",value:function(e){return e.metadata.exists?ja(this.serializer,e.document,!1):Xt.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}},{key:"Yi",value:function(e){return da(e)}}]),e}(),ws=function(){function e(t,n,r){Object(h.a)(this,e),this.Ou=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=js(t)}return Object(d.a)(e,[{key:"$u",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;var n=te.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new Os(this.serializer),a=g(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.metadata.queries){var o,u=r.Hi(i.metadata.name),s=g(i.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||or()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){a.e(f)}finally{a.f()}return n}},{key:"complete",value:function(){var e=Object(u.a)(O().mark(function e(){var t,n,r,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo(this.localStore,new Os(this.serializer),this.documents,this.Ou.id);case 2:t=e.sent,n=this.Mu(this.documents),r=g(this.queries),e.prev=5,r.s();case 7:if((a=r.n()).done){e.next=13;break}return i=a.value,e.next=11,Go(this.localStore,i,n.get(i.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Fu:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}},e,this,[[5,15,18,21]])}));return function(){return e.apply(this,arguments)}}()}]),e}();function js(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var _s=function e(t){Object(h.a)(this,e),this.key=t},xs=function e(t){Object(h.a)(this,e),this.key=t},Es=function(){function e(t,n){Object(h.a)(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=or(),this.mutatedKeys=or(),this.Ku=Wn(t),this.Gu=new cs(this.Ku)}return Object(d.a)(e,[{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new ls,a=t?t.Gu:this.Gu,i=t?t.mutatedKeys:this.mutatedKeys,o=a,u=!1,s="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,c="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(function(e,t){var l=a.get(e),f=Kn(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Wu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),i=i.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:u,mutatedKeys:i}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,a=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var i=e.ju.Tu();i.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return A()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)}),this.Hu(n);var o=t?this.Ju():[],u=0===this.Uu.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==i.length||s?{snapshot:new fs(this.query,e.Gu,a,i,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new ls,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.Lu=t.Lu.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.Lu=t.Lu.delete(e)}),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=or(),this.Gu.forEach(function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))});var n=[];return t.forEach(function(t){e.Uu.has(t)||n.push(new xs(t))}),this.Uu.forEach(function(e){t.has(e)||n.push(new _s(e))}),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=or();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return fs.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}},{key:"Qu",get:function(){return this.Lu}}]),e}(),Is=function e(t,n,r){Object(h.a)(this,e),this.query=t,this.targetId=n,this.view=r},Ts=function e(t){Object(h.a)(this,e),this.key=t,this.ec=!1},Ss=function(){function e(t,n,r,a,i,o){Object(h.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Yn(function(e){return qn(e)},Bn),this.ic=new Map,this.rc=new Set,this.oc=new ht(ae.comparator),this.uc=new Map,this.cc=new uo,this.ac={},this.hc=new Map,this.lc=Mi.bn(),this.onlineState="Unknown",this.fc=void 0}return Object(d.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Cs(e,t){return Ns.apply(this,arguments)}function Ns(){return(Ns=Object(u.a)(O().mark(function e(t,n){var r,a,i,o,u,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gc(t),!(o=r.sc.get(n))){e.next=6;break}a=o.targetId,r.sharedClientState.addLocalQueryTarget(a),i=o.view.tc(),e.next=15;break;case 6:return e.next=8,Do(r.localStore,Un(n));case 8:return u=e.sent,r.isPrimaryClient&&_u(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),a=u.targetId,e.next=14,As(r,n,a,"current"===s,u.resumeToken);case 14:i=e.sent;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function As(e,t,n,r,a){return Rs.apply(this,arguments)}function Rs(){return(Rs=Object(u.a)(O().mark(function e(t,n,r,a,i){var o,s,c,l,f,h;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Object(u.a)(O().mark(function e(t,n,r,a){var i,o,u;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.view.zu(r),e.t0=i.Mi,!e.t0){e.next=6;break}return e.next=5,Fo(t.localStore,n.query,!1).then(function(e){var t=e.documents;return n.view.zu(t,i)});case 5:i=e.sent;case 6:return o=a&&a.targetChanges.get(n.targetId),u=n.view.applyChanges(i,t.isPrimaryClient,o),e.abrupt("return",($s(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Fo(t.localStore,n,!0);case 3:return o=e.sent,s=new Es(n,o.Wi),c=s.zu(o.documents),l=Xr.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==t.onlineState,i),f=s.applyChanges(c,t.isPrimaryClient,l),$s(t,r,f.Yu),h=new Is(n,r,s),e.abrupt("return",(t.sc.set(n,h),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ps(e,t){return Ds.apply(this,arguments)}function Ds(){return(Ds=Object(u.a)(O().mark(function e(t,n){var r,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),a=r.sc.get(n),!((i=r.ic.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(a.targetId,i.filter(function(e){return!Bn(e,n)})),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,Lo(r.localStore,a.targetId,!1).then(function(){r.sharedClientState.clearQueryState(a.targetId),xu(r.remoteStore,a.targetId),Qs(r,a.targetId)}).catch(me);case 9:e.next=14;break;case 11:return Qs(r,a.targetId),e.next=14,Lo(r.localStore,a.targetId,!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ls(e,t,n){return Ms.apply(this,arguments)}function Ms(){return(Ms=Object(u.a)(O().mark(function e(t,n,r){var a,i,o;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=kc(t),e.prev=1,e.next=4,function(e,t){var n,r,a=D(e),i=X.now(),o=t.reduce(function(e,t){return e.add(t.key)},or());return a.persistence.runTransaction("Locally write mutations","readwrite",function(e){var u=Jn(),s=or();return a.Ki.getEntries(e,o).next(function(e){(u=e).forEach(function(e,t){t.isValidDocument()||(s=s.add(e))})}).next(function(){return a.localDocuments.getOverlayedDocuments(e,u)}).next(function(r){n=r;var o,u=[],s=g(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ar(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Dr(c.key,l,Jt(l.value.mapValue),Er.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return a.mutationQueue.addMutationBatch(e,i,u,t)}).next(function(t){r=t;var i=t.applyToLocalDocumentSet(n,s);return a.documentOverlayCache.saveOverlays(e,t.batchId,i)})}).then(function(){return{batchId:r.batchId,changes:er(n)}})}(a.localStore,n);case 4:return i=e.sent,a.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new ht(Y)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(a,i.batchId,r),e.next=9,Zs(a,i.changes);case 9:return e.next=11,zu(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ss(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return(Us=Object(u.a)(O().mark(function e(t,n){var r,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.prev=1,e.next=4,Ao(r.localStore,n);case 4:return a=e.sent,n.targetChanges.forEach(function(e,t){var n=r.uc.get(t);n&&(R(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?R(n.ec):e.removedDocuments.size>0&&(R(n.ec),n.ec=!1))}),e.next=8,Zs(r,a,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,me(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Vs(e,t,n){var r=D(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var a=[];r.sc.forEach(function(e,n){var r=n.view.Ru(t);r.snapshot&&a.push(r.snapshot)}),function(e,t){var n=D(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){var a,i=g(n.listeners);try{for(i.s();!(a=i.n()).done;){a.value.Ru(t)&&(r=!0)}}catch(o){i.e(o)}finally{i.f()}}),r&&bs(n)}(r.eventManager,t),a.length&&r.nc.zo(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function zs(){return(zs=Object(u.a)(O().mark(function e(t,n,r){var a,i,o,u,s,c;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=D(t)).sharedClientState.updateQueryState(n,"rejected",r),i=a.uc.get(n),!(o=i&&i.key)){e.next=14;break}return u=(u=new ht(ae.comparator)).insert(o,Xt.newNoDocument(o,Z.min())),s=or().add(o),c=new Jr(Z.min(),new Map,new vt(Y),u,s),e.next=9,Fs(a,c);case 9:a.oc=a.oc.remove(o),a.uc.delete(n),Xs(a),e.next=16;break;case 14:return e.next=16,Lo(a.localStore,n,!1).then(function(){return Qs(a,n,r)}).catch(me);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bs(){return(Bs=Object(u.a)(O().mark(function e(t,n){var r,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),a=n.batch.batchId,e.prev=1,e.next=4,Co(r.localStore,n);case 4:return i=e.sent,Ws(r,a,null),Hs(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),e.next=10,Zs(r,i);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,me(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function qs(){return(qs=Object(u.a)(O().mark(function e(t,n,r){var a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=D(t),e.prev=1,e.next=4,function(e,t){var n=D(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next(function(t){return R(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)}).next(function(){return n.localDocuments.getDocuments(e,r)})})}(a.localStore,n);case 4:return i=e.sent,Ws(a,n,r),Hs(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Zs(a,i);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,me(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function Gs(e,t){return Ks.apply(this,arguments)}function Ks(){return(Ks=Object(u.a)(O().mark(function e(t,n){var r,a,i,o;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Cu((r=D(t)).remoteStore)||T("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=D(r.localStore);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})}();case 5:if(-1!==(a=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(i=r.hc.get(a)||[]).push(n),r.hc.set(a,i),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ss(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function Hs(e,t){(e.hc.get(t)||[]).forEach(function(e){e.resolve()}),e.hc.delete(t)}function Ws(e,t,n){var r=D(e),a=r.ac[r.currentUser.toKey()];if(a){var i=a.get(t);i&&(n?i.reject(n):i.resolve(),a=a.remove(t)),r.ac[r.currentUser.toKey()]=a}}function Qs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,a=g(e.ic.get(t));try{for(a.s();!(r=a.n()).done;){var i=r.value;e.sc.delete(i),n&&e.nc.wc(i,n)}}catch(o){a.e(o)}finally{a.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach(function(t){e.cc.containsKey(t)||Ys(e,t)})}function Ys(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(xu(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Xs(e))}function $s(e,t,n){var r,a=g(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;i instanceof _s?(e.cc.addReference(i.key,t),Js(e,i)):i instanceof xs?(T("SyncEngine","Document no longer in limbo: "+i.key),e.cc.removeReference(i.key,t),e.cc.containsKey(i.key)||Ys(e,i.key)):A()}}catch(o){a.e(o)}finally{a.f()}}function Js(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(T("SyncEngine","New document in limbo: "+n),e.rc.add(r),Xs(e))}function Xs(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new ae(te.fromString(t)),r=e.lc.next();e.uc.set(r,new Ts(n)),e.oc=e.oc.insert(n,r),_u(e.remoteStore,new Ma(Un(Rn(n.path)),r,2,Ce.ct))}}function Zs(e,t,n){return ec.apply(this,arguments)}function ec(){return(ec=Object(u.a)(O().mark(function e(t,n,r){var a,i,o,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=D(t),i=[],o=[],s=[],e.t0=a.sc.isEmpty(),e.t0){e.next=9;break}return a.sc.forEach(function(e,t){s.push(a.dc(t,n,r).then(function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);var n=_o.Di(t.targetId,e);o.push(n)}}))}),e.next=6,Promise.all(s);case 6:return a.nc.zo(i),e.next=9,function(){var e=Object(u.a)(O().mark(function e(t,n){var r,a,i,o,u,s,c,l;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return be.forEach(n,function(t){return be.forEach(t.Vi,function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)}).next(function(){return be.forEach(t.Si,function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)})})})});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),je(e.t0)){e.next=10;break}throw e.t0;case 10:T("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:a=g(n);try{for(a.s();!(i=a.n()).done;)o=i.value,u=o.targetId,o.fromCache||(s=r.Li.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Li=r.Li.insert(u,l))}catch(f){a.e(f)}finally{a.f()}case 13:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,o);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return(nc=Object(u.a)(O().mark(function e(t,n){var r,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=D(t)).currentUser.isEqual(n)){e.next=11;break}return T("SyncEngine","User change. New user:",n.toKey()),e.next=5,To(r.localStore,n);case 5:return a=e.sent,r.currentUser=n,function(e,t){e.hc.forEach(function(e){e.forEach(function(e){e.reject(new M(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),e.next=11,Zs(r,a.Qi);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rc(e,t){return ac.apply(this,arguments)}function ac(){return(ac=Object(u.a)(O().mark(function e(t,n){var r,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.next=3,Fo(r.localStore,n.query,!0);case 3:return a=e.sent,i=n.view.Xu(a),e.abrupt("return",(r.isPrimaryClient&&$s(r,n.targetId,i.Yu),i));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ic(e,t){return oc.apply(this,arguments)}function oc(){return(oc=Object(u.a)(O().mark(function e(t,n){var r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.abrupt("return",Vo(r.localStore,n).then(function(e){return Zs(r,e)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function uc(e,t,n,r){return sc.apply(this,arguments)}function sc(){return(sc=Object(u.a)(O().mark(function e(t,n,r,a){var i,o;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=D(t),e.next=3,function(e,t){var n=D(e),r=D(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.In(e,t).next(function(t){return t?n.localDocuments.getDocuments(e,t):be.resolve(null)})})}(i.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,zu(i.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Ws(i,n,a||null),Hs(i,n),function(e,t){D(D(e).mutationQueue).En(t)}(i.localStore,n)):A();case 11:return e.next=13,Zs(i,o);case 13:e.next=16;break;case 15:T("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return(lc=Object(u.a)(O().mark(function e(t,n){var r,a,i,o,u,s,c,l;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(gc(r=D(t)),kc(r),!0!==n||!0===r.fc){e.next=13;break}return a=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,fc(r,a.toArray());case 5:return i=e.sent,r.fc=!0,e.next=9,rs(r.remoteStore,!0);case 9:o=g(i);try{for(o.s();!(u=o.n()).done;)s=u.value,_u(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach(function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then(function(){return Qs(r,t),Lo(r.localStore,t,!0)}),xu(r.remoteStore,t)}),e.next=19,l;case 19:return e.next=21,fc(r,c);case 21:return function(e){var t=D(r);t.uc.forEach(function(e,n){xu(t.remoteStore,n)}),t.cc.ls(),t.uc=new Map,t.oc=new ht(ae.comparator)}(),r.fc=!1,e.next=25,rs(r.remoteStore,!1);case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fc(e,t,n){return hc.apply(this,arguments)}function hc(){return(hc=Object(u.a)(O().mark(function e(t,n,r){var a,i,o,u,s,c,l,f,h,d,p,v,m,y;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=D(t),i=[],o=[],u=g(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=a.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,Do(a.localStore,Un(f[0]));case 11:l=e.sent,h=g(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=a.sc.get(p),e.next=20,rc(a,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Uo(a.localStore,c);case 36:return y=e.sent,e.next=39,Do(a.localStore,y);case 39:return l=e.sent,e.next=42,As(a,dc(y),c,!1,l.resumeToken);case 42:i.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(a.nc.zo(o),i));case 54:case"end":return e.stop()}},e,null,[[2,47,50,53],[13,26,29,32]])}))).apply(this,arguments)}function dc(e){return An(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pc(e){var t=D(e);return D(D(t.localStore).persistence).bi()}function vc(e,t,n,r){return mc.apply(this,arguments)}function mc(){return(mc=Object(u.a)(O().mark(function e(t,n,r,a){var i,o,u,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=D(t)).fc){e.next=3;break}return e.abrupt("return",void T("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=i.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0?8:"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Vo(i.localStore,Hn(o[0]));case 10:return u=e.sent,s=Jr.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Ot.EMPTY_BYTE_STRING),e.next=14,Zs(i,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Lo(i.localStore,n,!0);case 17:return Qs(i,n,a),e.abrupt("break",20);case 19:A();case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yc(e,t,n){return bc.apply(this,arguments)}function bc(){return(bc=Object(u.a)(O().mark(function e(t,n,r){var a,i,o,u,s,c,l,f,h;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=gc(t)).fc){e.next=45;break}i=g(n),e.prev=3,i.s();case 5:if((o=i.n()).done){e.next=21;break}if(u=o.value,!a.ic.has(u)){e.next=10;break}return T("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Uo(a.localStore,u);case 12:return s=e.sent,e.next=15,Do(a.localStore,s);case 15:return c=e.sent,e.next=18,As(a,dc(s),c.targetId,!1,c.resumeToken);case 18:_u(a.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),i.e(e.t0);case 26:return e.prev=26,i.f(),e.finish(26);case 29:l=g(r),e.prev=30,h=O().mark(function e(){var t;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=a.ic.has(t),!e.t0){e.next=5;break}return e.next=5,Lo(a.localStore,t,!1).then(function(){xu(a.remoteStore,t),Qs(a,t)}).catch(me);case 5:case"end":return e.stop()}},e)}),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}},e,null,[[3,23,26,29],[30,39,42,45]])}))).apply(this,arguments)}function gc(e){var t=D(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fs.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=D(e),r=n.uc.get(t);if(r&&r.ec)return or().add(r.key);var a=or(),i=n.ic.get(t);if(!i)return a;var o,u=g(i);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);a=a.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return a}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return zs.apply(this,arguments)}.bind(null,t),t.nc.zo=function(e,t){var n,r=D(e),a=!1,i=g(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=g(s.listeners);try{for(l.s();!(c=l.n()).done;)c.value.vu(o)&&(a=!0)}catch(f){l.e(f)}finally{l.f()}s.Eu=o}}}catch(f){i.e(f)}finally{i.f()}a&&bs(r)}.bind(null,t.eventManager),t.nc.wc=function(e,t,n){var r=D(e),a=r.queries.get(t);if(a){var i,o=g(a.listeners);try{for(o.s();!(i=o.n()).done;)i.value.onError(n)}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}.bind(null,t.eventManager),t}function kc(e){var t=D(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return Bs.apply(this,arguments)}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=function(e,t,n){return qs.apply(this,arguments)}.bind(null,t),t}function Oc(e,t,n){var r=D(e);(function(){var e=Object(u.a)(O().mark(function e(t,n,r){var a,i,o,u,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return a=e.sent,e.next=6,function(e,t){var n=D(e),r=da(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.xs.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(t.localStore,a);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(a)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(js(a)),i=new ws(a,t.localStore,n.serializer),e.next=15,n._c();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,i.$u(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n._c();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,i.complete();case 28:return s=e.sent,e.next=31,Zs(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=D(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.xs.saveBundleMetadata(e,t)})}(t.localStore,a);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Fu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(C("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}},e,null,[[0,37]])}));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then(function(e){r.sharedClientState.notifyBundleLoaded(e)})}var wc=function(){function e(){Object(h.a)(this,e),this.synchronizeTabs=!1}return Object(d.a)(e,[{key:"initialize",value:function(){var e=Object(u.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=hu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Io(this.persistence,new xo,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new po(mo.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new tu}},{key:"terminate",value:function(){var e=Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),jc=function(e){function t(e,n,r){var a;return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this))).mc=e,a.cacheSizeBytes=n,a.forceOwnership=r,a.synchronizeTabs=!1,a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"initialize",value:function(){var e=Object(u.a)(O().mark(function e(n){var r=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.a)(Object(c.a)(t.prototype),"initialize",this).call(this,n);case 2:return e.next=4,this.mc.initialize(this,n);case 4:return e.next=6,kc(this.mc.syncEngine);case 6:return e.next=8,zu(this.mc.remoteStore);case 8:return e.next=10,this.persistence.hi(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Io(this.persistence,new xo,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Gi(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Se(t,this.persistence);return new Te(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=jo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new ko(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,lu(),fu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new tu}}]),t}(wc),_c=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e,n,!1))).mc=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"initialize",value:function(){var e=Object(u.a)(O().mark(function e(n){var r,i=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.a)(Object(c.a)(t.prototype),"initialize",this).call(this,n);case 2:if(r=this.mc.syncEngine,e.t0=this.sharedClientState instanceof eu,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:uc.bind(null,r),Mr:vc.bind(null,r),Fr:yc.bind(null,r),bi:pc.bind(null,r),Or:ic.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.hi(function(){var e=Object(u.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc(i.mc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=lu();if(!eu.D(t))throw new M(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=jo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eu(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),t}(jc),xc=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"initialize",value:function(){var e=Object(u.a)(O().mark(function e(t,n){var r=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Vs(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=tc.bind(null,this.syncEngine),e.next=12,rs(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ds}},{key:"createDatastore",value:function(e){var t,n=hu(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new cu(t));return function(e,t,n,r){return new yu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,a,i,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,a=function(e){return Vs(o.syncEngine,e,0)},i=ru.D()?new ru:new nu,new gu(t,n,r,a,i)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,a,i,o){var u=new Ss(e,t,n,r,a,i);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(u.a)(O().mark(function e(t){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t),T("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,wu(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Ec(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){var r=Object(u.a)(O().mark(function r(){var a;return O().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return a={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,a));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),cancel:function(){var e=Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),releaseLock:function(){},closed:Promise.resolve()}}var Ic=function(){function e(t){Object(h.a)(this,e),this.observer=t,this.muted=!1}return Object(d.a)(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):S("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)}}]),e}(),Tc=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.Ic=t,this.serializer=n,this.metadata=new F,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(function(e){e&&e.ku()?r.metadata.resolve(e.Nu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Nu))))},function(e){return r.metadata.reject(e)})}return Object(d.a)(e,[{key:"close",value:function(){return this.Ic.cancel()}},{key:"getMetadata",value:function(){var e=Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_c",value:function(){var e=Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ec());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Ec",value:function(){var e=Object(u.a)(O().mark(function e(){var t,n,r,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ac();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Tc.decode(t),r=Number(n),isNaN(r)&&this.Rc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return a=e.sent,e.abrupt("return",new ks(JSON.parse(a),t.length+r));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})}},{key:"Ac",value:function(){var e=Object(u.a)(O().mark(function e(){var t,n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.bc()<0)){e.next=7;break}return e.next=3,this.Pc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.bc())<0&&this.Rc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Object(u.a)(O().mark(function e(t){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Pc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Rc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Tc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Rc",value:function(e){throw this.Ic.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Pc",value:function(){var e=Object(u.a)(O().mark(function e(){var t,n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ic.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Sc=function(){function e(t){Object(h.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(d.a)(e,[{key:"lookup",value:function(){var e=Object(u.a)(O().mark(function e(t){var n,r=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new M(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(u.a)(O().mark(function e(t,n){var r,a,i,o,u,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),a=ka(r.serializer)+"/documents",i={documents:n.map(function(e){return ma(r.serializer,e)})},e.next=5,r.fo("BatchGetDocuments",a,i,n.length);case 5:return o=e.sent,u=new Map,o.forEach(function(e){var t=_a(r.serializer,e);u.set(t.key.toString(),t)}),s=[],e.abrupt("return",(n.forEach(function(e){var t=u.get(e.toString());R(!!t),s.push(t)}),s));case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach(function(e){return r.recordVersion(e)}),n));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new zr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(u.a)(O().mark(function e(){var t,n=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(e,t){var r=ae.fromPath(t);n.mutations.push(new Br(r,n.precondition(r)))}),e.next=7,function(){var e=Object(u.a)(O().mark(function e(t,n){var r,a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),a=ka(r.serializer)+"/documents",i={writes:n.map(function(e){return xa(r.serializer,e)})},e.next=3,r.co("Commit",a,i);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw A();t=Z.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new M(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Z.min())?Er.exists(!1):Er.updateTime(t):Er.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Z.min()))throw new M(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Er.updateTime(t)}return Er.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Cc=function(){function e(t,n,r,a,i){Object(h.a)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=a,this.deferred=i,this.Vc=r.maxAttempts,this.Co=new du(this.asyncQueue,"transaction_retry")}return Object(d.a)(e,[{key:"run",value:function(){this.Vc-=1,this.Sc()}},{key:"Sc",value:function(){var e=this;this.Co.Ao(Object(u.a)(O().mark(function t(){var n,r;return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new Sc(e.datastore),(r=e.Dc(n))&&r.then(function(t){e.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){e.deferred.resolve(t)}).catch(function(t){e.Cc(t)})})}).catch(function(t){e.Cc(t)});case 2:case"end":return t.stop()}},t)})))}},{key:"Dc",value:function(e){try{var t=this.updateFunction(e);return!Ne(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Cc",value:function(e){var t=this;this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(function(){return t.Sc(),Promise.resolve()})):this.deferred.reject(e)}},{key:"xc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Wr(t)}return!1}}]),e}(),Nc=function(){function e(t,n,r,a){var i=this;Object(h.a)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=j.UNAUTHENTICATED,this.clientId=Q.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Object(u.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T("FirestoreClient","Received user=",t.uid),e.next=3,i.authCredentialListener(t);case 3:i.user=t;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,function(e){return T("FirestoreClient","Received new app check token=",e),i.appCheckCredentialListener(e,i.user)})}return Object(d.a)(e,[{key:"getConfiguration",value:function(){var e=Object(u.a)(O().mark(function e(){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new M(L.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new F;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(u.a)(O().mark(function n(){var r;return O().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ss(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}},n,null,[[0,14]])}))),t.promise}}]),e}();function Ac(e,t){return Rc.apply(this,arguments)}function Rc(){return(Rc=Object(u.a)(O().mark(function e(t,n){var r,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:a=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(u.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,To(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t._offlineComponents=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pc(e,t){return Dc.apply(this,arguments)}function Dc(){return(Dc=Object(u.a)(O().mark(function e(t,n){var r,a;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Mc(t);case 3:return r=e.sent,T("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return a=e.sent,e.next=10,n.initialize(r,a);case 10:t.setCredentialChangeListener(function(e){return ts(n.remoteStore,e)}),t.setAppCheckTokenChangeListener(function(e,t){return ts(n.remoteStore,t)}),t._onlineComponents=n;case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Lc(e){return"FirebaseError"===e.name?e.code===L.FAILED_PRECONDITION||e.code===L.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Mc(e){return Fc.apply(this,arguments)}function Fc(){return(Fc=Object(u.a)(O().mark(function e(t){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return T("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Ac(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Lc(n=e.t0)){e.next=13;break}throw n;case 13:return C("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Ac(t,new wc);case 16:e.next=21;break;case 18:return T("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Ac(t,new wc);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}},e,null,[[3,8]])}))).apply(this,arguments)}function Uc(e){return Vc.apply(this,arguments)}function Vc(){return(Vc=Object(u.a)(O().mark(function e(t){return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return T("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Pc(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return T("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Pc(t,new xc);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zc(e){return Mc(e).then(function(e){return e.persistence})}function Bc(e){return Mc(e).then(function(e){return e.localStore})}function qc(e){return Uc(e).then(function(e){return e.remoteStore})}function Gc(e){return Uc(e).then(function(e){return e.syncEngine})}function Kc(e){return Uc(e).then(function(e){return e.datastore})}function Hc(e){return Wc.apply(this,arguments)}function Wc(){return(Wc=Object(u.a)(O().mark(function e(t){var n,r;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uc(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Cs.bind(null,n.syncEngine),r.onUnlisten=Ps.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function a(){return O().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=function(e,t,n,r,a){var i=new Ic({next:function(i){t.enqueueAndForget(function(){return ms(e,o)});var u=i.docs.has(n);!u&&i.fromCache?a.reject(new M(L.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&i.fromCache&&r&&"server"===r.source?a.reject(new M(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(i)},error:function(e){return a.reject(e)}}),o=new gs(Rn(n.path),i,{includeMetadataChanges:!0,xu:!0});return ps(e,o)},a.next=3,Hc(e);case 3:return a.t1=a.sent,a.t2=e.asyncQueue,a.t3=t,a.t4=n,a.t5=r,a.abrupt("return",(0,a.t0)(a.t1,a.t2,a.t3,a.t4,a.t5));case 9:case"end":return a.stop()}},a)}))),r.promise}function Yc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function a(){return O().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=function(e,t,n,r,a){var i=new Ic({next:function(n){t.enqueueAndForget(function(){return ms(e,o)}),n.fromCache&&"server"===r.source?a.reject(new M(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:function(e){return a.reject(e)}}),o=new gs(n,i,{includeMetadataChanges:!0,xu:!0});return ps(e,o)},a.next=3,Hc(e);case 3:return a.t1=a.sent,a.t2=e.asyncQueue,a.t3=t,a.t4=n,a.t5=r,a.abrupt("return",(0,a.t0)(a.t1,a.t2,a.t3,a.t4,a.t5));case 9:case"end":return a.stop()}},a)}))),r.promise}var $c=new Map;function Jc(e,t,n){if(!n)throw new M(L.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xc(e,t,n,r){if(!0===t&&!0===r)throw new M(L.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Zc(e){if(!ae.isDocumentKey(e))throw new M(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function el(e){if(ae.isDocumentKey(e))throw new M(L.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function tl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":A()}function nl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=tl(e);throw new M(L.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function rl(e,t){if(t<=0)throw new M(L.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var al=function(){function e(t){var n;if(Object(h.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new M(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new M(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Xc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(d.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),il=function(){function e(t,n,r,a){Object(h.a)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new al({}),this._settingsFrozen=!1}return Object(d.a)(e,[{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new M(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new al(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new V;switch(e.type){case"firstParty":return new G(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new M(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=$c.get(e);t&&(T("ComponentProvider","Removing Datastore"),$c.delete(e),t.terminate())}(this),Promise.resolve()}},{key:"app",get:function(){if(!this._app)throw new M(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}}]),e}();function ol(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(e=nl(e,il))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&C("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:"".concat(t,":").concat(n),ssl:!1})),a.mockUserToken){var o,u;if("string"==typeof a.mockUserToken)o=a.mockUserToken,u=j.MOCK_USER;else{o=Object(y.g)(a.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=a.mockUserToken.sub||a.mockUserToken.user_id;if(!s)throw new M(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new j(s)}e._authCredentials=new z(new U(o,u))}}var ul=function(){function e(t,n,r){Object(h.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(d.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}},{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new cl(this.firestore,this.converter,this._key.path.popLast())}}]),e}(),sl=function(){function e(t,n,r){Object(h.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(d.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),cl=function(e){function t(e,n,r){var a;return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e,n,Rn(r))))._path=r,a.type="collection",a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"withConverter",value:function(e){return new t(this.firestore,e,this._path)}},{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ul(this.firestore,null,new ae(e))}}]),t}(sl);function ll(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Object(y.p)(e),Jc("collection","path",t),e instanceof il){var i=te.fromString.apply(te,[t].concat(r));return el(i),new cl(e,null,i)}if(!(e instanceof ul||e instanceof cl))throw new M(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(te.fromString.apply(te,[t].concat(r)));return el(o),new cl(e.firestore,null,o)}function fl(e,t){if(e=nl(e,il),Jc("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new M(L.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new sl(e,null,function(e){return new Nn(te.emptyPath(),e)}(t))}function hl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Object(y.p)(e),1===arguments.length&&(t=Q.A()),Jc("doc","path",t),e instanceof il){var i=te.fromString.apply(te,[t].concat(r));return Zc(i),new ul(e,null,new ae(i))}if(!(e instanceof ul||e instanceof cl))throw new M(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(te.fromString.apply(te,[t].concat(r)));return Zc(o),new ul(e.firestore,e instanceof cl?e.converter:null,new ae(o))}function dl(e,t){return e=Object(y.p)(e),t=Object(y.p)(t),(e instanceof ul||e instanceof cl)&&(t instanceof ul||t instanceof cl)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pl(e,t){return e=Object(y.p)(e),t=Object(y.p)(t),e instanceof sl&&t instanceof sl&&e.firestore===t.firestore&&Bn(e._query,t._query)&&e.converter===t.converter}var vl=function(){function e(){var t=this;Object(h.a)(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new du(this,"async_queue_retry"),this.qc=function(){var e=fu();e&&T("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=fu();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return Object(d.a)(e,[{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=fu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise(function(){});var n=new F;return this.Kc(function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.kc.push(e),t.Gc()})}},{key:"Gc",value:function(){var e=Object(u.a)(O().mark(function e(){var t=this;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),je(e.t0)){e.next=12;break}throw e.t0;case 12:T("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao(function(){return t.Gc()});case 14:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then(function(){return t.Fc=!0,e().catch(function(e){throw t.Mc=e,t.Fc=!1,S("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.Fc=!1,e})});return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var a=us.createAndSchedule(this,e,t,n,function(e){return r.Qc(e)});return this.$c.push(a),a}},{key:"Uc",value:function(){this.Mc&&A()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Object(u.a)(O().mark(function e(){var t;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=g(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then(function(){t.$c.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});var n,r=g(t.$c);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.skipDelay(),"all"!==e&&a.timerId===e)break}}catch(i){r.e(i)}finally{r.f()}return t.zc()})}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}},{key:"isShuttingDown",get:function(){return this.Oc}}]),e}();function ml(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,a=g(["next","error","complete"]);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i in r&&"function"==typeof r[i])return!0}}catch(o){a.e(o)}finally{a.f()}return!1}(e)}var yl=function(){function e(){Object(h.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new F,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(d.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),bl=-1,gl=function(e){function t(e,n,r,a){var i;return Object(h.a)(this,t),(i=Object(s.a)(this,Object(c.a)(t).call(this,e,n,r,a))).type="firestore",i._queue=new vl,i._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",i}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_terminate",value:function(){return this._firestoreClient||Ol(this),this._firestoreClient.terminate()}}]),t}(il);function kl(e){return e._firestoreClient||Ol(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ol(e){var t,n,r,a=e._freezeSettings(),i=function(e,t,n,r){return new Tt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._firestoreClient=new Nc(e._authCredentials,e._appCheckCredentials,e._queue,i),(null===(n=a.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function wl(e,t){Nl(e=nl(e,gl));var n=kl(e);if(n._uninitializedComponentsProvider)throw new M(L.FAILED_PRECONDITION,"SDK cache is already specified.");C("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),a=new xc;return _l(n,a,new jc(a,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function jl(e){Nl(e=nl(e,gl));var t=kl(e);if(t._uninitializedComponentsProvider)throw new M(L.FAILED_PRECONDITION,"SDK cache is already specified.");C("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new xc;return _l(t,r,new _c(r,n.cacheSizeBytes))}function _l(e,t,n){var r=new F;return e.asyncQueue.enqueue(Object(u.a)(O().mark(function a(){var i;return O().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ac(e,n);case 3:return a.next=5,Pc(e,t);case 5:r.resolve(),a.next=14;break;case 8:if(a.prev=8,a.t0=a.catch(0),Lc(i=a.t0)){a.next=13;break}throw i;case 13:C("Error enabling indexeddb cache. Falling back to memory cache: "+i),r.reject(i);case 14:case"end":return a.stop()}},a,null,[[0,8]])}))).then(function(){return r.promise})}function xl(e){if(e._initialized&&!e._terminated)throw new M(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new F;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(u.a)(O().mark(function n(){return O().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(u.a)(O().mark(function e(t){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ke.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ke.delete(n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(jo(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}))),t.promise}function El(e){return function(e){var t=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function n(){return O().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Gs,n.next=3,Gc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)}))),t.promise}(kl(e=nl(e,gl)))}function Il(e){return function(e){return e.asyncQueue.enqueue(Object(u.a)(O().mark(function t(){var n,r;return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zc(e);case 2:return n=t.sent,t.next=5,qc(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=D(r);return t.du.delete(0),ku(t)}()));case 7:case"end":return t.stop()}},t)})))}(kl(e=nl(e,gl)))}function Tl(e){return function(e){return e.asyncQueue.enqueue(Object(u.a)(O().mark(function t(){var n,r;return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zc(e);case 2:return n=t.sent,t.next=5,qc(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(u.a)(O().mark(function e(t){var n;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=D(t)).du.add(0),e.next=4,wu(n);case 4:n.mu.set("Offline");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}},t)})))}(kl(e=nl(e,gl)))}function Sl(e,t){var n=kl(e=nl(e,gl)),r=new yl;return function(e,t,n,r){var a=function(e,t){return function(e,t){return new Tc(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ec(e,t);if(e instanceof ArrayBuffer)return Ec(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,hu(t));e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function t(){return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Oc,t.next=3,Gc(e);case 3:t.t1=t.sent,t.t2=a,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}},t)})))}(n,e._databaseId,t,r),r}function Cl(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(u.a)(O().mark(function n(){return O().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=D(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.xs.getNamedQuery(e,t)})},n.next=3,Bc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)})))}(kl(e=nl(e,gl)),t).then(function(t){return t?new sl(e,null,t.query):null})}function Nl(e){if(e._initialized||e._terminated)throw new M(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Al=function(){function e(t){Object(h.a)(this,e),this._byteString=t}return Object(d.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ot.fromBase64String(t))}catch(t){throw new M(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ot.fromUint8Array(t))}}]),e}(),Rl=function(){function e(){Object(h.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0;a<n.length;++a)if(0===n[a].length)throw new M(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new re(n)}return Object(d.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Pl=function e(t){Object(h.a)(this,e),this._methodName=t},Dl=function(){function e(t,n){if(Object(h.a)(this,e),!isFinite(t)||t<-90||t>90)throw new M(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new M(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(d.a)(e,[{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}},{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}}]),e}(),Ll=/^__.*__$/,Ml=function(){function e(t,n,r){Object(h.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(d.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Dr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pr(e,this.data,t,this.fieldTransforms)}}]),e}(),Fl=function(){function e(t,n,r){Object(h.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(d.a)(e,[{key:"toMutation",value:function(e,t){return new Dr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Ul(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw A()}}var Vl=function(){function e(t,n,r,a,i,o){Object(h.a)(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,void 0===i&&this.Jc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object(d.a)(e,[{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return uf(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Ul(this.Yc)&&Ll.test(e))throw this.ia('Document fields cannot begin and end with "__"')}},{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}}]),e}(),zl=function(){function e(t,n,r){Object(h.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||hu(t)}return Object(d.a)(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vl({Yc:e,methodName:t,oa:n,path:re.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Bl(e){var t=e._freezeSettings(),n=hu(e._databaseId);return new zl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ql(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(i.merge||i.mergeFields?2:0,t,n,a);nf("Data must be an object, but it was:",o,r);var u,s,c=ef(r,o);if(i.merge)u=new bt(o.fieldMask),s=o.fieldTransforms;else if(i.mergeFields){var l,f=[],h=g(i.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=rf(t,l.value,n);if(!o.contains(d))throw new M(L.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));sf(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new bt(f),s=o.fieldTransforms.filter(function(e){return u.covers(e.field)})}else u=null,s=o.fieldTransforms;return new Ml(new $t(c),u,s)}var Gl=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof t}}]),t}(Pl);function Kl(e,t,n){return new Vl({Yc:3,oa:t.settings.oa,methodName:e._methodName,ta:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var Hl=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_toFieldTransform",value:function(e){return new _r(e.path,new mr)}},{key:"isEqual",value:function(e){return e instanceof t}}]),t}(Pl),Wl=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e))).ca=n,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_toFieldTransform",value:function(e){var t=Kl(this,e,!0),n=this.ca.map(function(e){return Zl(e,t)}),r=new yr(n);return new _r(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),t}(Pl),Ql=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e))).ca=n,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_toFieldTransform",value:function(e){var t=Kl(this,e,!0),n=this.ca.map(function(e){return Zl(e,t)}),r=new gr(n);return new _r(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),t}(Pl),Yl=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e))).aa=n,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_toFieldTransform",value:function(e){var t=new Or(e.serializer,fr(e.serializer,this.aa));return new _r(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),t}(Pl);function $l(e,t,n,r){var a=e.ua(1,t,n);nf("Data must be an object, but it was:",a,r);var i=[],o=$t.empty();lt(r,function(e,r){var u=of(t,e,n);r=Object(y.p)(r);var s=a.na(u);if(r instanceof Gl)i.push(u);else{var c=Zl(r,s);null!=c&&(i.push(u),o.set(u,c))}});var u=new bt(i);return new Fl(o,u,a.fieldTransforms)}function Jl(e,t,n,r,a,i){var o=e.ua(1,t,n),u=[rf(t,r,n)],s=[a];if(i.length%2!=0)throw new M(L.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<i.length;c+=2)u.push(rf(t,i[c])),s.push(i[c+1]);for(var l=[],f=$t.empty(),h=u.length-1;h>=0;--h)if(!sf(l,u[h])){var d=u[h],p=s[h];p=Object(y.p)(p);var v=o.na(d);if(p instanceof Gl)l.push(d);else{var m=Zl(p,v);null!=m&&(l.push(d),f.set(d,m))}}var b=new bt(l);return new Fl(f,b,o.fieldTransforms)}function Xl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Zl(n,e.ua(r?4:3,t))}function Zl(e,t){if(tf(e=Object(y.p)(e)))return nf("Unsupported field value:",t,e),ef(e,t);if(e instanceof Pl)return function(e,t){if(!Ul(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],a=0,i=g(e);try{for(i.s();!(n=i.n()).done;){var o=Zl(n.value,t.sa(a));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),a++}}catch(u){i.e(u)}finally{i.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(y.p)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=X.fromDate(e);return{timestampValue:la(t.serializer,n)}}if(e instanceof X){var r=new X(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:la(t.serializer,r)}}if(e instanceof Dl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Al)return{bytesValue:fa(t.serializer,e._byteString)};if(e instanceof ul){var a=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(a))throw t.ia("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(a.projectId,"/").concat(a.database));return{referenceValue:pa(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(tl(e)))}(e,t)}function ef(e,t){var n={};return ft(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lt(e,function(e,r){var a=Zl(r,t.Xc(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function tf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof X||e instanceof Dl||e instanceof Al||e instanceof ul||e instanceof Pl)}function nf(e,t,n){if(!tf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=tl(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function rf(e,t,n){if((t=Object(y.p)(t))instanceof Rl)return t._internalPath;if("string"==typeof t)return of(e,t);throw uf("Field path arguments must be of type string or ",e,!1,void 0,n)}var af=new RegExp("[~\\*/\\[\\]]");function of(e,t,n){if(t.search(af)>=0)throw uf("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(Rl,Object(f.a)(t.split(".")))._internalPath}catch(a){throw uf("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function uf(e,t,n,r,a){var i=r&&!r.isEmpty(),o=void 0!==a,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(i||o)&&(s+=" (found",i&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(a)),s+=")"),new M(L.INVALID_ARGUMENT,u+e+s)}function sf(e,t){return e.some(function(e){return e.isEqual(t)})}var cf=function(){function e(t,n,r,a,i){Object(h.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i}return Object(d.a)(e,[{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new lf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ff("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ul(this._firestore,this._converter,this._key)}}]),e}(),lf=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"data",value:function(){return Object(a.a)(Object(c.a)(t.prototype),"data",this).call(this)}}]),t}(cf);function ff(e,t){return"string"==typeof t?of(e,t):t instanceof Rl?t._internalPath:t._delegate._internalPath}function hf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new M(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var df=function e(){Object(h.a)(this,e)},pf=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),t}(df);function vf(e,t){for(var n=[],r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];t instanceof df&&n.push(t),function(e){var t=e.filter(function(e){return e instanceof bf}).length,n=e.filter(function(e){return e instanceof mf}).length;if(t>1||t>0&&n>0)throw new M(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(a));var o,u=g(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var mf=function(e){function t(e,n,r){var a;return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this)))._field=e,a._op=n,a._value=r,a.type="where",a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_apply",value:function(e){var t=this._parse(e);return Rf(e._query,t),new sl(e.firestore,e.converter,Vn(e._query,t))}},{key:"_parse",value:function(e){var t=Bl(e.firestore);return function(e,t,n,r,a,i,o){var u;if(a.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new M(L.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Af(o,i);var s,c=[],l=g(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Nf(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=Nf(r,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Af(o,i),u=Xl(n,"where",o,"in"===i||"not-in"===i);return on.create(a,i,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}]),t}(pf);function yf(e,t,n){var r=t,a=ff("where",e);return mf._create(a,r,n)}var bf=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this))).type=e,r._queryConstraints=n,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_parse",value:function(e){var t=this._queryConstraints.map(function(t){return t._parse(e)}).filter(function(e){return e.getFilters().length>0});return 1===t.length?t[0]:un.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,a=g(t.getFlattenedFilters());try{for(a.s();!(n=a.n()).done;){var i=n.value;Rf(r,i),r=Vn(r,i)}}catch(o){a.e(o)}finally{a.f()}}(e._query,t),new sl(e.firestore,e.converter,Vn(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,n){return new t(e,n)}}]),t}(df);var gf=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this)))._field=e,r._direction=n,r.type="orderBy",r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new M(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new M(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new nn(t,n);return function(e,t){if(null===Dn(e)){var n=Ln(e);null!==n&&Pf(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new sl(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Nn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,n){return new t(e,n)}}]),t}(pf);function kf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ff("orderBy",e);return gf._create(n,t)}var Of=function(e){function t(e,n,r){var a;return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this))).type=e,a._limit=n,a._limitType=r,a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_apply",value:function(e){return new sl(e.firestore,e.converter,zn(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}]),t}(pf);function wf(e){return rl("limit",e),Of._create("limit",e,"F")}function jf(e){return rl("limitToLast",e),Of._create("limitToLast",e,"L")}var _f=function(e){function t(e,n,r){var a;return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this))).type=e,a._docOrFields=n,a._inclusive=r,a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_apply",value:function(e){var t=Cf(e,this.type,this._docOrFields,this._inclusive);return new sl(e.firestore,e.converter,function(e,t){return new Nn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}]),t}(pf);function xf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _f._create("startAt",t,!0)}function Ef(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _f._create("startAfter",t,!1)}var If=function(e){function t(e,n,r){var a;return Object(h.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this))).type=e,a._docOrFields=n,a._inclusive=r,a}return Object(l.a)(t,e),Object(d.a)(t,[{key:"_apply",value:function(e){var t=Cf(e,this.type,this._docOrFields,this._inclusive);return new sl(e.firestore,e.converter,function(e,t){return new Nn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,n,r){return new t(e,n,r)}}]),t}(pf);function Tf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return If._create("endBefore",t,!1)}function Sf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return If._create("endAt",t,!0)}function Cf(e,t,n,r){if(n[0]=Object(y.p)(n[0]),n[0]instanceof cf)return function(e,t,n,r,a){if(!r)throw new M(L.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var i,o=[],u=g(Fn(e));try{for(u.s();!(i=u.n()).done;){var s=i.value;if(s.field.isKeyField())o.push(Ft(t,r.key));else{var c=r.data.field(s.field);if(Et(c))throw new M(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new M(L.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Zt(o,a)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var a=Bl(e.firestore);return function(e,t,n,r,a,i){var o=e.explicitOrderBy;if(a.length>o.length)throw new M(L.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<a.length;s++){var c=a[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new M(L.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Mn(e)&&-1!==c.indexOf("/"))throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(te.fromString(c));if(!ae.isDocumentKey(l))throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ae(l);u.push(Ft(t,f))}else{var h=Xl(n,r,c);u.push(h)}}return new Zt(u,i)}(e._query,e.firestore._databaseId,a,t,n,r)}function Nf(e,t,n){if("string"==typeof(n=Object(y.p)(n))){if(""===n)throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mn(t)&&-1!==n.indexOf("/"))throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(te.fromString(n));if(!ae.isDocumentKey(r))throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ft(e,new ae(r))}if(n instanceof ul)return Ft(e,n._key);throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(tl(n),"."))}function Af(e,t){if(!Array.isArray(e)||0===e.length)throw new M(L.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Rf(e,t){if(t.isInequality()){var n=Ln(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new M(L.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var a=Dn(e);null!==a&&Pf(e,r,a)}var i=function(e,t){var n,r=g(e);try{for(r.s();!(n=r.n()).done;){var a,i=g(n.value.getFlattenedFilters());try{for(i.s();!(a=i.n()).done;){var o=a.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){i.e(u)}finally{i.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(t.op){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===t.op?new M(L.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new M(L.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}function Pf(e,t,n){if(!n.isEqual(t))throw new M(L.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Df=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(At(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw A()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return lt(e.fields,function(e,a){r[e]=n.convertValue(a,t)}),r}},{key:"convertGeoPoint",value:function(e){return new Dl(_t(e.latitude),_t(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return Et(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(It(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=jt(e);return new X(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=te.fromString(e);R(La(n));var r=new St(n.get(1),n.get(3)),a=new ae(n.popFirst(5));return r.isEqual(t)||S("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}]),e}();function Lf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Mf=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).firestore=e,n}return Object(l.a)(t,e),Object(d.a)(t,[{key:"convertBytes",value:function(e){return new Al(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ul(this.firestore,null,t)}}]),t}(Df);var Ff=function(){function e(t,n){Object(h.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(d.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Uf=function(e){function t(e,n,r,a,i,o){var u;return Object(h.a)(this,t),(u=Object(s.a)(this,Object(c.a)(t).call(this,e,n,r,a,o)))._firestore=e,u._firestoreImpl=e,u.metadata=i,u}return Object(l.a)(t,e),Object(d.a)(t,[{key:"exists",value:function(){return Object(a.a)(Object(c.a)(t.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ff("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),t}(cf),Vf=function(e){function t(){return Object(h.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(d.a)(t,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)(Object(c.a)(t.prototype),"data",this).call(this,e)}}]),t}(Uf),zf=function(){function e(t,n,r,a){Object(h.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ff(a.hasPendingWrites,a.fromCache),this.query=r}return Object(d.a)(e,[{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new Vf(n._firestore,n._userDataWriter,r.key,r,new Ff(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new M(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){var r=new Vf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ff(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new Vf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ff(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),a=-1,i=-1;return 0!==t.type&&(a=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(i=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Bf(t.type),doc:n,oldIndex:a,newIndex:i}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}},{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}}]),e}();function Bf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return A()}}function qf(e,t){return e instanceof Uf&&t instanceof Uf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zf&&t instanceof zf&&e._firestore===t._firestore&&pl(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Gf(e){e=nl(e,ul);var t=nl(e.firestore,gl);return Qc(kl(t),e._key).then(function(n){return ah(t,e,n)})}var Kf=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this))).firestore=e,n}return Object(l.a)(t,e),Object(d.a)(t,[{key:"convertBytes",value:function(e){return new Al(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ul(this.firestore,null,t)}}]),t}(Df);function Hf(e){e=nl(e,ul);var t=nl(e.firestore,gl),n=kl(t),r=new Kf(t);return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function r(){return O().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(u.a)(O().mark(function e(t,n,r){var a,i;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=D(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.localDocuments.getDocument(e,t)})}(t,n);case 3:(a=e.sent).isFoundDocument()?r.resolve(a):a.isNoDocument()?r.resolve(null):r.reject(new M(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i=ss(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(i);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Bc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._key).then(function(n){return new Uf(t,r,e._key,n,new Ff(null!==n&&n.hasLocalMutations,!0),e.converter)})}function Wf(e){e=nl(e,ul);var t=nl(e.firestore,gl);return Qc(kl(t),e._key,{source:"server"}).then(function(n){return ah(t,e,n)})}function Qf(e){e=nl(e,sl);var t=nl(e.firestore,gl),n=kl(t),r=new Kf(t);return hf(e._query),Yc(n,e._query).then(function(n){return new zf(t,r,e,n)})}function Yf(e){e=nl(e,sl);var t=nl(e.firestore,gl),n=kl(t),r=new Kf(t);return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function r(){return O().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(u.a)(O().mark(function e(t,n,r){var a,i,o,u,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fo(t,n,!0);case 3:a=e.sent,i=new Es(n,a.Wi),o=i.zu(a.documents),u=i.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ss(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Bc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._query).then(function(n){return new zf(t,r,e,n)})}function $f(e){e=nl(e,sl);var t=nl(e.firestore,gl),n=kl(t),r=new Kf(t);return Yc(n,e._query,{source:"server"}).then(function(n){return new zf(t,r,e,n)})}function Jf(e,t,n){e=nl(e,ul);var r=nl(e.firestore,gl),a=Lf(e.converter,t,n);return rh(r,[ql(Bl(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,Er.none())])}function Xf(e,t,n){e=nl(e,ul);for(var r=nl(e.firestore,gl),a=Bl(r),i=arguments.length,o=new Array(i>3?i-3:0),u=3;u<i;u++)o[u-3]=arguments[u];return rh(r,[("string"==typeof(t=Object(y.p)(t))||t instanceof Rl?Jl(a,"updateDoc",e._key,t,n,o):$l(a,"updateDoc",e._key,t)).toMutation(e._key,Er.exists(!0))])}function Zf(e){return rh(nl(e.firestore,gl),[new zr(e._key,Er.none())])}function eh(e,t){var n=nl(e.firestore,gl),r=hl(e),a=Lf(e.converter,t);return rh(n,[ql(Bl(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,Er.exists(!1))]).then(function(){return r})}function th(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,i,o;e=Object(y.p)(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||ml(n[c])||(s=n[c],c++);var l,f,h,d={includeMetadataChanges:s.includeMetadataChanges};if(ml(n[c])){var p=n[c];n[c]=null===(a=p.next)||void 0===a?void 0:a.bind(p),n[c+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),n[c+2]=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}if(e instanceof ul)f=nl(e.firestore,gl),h=Rn(e._key.path),l={next:function(t){n[c]&&n[c](ah(f,e,t))},error:n[c+1],complete:n[c+2]};else{var v=nl(e,sl);f=nl(v.firestore,gl),h=v._query;var m=new Kf(f);l={next:function(e){n[c]&&n[c](new zf(f,m,v,e))},error:n[c+1],complete:n[c+2]},hf(e._query)}return function(e,t,n,r){var a=new Ic(l),i=new gs(t,a,n);return e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function t(){return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ps,t.next=3,Hc(e);case 3:return t.t1=t.sent,t.t2=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){a.yc(),e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function t(){return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ms,t.next=3,Hc(e);case 3:return t.t1=t.sent,t.t2=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(kl(f),h,d)}function nh(e,t){return function(e,t){var n=new Ic(t);return e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function t(){return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){D(e).Au.add(t),t.next()},t.next=3,Hc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){n.yc(),e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function t(){return O().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){D(e).Au.delete(t)},t.next=3,Hc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(kl(e=nl(e,gl)),ml(t)?t:{next:t})}function rh(e,t){return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function r(){return O().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Ls,r.next=3,Gc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(kl(e),t)}function ah(e,t,n){var r=n.docs.get(t._key),a=new Kf(e);return new Uf(e,a,t._key,r,new Ff(n.hasPendingWrites,n.fromCache),t.converter)}var ih={maxAttempts:5},oh=function(){function e(t,n){Object(h.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bl(t)}return Object(d.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=uh(e,this._firestore),a=Lf(r.converter,t,n),i=ql(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,Er.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,a=uh(e,this._firestore),i=arguments.length,o=new Array(i>3?i-3:0),u=3;u<i;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(y.p)(t))||t instanceof Rl?Jl(this._dataReader,"WriteBatch.update",a._key,t,n,o):$l(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(r.toMutation(a._key,Er.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=uh(e,this._firestore);return this._mutations=this._mutations.concat(new zr(t._key,Er.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new M(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function uh(e,t){if((e=Object(y.p)(e)).firestore!==t)throw new M(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var sh=function(e){function t(e,n){var r;return Object(h.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e,n)))._firestore=e,r}return Object(l.a)(t,e),Object(d.a)(t,[{key:"get",value:function(e){var n=this,r=uh(e,this._firestore),i=new Kf(this._firestore);return Object(a.a)(Object(c.a)(t.prototype),"get",this).call(this,e).then(function(e){return new Uf(n._firestore,i,r._key,e._document,new Ff(!1,!1),r.converter)})}}]),t}(function(){function e(t,n){Object(h.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=Bl(t)}return Object(d.a)(e,[{key:"get",value:function(e){var t=this,n=uh(e,this._firestore),r=new Mf(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return A();var a=e[0];if(a.isFoundDocument())return new cf(t._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new cf(t._firestore,r,n._key,null,n.converter);throw A()})}},{key:"set",value:function(e,t,n){var r=uh(e,this._firestore),a=Lf(r.converter,t,n),i=ql(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,n);return this._transaction.set(r._key,i),this}},{key:"update",value:function(e,t,n){for(var r,a=uh(e,this._firestore),i=arguments.length,o=new Array(i>3?i-3:0),u=3;u<i;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(y.p)(t))||t instanceof Rl?Jl(this._dataReader,"Transaction.update",a._key,t,n,o):$l(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,r),this}},{key:"delete",value:function(e){var t=uh(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function ch(e,t,n){e=nl(e,gl);var r=Object.assign(Object.assign({},ih),n);return function(e){if(r.maxAttempts<1)throw new M(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(),function(e,t,n){var r=new F;return e.asyncQueue.enqueueAndForget(Object(u.a)(O().mark(function a(){var i;return O().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Kc(e);case 2:i=a.sent,new Cc(e.asyncQueue,i,n,t,r).run();case 4:case"end":return a.stop()}},a)}))),r.promise}(kl(e),function(n){return t(new sh(e,n))},r)}function lh(){return new Gl("deleteField")}function fh(){return new Hl("serverTimestamp")}function hh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Wl("arrayUnion",t)}function dh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ql("arrayRemove",t)}function ph(e){return new Yl("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_=e}(p.SDK_VERSION),Object(p._registerComponent)(new v.a("firestore",function(e,n){var r=n.instanceIdentifier,a=n.options,i=e.getProvider("app").getImmediate(),o=new gl(new B(e.getProvider("auth-internal")),new H(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new M(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new St(e.options.projectId,t)}(i,r),i);return a=Object.assign({useFetchStreams:t},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Object(p.registerVersion)(w,"3.10.1",void 0),Object(p.registerVersion)(w,"3.10.1","esm2017")}()}).call(this,n(98))},function(e,t,n){"use strict";var r=n(55),a=n(105);var i=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},o=n(59),u=n(75);var s=function(e,t){return t.length<2?e:Object(o.a)(e,Object(u.a)(t,0,-1))},c=n(42);var l=function(e,t,n){t=Object(a.a)(t,e);var o=null==(e=s(e,t))?e:e[Object(c.a)(i(t))];return null==o?void 0:Object(r.a)(o,e,n)},f=n(49),h=Object(f.a)(l);t.a=h},function(e,t,n){"use strict";var r=n(84);var a=n(85);function i(e,t){return Object(r.a)(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}(e,t)||Object(a.a)()}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return X}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return Z}),n.d(t,"d",function(){return H}),n.d(t,"e",function(){return j}),n.d(t,"f",function(){return O}),n.d(t,"g",function(){return w}),n.d(t,"h",function(){return k}),n.d(t,"i",function(){return I}),n.d(t,"j",function(){return pe}),n.d(t,"k",function(){return ee}),n.d(t,"l",function(){return Q}),n.d(t,"m",function(){return B}),n.d(t,"n",function(){return A}),n.d(t,"o",function(){return T}),n.d(t,"p",function(){return W}),n.d(t,"q",function(){return G});var r,a=n(2),i=n(4),o=(n(3),n(1)),u=n(14),s=n(9),c=n(10),l=n(114),f=n(17),h=n(131),d=n(23);function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),u=new E(a||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};s(m,i,function(){return this});var y=Object.getPrototypeOf,b=y&&y(y(I([])));b&&b!==t&&n.call(b,i)&&(m=b);var g=v.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t(function(a,o){!function r(a,i,o,u){var s=l(e[a],e,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,i,a,o)})}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=j(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=l(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=v,r(g,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(O.prototype),s(O.prototype,o,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new O(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(g),s(g,u,"Generator"),s(g,i,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function v(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var b,g="popstate";function k(e){void 0===e&&(e={});var t,n=e,a=n.initialEntries,i=void 0===a?["/"]:a,o=n.initialIndex,u=n.v5Compat,s=void 0!==u&&u;t=i.map(function(e,t){return p(e,"string"===typeof e?null:e.state,0===t?"default":void 0)});var c=h(null==o?t.length-1:o),l=r.Pop,f=null;function h(e){return Math.min(Math.max(e,0),t.length-1)}function d(){return t[c]}function p(e,n,r){void 0===n&&(n=null);var a=E(t?d().pathname:"/",e,n,r);return _("/"===a.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),a}function v(e){return"string"===typeof e?e:I(e)}return{get index(){return c},get action(){return l},get location(){return d()},createHref:v,createURL:function(e){return new URL(v(e),"http://localhost")},encodeLocation:function(e){var t="string"===typeof e?T(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push:function(e,n){l=r.Push;var a=p(e,n);c+=1,t.splice(c,t.length,a),s&&f&&f({action:l,location:a,delta:1})},replace:function(e,n){l=r.Replace;var a=p(e,n);t[c]=a,s&&f&&f({action:l,location:a,delta:0})},go:function(e){l=r.Pop;var n=h(c+e),a=t[n];c=n,f&&f({action:l,location:a,delta:e})},listen:function(e){return f=e,function(){f=null}}}}function O(e){return void 0===e&&(e={}),S(function(e,t){var n=e.location;return E("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:I(t)},null,e)}function w(e){return void 0===e&&(e={}),S(function(e,t){var n=T(e.location.hash.substr(1)),r=n.pathname,a=void 0===r?"/":r,i=n.search,o=void 0===i?"":i,u=n.hash;return E("",{pathname:a,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var a=e.location.href,i=a.indexOf("#");r=-1===i?a:a.slice(0,i)}return r+"#"+("string"===typeof t?t:I(t))},function(e,t){_("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},e)}function j(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function _(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function E(e,t,n,r){return void 0===n&&(n=null),y({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?T(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function I(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,i=e.hash,o=void 0===i?"":i;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function T(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n,a){void 0===a&&(a={});var i=a,o=i.window,u=void 0===o?document.defaultView:o,s=i.v5Compat,c=void 0!==s&&s,l=u.history,f=r.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=r.Pop;var e=p(),t=null==e?null:e-d;d=e,h&&h({action:f,location:b.location,delta:t})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:I(e);return j(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(y({},l.state,{idx:d}),""));var b={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(g,v),h=e,function(){u.removeEventListener(g,v),h=null}},createHref:function(e){return t(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;var a=E(b.location,e,t);n&&n(a,e);var i=x(a,d=p()+1),o=b.createHref(a);try{l.pushState(i,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:b.location,delta:1})},replace:function(e,t){f=r.Replace;var a=E(b.location,e,t);n&&n(a,e);var i=x(a,d=p()),o=b.createHref(a);l.replaceState(i,"",o),c&&h&&h({action:f,location:b.location,delta:0})},go:function(e){return l.go(e)}};return b}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));var C=new Set(["lazy","caseSensitive","path","id","index","children"]);function N(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(function(e,a){var i=[].concat(Object(d.a)(n),[a]),o="string"===typeof e.id?e.id:i.join("-");if(j(!0!==e.index||!e.children,"Cannot specify children on an index route"),j(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var u=y({},e,t(e),{id:o});return r[o]=u,u}var s=y({},e,t(e),{id:o,children:void 0});return r[o]=s,e.children&&(s.children=N(e.children,t,i,r)),s})}function A(e,t,n){void 0===n&&(n="/");var r=G(("string"===typeof t?T(t):t).pathname||"/",n);if(null==r)return null;var a=function e(t,n,r,a){void 0===n&&(n=[]);void 0===r&&(r=[]);void 0===a&&(a="");var i=function(t,i,o){var u={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};u.relativePath.startsWith("/")&&(j(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),u.relativePath=u.relativePath.slice(a.length));var s=Q([a,u.relativePath]),c=r.concat(u);t.children&&t.children.length>0&&(j(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),e(t.children,n,c,s)),(null!=t.path||t.index)&&n.push({path:s,score:V(s,t.index),routesMeta:c})};t.forEach(function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=v(function e(t){var n=t.split("/");if(0===n.length)return[];var r=Object(h.a)(n),a=r[0],i=r.slice(1);var o=a.endsWith("?");var u=a.replace(/\?$/,"");if(0===i.length)return o?[u,""]:[u];var s=e(i.join("/"));var c=[];c.push.apply(c,Object(d.a)(s.map(function(e){return""===e?u:[u,e].join("/")})));o&&c.push.apply(c,Object(d.a)(s));return c.map(function(e){return t.startsWith("/")&&""===e?"/":e})}(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)});return n}(e);!function(e){e.sort(function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(function(e,n){return e===t[n]})?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(function(e){return e.childrenIndex}),t.routesMeta.map(function(e){return e.childrenIndex}))})}(a);for(var i=null,o=0;null==i&&o<a.length;++o)i=z(a[o],q(r));return i}var R=/^:\w+$/,P=3,D=2,L=1,M=10,F=-2,U=function(e){return"*"===e};function V(e,t){var n=e.split("/"),r=n.length;return n.some(U)&&(r+=F),t&&(r+=D),n.filter(function(e){return!U(e)}).reduce(function(e,t){return e+(R.test(t)?P:""===t?L:M)},r)}function z(e,t){for(var n=e.routesMeta,r={},a="/",i=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===a?t:t.slice(a.length)||"/",l=B({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;i.push({params:r,pathname:Q([a,l.pathname]),pathnameBase:Y(Q([a,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(a=Q([a,l.pathnameBase]))}return i}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);_("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,function(e,t){return r.push(t),"/([^\\/]+)"});e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");return[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=Object(f.a)(n,2),a=r[0],i=r[1],o=t.match(a);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce(function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return _(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e},{}),pathname:u,pathnameBase:s,pattern:e}}function q(e){try{return decodeURI(e)}catch(t){return _(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function G(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function K(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function H(e){return e.filter(function(e,t){return 0===t||e.route.path&&e.route.path.length>0})}function W(e,t,n,r){var a;void 0===r&&(r=!1),"string"===typeof e?a=T(e):(j(!(a=y({},e)).pathname||!a.pathname.includes("?"),K("?","pathname","search",a)),j(!a.pathname||!a.pathname.includes("#"),K("#","pathname","hash",a)),j(!a.search||!a.search.includes("#"),K("#","search","hash",a)));var i,o=""===e||""===a.pathname,u=o?"/":a.pathname;if(r||null==u)i=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;a.pathname=c.join("/")}i=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?T(e):e,r=n.pathname,a=n.search,i=void 0===a?"":a,o=n.hash,u=void 0===o?"":o;return{pathname:r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(r,t):t,search:$(i),hash:J(u)}}(a,i),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var Q=function(e){return e.join("/").replace(/\/\/+/g,"/")},Y=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},$=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},J=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},X=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),t}(Object(l.a)(Error));var Z=function e(t,n,r,a){Object(o.a)(this,e),void 0===a&&(a=!1),this.status=t,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r};function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var te=["post","put","patch","delete"],ne=new Set(te),re=["get"].concat(te),ae=new Set(re),ie=new Set([301,302,303,307,308]),oe=new Set([307,308]),ue={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},se={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ce={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,he=!fe,de=function(e){return{hasErrorBoundary:Boolean(e.hasErrorBoundary)}};function pe(e){var t;if(j(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)t=e.mapRouteProperties;else if(e.detectErrorBoundary){var n=e.detectErrorBoundary;t=function(e){return{hasErrorBoundary:n(e)}}}else t=de;var o,u={},s=N(e.routes,t,void 0,u),c=e.basename||"/",l=y({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),h=null,m=new Set,g=null,k=null,O=null,w=null!=e.hydrationData,x=A(s,e.history.location,c),I=null;if(null==x){var T=Ae(404,{pathname:e.history.location.pathname}),S=Ne(s),C=S.matches,R=S.route;x=C,I=Object(i.a)({},R.id,T)}var P,D,L=!x.some(function(e){return e.route.lazy})&&(!x.some(function(e){return e.route.loader})||null!=e.hydrationData),M={historyAction:e.history.action,location:e.history.location,matches:x,initialized:L,navigation:ue,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||I,fetchers:new Map,blockers:new Map},F=r.Pop,U=!1,V=!1,z=!1,B=[],q=[],K=new Map,H=0,W=-1,Q=new Map,Y=new Set,$=new Map,J=new Map,X=new Map,Z=!1;function ee(e){M=y({},M,e),m.forEach(function(e){return e(M)})}function te(t,n){var a,i,u,c=null!=M.actionData&&null!=M.navigation.formMethod&&ze(M.navigation.formMethod)&&"loading"===M.navigation.state&&!0!==(null==(a=t.state)?void 0:a._isRedirect);u=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:c?M.actionData:null;var l,h=n.loaderData?Se(M.loaderData,n.loaderData,n.matches||[],n.errors):M.loaderData,d=v(X);try{for(d.s();!(l=d.n()).done;){Je(Object(f.a)(l.value,1)[0])}}catch(m){d.e(m)}finally{d.f()}var p=!0===U||null!=M.navigation.formMethod&&ze(M.navigation.formMethod)&&!0!==(null==(i=t.state)?void 0:i._isRedirect);o&&(s=o,o=void 0),ee(y({},n,{actionData:u,loaderData:h,historyAction:F,location:t,initialized:!0,navigation:ue,revalidation:"idle",restoreScrollPosition:nt(t,n.matches||M.matches),preventScrollReset:p,blockers:new Map(M.blockers)})),V||F===r.Pop||(F===r.Push?e.history.push(t,t.state):F===r.Replace&&e.history.replace(t,t.state)),F=r.Pop,U=!1,V=!1,z=!1,B=[],q=[]}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(a.a)(p().mark(function t(n,a){var i,o,u,s,f,h,d,v,m,b,g;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(i=ve(M.location,M.matches,c,l.v7_prependBasename,n,null==a?void 0:a.fromRouteId,null==a?void 0:a.relative),o=me(l.v7_normalizeFormMethod,!1,i,a),u=o.path,s=o.submission,f=o.error,h=M.location,d=y({},d=E(M.location,u,a&&a.state),e.history.encodeLocation(d)),v=a&&null!=a.replace?a.replace:void 0,m=r.Push,!0===v?m=r.Replace:!1===v||null!=s&&ze(s.formMethod)&&s.formAction===M.location.pathname+M.location.search&&(m=r.Replace),b=a&&"preventScrollReset"in a?!0===a.preventScrollReset:void 0,!(g=Ze({currentLocation:h,nextLocation:d,historyAction:m}))){t.next=16;break}return Xe(g,{state:"blocked",location:d,proceed:function(){Xe(g,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),ne(n,a)},reset:function(){Je(g),ee({blockers:new Map(M.blockers)})}}),t.abrupt("return");case 16:return t.next=18,ae(m,d,{submission:s,pendingError:f,preventScrollReset:b,replace:a&&a.replace});case 18:return t.abrupt("return",t.sent);case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ae(e,t,n){return ie.apply(this,arguments)}function ie(){return(ie=Object(a.a)(p().mark(function t(n,r,a){var u,l,f,h,d,v,m,b,g,k,O,w,j,_,x,E;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(D&&D.abort(),D=null,F=n,V=!0===(a&&a.startUninterruptedRevalidation),tt(M.location,M.matches),U=!0===(a&&a.preventScrollReset),u=o||s,l=a&&a.overrideNavigation,f=A(u,r,c)){t.next=15;break}return h=Ae(404,{pathname:r.pathname}),d=Ne(u),v=d.matches,m=d.route,et(),te(r,{matches:v,loaderData:{},errors:Object(i.a)({},m.id,h)}),t.abrupt("return");case 15:if(p=M.location,I=r,p.pathname!==I.pathname||p.search!==I.search||p.hash===I.hash||a&&a.submission&&ze(a.submission.formMethod)){t.next=18;break}return te(r,{matches:f}),t.abrupt("return");case 18:if(D=new AbortController,b=xe(e.history,r,D.signal,a&&a.submission),!a||!a.pendingError){t.next=24;break}k=Object(i.a)({},Ce(f).route.id,a.pendingError),t.next=35;break;case 24:if(!(a&&a.submission&&ze(a.submission.formMethod))){t.next=35;break}return t.next=27,pe(b,r,a.submission,f,{replace:a.replace});case 27:if(!(O=t.sent).shortCircuited){t.next=30;break}return t.abrupt("return");case 30:g=O.pendingActionData,k=O.pendingActionError,w=y({state:"loading",location:r},a.submission),l=w,b=new Request(b.url,{signal:b.signal});case 35:return t.next=37,ge(b,r,f,l,a&&a.submission,a&&a.fetcherSubmission,a&&a.replace,g,k);case 37:if(j=t.sent,_=j.shortCircuited,x=j.loaderData,E=j.errors,!_){t.next=43;break}return t.abrupt("return");case 43:D=null,te(r,y({matches:f},g?{actionData:g}:{},{loaderData:x,errors:E}));case 45:case"end":return t.stop()}var p,I},t)}))).apply(this,arguments)}function pe(e,t,n,r,a){return ye.apply(this,arguments)}function ye(){return(ye=Object(a.a)(p().mark(function e(n,a,o,s,l){var f,h,d,v;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Ue(),ee({navigation:y({state:"submitting",location:a},o)}),(h=Qe(s,a)).route.action||h.route.lazy){e.next=8;break}f={type:b.error,error:Ae(405,{method:n.method,pathname:a.pathname,routeId:h.route.id})},e.next=13;break;case 8:return e.next=10,je("action",n,h,s,u,t,c);case 10:if(f=e.sent,!n.signal.aborted){e.next=13;break}return e.abrupt("return",{shortCircuited:!0});case 13:if(!Me(f)){e.next=18;break}return d=l&&null!=l.replace?l.replace:f.location===M.location.pathname+M.location.search,e.next=17,Ee(M,f,{submission:o,replace:d});case 17:return e.abrupt("return",{shortCircuited:!0});case 18:if(!Le(f)){e.next=22;break}return v=Ce(s,h.route.id),!0!==(l&&l.replace)&&(F=r.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:Object(i.a)({},v.route.id,f.error)});case 22:if(!De(f)){e.next=24;break}throw Ae(400,{type:"defer-action"});case 24:return e.abrupt("return",{pendingActionData:Object(i.a)({},h.route.id,f.data)});case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ge(e,t,n,r,a,i,o,u,s){return ke.apply(this,arguments)}function ke(){return(ke=Object(a.a)(p().mark(function t(n,r,a,i,u,l,h,d,v){var m,b,g,k,O,w,j,_,x,E,I,T,S,C,N,A,R,P,L,F,U,G;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((m=i)||(b=y({state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},u),m=b),g=u||l?u||l:m.formMethod&&m.formAction&&m.formData&&m.formEncType?{formMethod:m.formMethod,formAction:m.formAction,formData:m.formData,formEncType:m.formEncType}:void 0,k=o||s,O=be(e.history,M,a,g,r,z,B,q,$,k,c,d,v),w=Object(f.a)(O,2),j=w[0],_=w[1],et(function(e){return!(a&&a.some(function(t){return t.route.id===e}))||j&&j.some(function(t){return t.route.id===e})}),0!==j.length||0!==_.length){t.next=10;break}return x=Ye(),te(r,y({matches:a,loaderData:{},errors:v||null},d?{actionData:d}:{},x?{fetchers:new Map(M.fetchers)}:{})),t.abrupt("return",{shortCircuited:!0});case 10:return V||(_.forEach(function(e){var t=M.fetchers.get(e.key),n={state:"loading",data:t&&t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};M.fetchers.set(e.key,n)}),E=d||M.actionData,ee(y({navigation:m},E?0===Object.keys(E).length?{actionData:null}:{actionData:E}:{},_.length>0?{fetchers:new Map(M.fetchers)}:{}))),W=++H,_.forEach(function(e){e.controller&&K.set(e.key,e.controller)}),I=function(){return _.forEach(function(e){return Ke(e.key)})},D&&D.signal.addEventListener("abort",I),t.next=17,Pe(M.matches,a,j,_,n);case 17:if(T=t.sent,S=T.results,C=T.loaderResults,N=T.fetcherResults,!n.signal.aborted){t.next=23;break}return t.abrupt("return",{shortCircuited:!0});case 23:if(D&&D.signal.removeEventListener("abort",I),_.forEach(function(e){return K.delete(e.key)}),!(A=Re(S))){t.next=30;break}return t.next=29,Ee(M,A,{replace:h});case 29:return t.abrupt("return",{shortCircuited:!0});case 30:return R=Te(M,a,j,C,v,_,N,J),P=R.loaderData,L=R.errors,J.forEach(function(e,t){e.subscribe(function(n){(n||e.done)&&J.delete(t)})}),F=Ye(),U=$e(W),G=F||U||_.length>0,t.abrupt("return",y({loaderData:P,errors:L},G?{fetchers:new Map(M.fetchers)}:{}));case 36:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Oe(e){return M.fetchers.get(e)||se}function we(){return(we=Object(a.a)(p().mark(function n(r,a,l,h,d,v){var m,b,g,k,O,w,_,x,E,I,T,S,C,N,R,P,L,U,V,G,X,Z,ne,re,ae,ie,oe,ue;return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(Ue(),$.delete(r),h.route.action||h.route.lazy){n.next=6;break}return m=Ae(405,{method:v.formMethod,pathname:l,routeId:a}),Ve(r,a,m),n.abrupt("return");case 6:return b=M.fetchers.get(r),g=y({state:"submitting"},v,{data:b&&b.data," _hasFetcherDoneAnything ":!0}),M.fetchers.set(r,g),ee({fetchers:new Map(M.fetchers)}),k=new AbortController,O=xe(e.history,l,k.signal,v),K.set(r,k),n.next=15,je("action",O,h,d,u,t,c);case 15:if(w=n.sent,!O.signal.aborted){n.next=19;break}return K.get(r)===k&&K.delete(r),n.abrupt("return");case 19:if(!Me(w)){n.next=26;break}return K.delete(r),Y.add(r),_=y({state:"loading"},v,{data:void 0," _hasFetcherDoneAnything ":!0}),M.fetchers.set(r,_),ee({fetchers:new Map(M.fetchers)}),n.abrupt("return",Ee(M,w,{submission:v,isFetchActionRedirect:!0}));case 26:if(!Le(w)){n.next=29;break}return Ve(r,a,w.error),n.abrupt("return");case 29:if(!De(w)){n.next=31;break}throw Ae(400,{type:"defer-action"});case 31:return x=M.navigation.location||M.location,E=xe(e.history,x,k.signal),I=o||s,j(T="idle"!==M.navigation.state?A(I,M.navigation.location,c):M.matches,"Didn't find any matches after fetcher action"),S=++H,Q.set(r,S),C=y({state:"loading",data:w.data},v,{" _hasFetcherDoneAnything ":!0}),M.fetchers.set(r,C),N=be(e.history,M,T,v,x,z,B,q,$,I,c,Object(i.a)({},h.route.id,w.data),void 0),R=Object(f.a)(N,2),P=R[0],(L=R[1]).filter(function(e){return e.key!==r}).forEach(function(e){var t=e.key,n=M.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};M.fetchers.set(t,r),e.controller&&K.set(t,e.controller)}),ee({fetchers:new Map(M.fetchers)}),U=function(){return L.forEach(function(e){return Ke(e.key)})},k.signal.addEventListener("abort",U),n.next=47,Pe(M.matches,T,P,L,E);case 47:if(V=n.sent,G=V.results,X=V.loaderResults,Z=V.fetcherResults,!k.signal.aborted){n.next=53;break}return n.abrupt("return");case 53:if(k.signal.removeEventListener("abort",U),Q.delete(r),K.delete(r),L.forEach(function(e){return K.delete(e.key)}),!(ne=Re(G))){n.next=60;break}return n.abrupt("return",Ee(M,ne));case 60:re=Te(M,M.matches,P,X,void 0,L,Z,J),ae=re.loaderData,ie=re.errors,oe={state:"idle",data:w.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},M.fetchers.set(r,oe),ue=$e(S),"loading"===M.navigation.state&&S>W?(j(F,"Expected pending action"),D&&D.abort(),te(M.navigation.location,{matches:T,loaderData:ae,errors:ie,fetchers:new Map(M.fetchers)})):(ee(y({errors:ie,loaderData:Se(M.loaderData,ae,T,ie)},ue?{fetchers:new Map(M.fetchers)}:{})),z=!1);case 65:case"end":return n.stop()}},n)}))).apply(this,arguments)}function _e(){return(_e=Object(a.a)(p().mark(function n(r,a,o,s,l,f){var h,d,v,m,b,g,k;return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return h=M.fetchers.get(r),d=y({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},f,{data:h&&h.data," _hasFetcherDoneAnything ":!0}),M.fetchers.set(r,d),ee({fetchers:new Map(M.fetchers)}),v=new AbortController,m=xe(e.history,o,v.signal),K.set(r,v),n.next=9,je("loader",m,s,l,u,t,c);case 9:if(!De(b=n.sent)){n.next=17;break}return n.next=13,Ge(b,m.signal,!0);case 13:if(n.t0=n.sent,n.t0){n.next=16;break}n.t0=b;case 16:b=n.t0;case 17:if(K.get(r)===v&&K.delete(r),!m.signal.aborted){n.next=20;break}return n.abrupt("return");case 20:if(!Me(b)){n.next=25;break}return Y.add(r),n.next=24,Ee(M,b);case 24:return n.abrupt("return");case 25:if(!Le(b)){n.next=30;break}return g=Ce(M.matches,a),M.fetchers.delete(r),ee({fetchers:new Map(M.fetchers),errors:Object(i.a)({},g.route.id,b.error)}),n.abrupt("return");case 30:j(!De(b),"Unhandled fetcher deferred data"),k={state:"idle",data:b.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},M.fetchers.set(r,k),ee({fetchers:new Map(M.fetchers)});case 34:case"end":return n.stop()}},n)}))).apply(this,arguments)}function Ee(e,t,n){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(a.a)(p().mark(function t(n,a,i){var o,u,s,l,f,h,d,v,m,b,g,k,O,w;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=(u=void 0===i?{}:i).submission,l=u.replace,f=u.isFetchActionRedirect,a.revalidate&&(z=!0),j(h=E(n.location,a.location,y({_isRedirect:!0},f?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!le.test(a.location)||!fe||"undefined"===typeof(null==(o=window)?void 0:o.location)){t.next=10;break}if(d=e.history.createURL(a.location),v=null==G(d.pathname,c),window.location.origin===d.origin&&!v){t.next=10;break}return l?window.location.replace(a.location):window.location.assign(a.location),t.abrupt("return");case 10:if(D=null,m=!0===l?r.Replace:r.Push,b=n.navigation,g=b.formMethod,k=b.formAction,O=b.formEncType,w=b.formData,!s&&g&&k&&w&&O&&(s={formMethod:g,formAction:k,formEncType:O,formData:w}),!(oe.has(a.status)&&s&&ze(s.formMethod))){t.next=19;break}return t.next=17,ae(m,h,{submission:y({},s,{formAction:a.location}),preventScrollReset:U});case 17:t.next=26;break;case 19:if(!f){t.next=24;break}return t.next=22,ae(m,h,{overrideNavigation:{state:"loading",location:h,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:s,preventScrollReset:U});case 22:t.next=26;break;case 24:return t.next=26,ae(m,h,{overrideNavigation:{state:"loading",location:h,formMethod:s?s.formMethod:void 0,formAction:s?s.formAction:void 0,formEncType:s?s.formEncType:void 0,formData:s?s.formData:void 0},preventScrollReset:U});case 26:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Pe(e,t,n,r,a){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(a.a)(p().mark(function n(r,a,i,o,s){var l,f,h;return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([].concat(Object(d.a)(i.map(function(e){return je("loader",s,e,a,u,t,c)})),Object(d.a)(o.map(function(n){return n.matches&&n.match&&n.controller?je("loader",xe(e.history,n.path,n.controller.signal),n.match,n.matches,u,t,c):{type:b.error,error:Ae(404,{pathname:n.path})}}))));case 2:return l=n.sent,f=l.slice(0,i.length),h=l.slice(i.length),n.next=7,Promise.all([Be(r,i,f,f.map(function(){return s.signal}),!1,M.loaderData),Be(r,o.map(function(e){return e.match}),h,o.map(function(e){return e.controller?e.controller.signal:null}),!0)]);case 7:return n.abrupt("return",{results:l,loaderResults:f,fetcherResults:h});case 8:case"end":return n.stop()}},n)}))).apply(this,arguments)}function Ue(){var e;z=!0,(e=B).push.apply(e,Object(d.a)(et())),$.forEach(function(e,t){K.has(t)&&(q.push(t),Ke(t))})}function Ve(e,t,n){var r=Ce(M.matches,t);qe(e),ee({errors:Object(i.a)({},r.route.id,n),fetchers:new Map(M.fetchers)})}function qe(e){K.has(e)&&Ke(e),$.delete(e),Q.delete(e),Y.delete(e),M.fetchers.delete(e)}function Ke(e){var t=K.get(e);j(t,"Expected fetch controller: "+e),t.abort(),K.delete(e)}function He(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,a={state:"idle",data:Oe(r).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};M.fetchers.set(r,a)}}catch(i){n.e(i)}finally{n.f()}}function Ye(){var e,t=[],n=!1,r=v(Y);try{for(r.s();!(e=r.n()).done;){var a=e.value,i=M.fetchers.get(a);j(i,"Expected fetcher: "+a),"loading"===i.state&&(Y.delete(a),t.push(a),n=!0)}}catch(o){r.e(o)}finally{r.f()}return He(t),n}function $e(e){var t,n=[],r=v(Q);try{for(r.s();!(t=r.n()).done;){var a=Object(f.a)(t.value,2),i=a[0];if(a[1]<e){var o=M.fetchers.get(i);j(o,"Expected fetcher: "+i),"loading"===o.state&&(Ke(i),Q.delete(i),n.push(i))}}}catch(u){r.e(u)}finally{r.f()}return He(n),n.length>0}function Je(e){M.blockers.delete(e),X.delete(e)}function Xe(e,t){var n=M.blockers.get(e)||ce;j("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state),M.blockers.set(e,t),ee({blockers:new Map(M.blockers)})}function Ze(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==X.size){X.size>1&&_(!1,"A router only supports one blocker at a time");var a=Array.from(X.entries()),i=Object(f.a)(a[a.length-1],2),o=i[0],u=i[1],s=M.blockers.get(o);if(!s||"proceeding"!==s.state)return u({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function et(e){var t=[];return J.forEach(function(n,r){e&&!e(r)||(n.cancel(),t.push(r),J.delete(r))}),t}function tt(e,t){if(g&&k&&O){var n=t.map(function(e){return We(e,M.loaderData)}),r=k(e,n)||e.key;g[r]=O()}}function nt(e,t){if(g&&k&&O){var n=t.map(function(e){return We(e,M.loaderData)}),r=k(e,n)||e.key,a=g[r];if("number"===typeof a)return a}return null}return P={get basename(){return c},get state(){return M},get routes(){return s},initialize:function(){return h=e.history.listen(function(t){var n=t.action,r=t.location,a=t.delta;if(!Z){_(0===X.size||null!=a,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var i=Ze({currentLocation:M.location,nextLocation:r,historyAction:n});return i&&null!=a?(Z=!0,e.history.go(-1*a),void Xe(i,{state:"blocked",location:r,proceed:function(){Xe(i,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(a)},reset:function(){Je(i),ee({blockers:new Map(P.state.blockers)})}})):ae(n,r)}Z=!1}),M.initialized||ae(r.Pop,M.location),P},subscribe:function(e){return m.add(e),function(){return m.delete(e)}},enableScrollRestoration:function(e,t,n){if(g=e,O=t,k=n||function(e){return e.key},!w&&M.navigation===ue){w=!0;var r=nt(M.location,M.matches);null!=r&&ee({restoreScrollPosition:r})}return function(){g=null,O=null,k=null}},navigate:ne,fetch:function(e,t,n,r){if(he)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");K.has(e)&&Ke(e);var a=o||s,i=ve(M.location,M.matches,c,l.v7_prependBasename,n,t,null==r?void 0:r.relative),u=A(a,i,c);if(u){var f=me(l.v7_normalizeFormMethod,!0,i,r),h=f.path,d=f.submission,p=Qe(u,h);U=!0===(r&&r.preventScrollReset),d&&ze(d.formMethod)?function(e,t,n,r,a,i){we.apply(this,arguments)}(e,t,h,p,u,d):($.set(e,{routeId:t,path:h}),function(e,t,n,r,a,i){_e.apply(this,arguments)}(e,t,h,p,u,d))}else Ve(e,t,Ae(404,{pathname:i}))},revalidate:function(){Ue(),ee({revalidation:"loading"}),"submitting"!==M.navigation.state&&("idle"!==M.navigation.state?ae(F||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation}):ae(M.historyAction,M.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:Oe,deleteFetcher:qe,dispose:function(){h&&h(),m.clear(),D&&D.abort(),M.fetchers.forEach(function(e,t){return qe(t)}),M.blockers.forEach(function(e,t){return Je(t)})},getBlocker:function(e,t){var n=M.blockers.get(e)||ce;return X.get(e)!==t&&X.set(e,t),n},deleteBlocker:Je,_internalFetchControllers:K,_internalActiveDeferreds:J,_internalSetRoutes:function(e){o=e}}}Symbol("deferred");function ve(e,t,n,r,a,i,o){var u,s;if(null!=i&&"path"!==o){u=[];var c,l=v(t);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(u.push(f),f.route.id===i){s=f;break}}}catch(d){l.e(d)}finally{l.f()}}else u=t,s=t[t.length-1];var h=W(a||".",H(u).map(function(e){return e.pathnameBase}),e.pathname,"path"===o);return null==a&&(h.search=e.search,h.hash=e.hash),null!=a&&""!==a&&"."!==a||!s||!s.route.index||He(h.search)||(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(h.pathname="/"===h.pathname?n:Q([n,h.pathname])),I(h)}function me(e,t,n,r){if(!r||!function(e){return null!=e&&"formData"in e}(r))return{path:n};if(r.formMethod&&!Ve(r.formMethod))return{path:n,error:Ae(405,{method:r.formMethod})};var a;if(r.formData){var i=r.formMethod||"get";if(ze((a={formMethod:e?i.toUpperCase():i.toLowerCase(),formAction:Pe(n),formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:r.formData}).formMethod))return{path:n,submission:a}}var o=T(n),u=Ee(r.formData);return t&&o.search&&He(o.search)&&u.append("index",""),o.search="?"+u,{path:I(o),submission:a}}function ye(e,t){var n=e;if(t){var r=e.findIndex(function(e){return e.route.id===t});r>=0&&(n=e.slice(0,r))}return n}function be(e,t,n,r,a,i,o,u,s,c,l,f,h){var d=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,p=e.createURL(t.location),v=e.createURL(a),m=h?Object.keys(h)[0]:void 0,b=ye(n,m).filter(function(e,n){if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,a=void 0===e[n.route.id];return r||a}(t.loaderData,t.matches[n],e)||o.some(function(t){return t===e.route.id}))return!0;var a=t.matches[n],u=e;return ke(e,y({currentUrl:p,currentParams:a.params,nextUrl:v,nextParams:u.params},r,{actionResult:d,defaultShouldRevalidate:i||p.toString()===v.toString()||p.search!==v.search||ge(a,u)}))}),g=[];return s.forEach(function(e,a){if(n.some(function(t){return t.route.id===e.routeId})){var o=A(c,e.path,l);if(o){var s=Qe(o,e.path);if(u.includes(a))g.push({key:a,routeId:e.routeId,path:e.path,matches:o,match:s,controller:new AbortController});else ke(s,y({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:d,defaultShouldRevalidate:i}))&&g.push({key:a,routeId:e.routeId,path:e.path,matches:o,match:s,controller:new AbortController})}else g.push({key:a,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null})}}),[b,g]}function ge(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ke(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Oe(e,t,n){return we.apply(this,arguments)}function we(){return(we=Object(a.a)(p().mark(function e(t,n,r){var a,i,o,u,s,c;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.lazy();case 4:if(a=e.sent,t.lazy){e.next=7;break}return e.abrupt("return");case 7:for(u in j(i=r[t.id],"No route found in manifest"),o={},a)s=i[u],_(!(c=void 0!==s&&"hasErrorBoundary"!==u),'Route "'+i.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+u+'" will be ignored.'),c||C.has(u)||(o[u]=a[u]);Object.assign(i,o),Object.assign(i,y({},n(i),{lazy:void 0}));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function je(e,t,n,r,a,i,o,u,s,c){return _e.apply(this,arguments)}function _e(){return(_e=Object(a.a)(p().mark(function e(t,n,r,a,i,o,u,s,c,l){var f,h,d,v,m,y,g,k,O,w,_,x,E,I,T,S,C,N;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s&&(s=!1),void 0===c&&(c=!1),v=function(e){var t,a=new Promise(function(e,n){return t=n});return d=function(){return t()},n.signal.addEventListener("abort",d),Promise.race([e({request:n,params:r.params,context:l}),a])},e.prev=3,m=r.route[t],!r.route.lazy){e.next=31;break}if(!m){e.next=13;break}return e.next=9,Promise.all([v(m),Oe(r.route,o,i)]);case 9:y=e.sent,h=y[0],e.next=29;break;case 13:return e.next=15,Oe(r.route,o,i);case 15:if(!(m=r.route[t])){e.next=22;break}return e.next=19,v(m);case 19:h=e.sent,e.next=29;break;case 22:if("action"!==t){e.next=28;break}throw g=new URL(n.url),k=g.pathname+g.search,Ae(405,{method:n.method,pathname:k,routeId:r.route.id});case 28:return e.abrupt("return",{type:b.data,data:void 0});case 29:e.next=40;break;case 31:if(m){e.next=37;break}throw O=new URL(n.url),Ae(404,{pathname:O.pathname+O.search});case 37:return e.next=39,v(m);case 39:h=e.sent;case 40:j(void 0!==h,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=47;break;case 43:e.prev=43,e.t0=e.catch(3),f=b.error,h=e.t0;case 47:return e.prev=47,d&&n.signal.removeEventListener("abort",d),e.finish(47);case 50:if(!Ue(h)){e.next=75;break}if(w=h.status,!ie.has(w)){e.next=60;break}if(j(_=h.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),le.test(_)?s||(x=new URL(n.url),E=_.startsWith("//")?new URL(x.protocol+_):new URL(_),I=null!=G(E.pathname,u),E.origin===x.origin&&I&&(_=E.pathname+E.search+E.hash)):_=ve(new URL(n.url),a.slice(0,a.indexOf(r)+1),u,!0,_),!s){e.next=59;break}throw h.headers.set("Location",_),h;case 59:return e.abrupt("return",{type:b.redirect,status:w,location:_,revalidate:null!==h.headers.get("X-Remix-Revalidate")});case 60:if(!c){e.next=62;break}throw{type:f||b.data,response:h};case 62:if(!(S=h.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(S)){e.next=69;break}return e.next=66,h.json();case 66:T=e.sent,e.next=72;break;case 69:return e.next=71,h.text();case 71:T=e.sent;case 72:if(f!==b.error){e.next=74;break}return e.abrupt("return",{type:f,error:new Z(w,h.statusText,T),headers:h.headers});case 74:return e.abrupt("return",{type:b.data,data:T,statusCode:h.status,headers:h.headers});case 75:if(f!==b.error){e.next=77;break}return e.abrupt("return",{type:f,error:h});case 77:if(!Fe(h)){e.next=79;break}return e.abrupt("return",{type:b.deferred,deferredData:h,statusCode:null==(C=h.init)?void 0:C.status,headers:(null==(N=h.init)?void 0:N.headers)&&new Headers(h.init.headers)});case 79:return e.abrupt("return",{type:b.data,data:h});case 80:case"end":return e.stop()}},e,null,[[3,43,47,50]])}))).apply(this,arguments)}function xe(e,t,n,r){var a=e.createURL(Pe(t)).toString(),i={signal:n};if(r&&ze(r.formMethod)){var o=r.formMethod,u=r.formEncType,s=r.formData;i.method=o.toUpperCase(),i.body="application/x-www-form-urlencoded"===u?Ee(s):s}return new Request(a,i)}function Ee(e){var t,n=new URLSearchParams,r=v(e.entries());try{for(r.s();!(t=r.n()).done;){var a=Object(f.a)(t.value,2),i=a[0],o=a[1];n.append(i,o instanceof File?o.name:o)}}catch(u){r.e(u)}finally{r.f()}return n}function Ie(e,t,n,r,a){var i,o={},u=null,s=!1,c={};return n.forEach(function(n,l){var f=t[l].route.id;if(j(!Me(n),"Cannot handle redirect results in processLoaderData"),Le(n)){var h=Ce(e,f),d=n.error;r&&(d=Object.values(r)[0],r=void 0),null==(u=u||{})[h.route.id]&&(u[h.route.id]=d),o[f]=void 0,s||(s=!0,i=ee(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else De(n)?(a.set(f,n.deferredData),o[f]=n.deferredData.data):o[f]=n.data,null==n.statusCode||200===n.statusCode||s||(i=n.statusCode),n.headers&&(c[f]=n.headers)}),r&&(u=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:u,statusCode:i||200,loaderHeaders:c}}function Te(e,t,n,r,a,o,u,s){for(var c=Ie(t,n,r,a,s),l=c.loaderData,f=c.errors,h=0;h<o.length;h++){var d=o[h],p=d.key,v=d.match,m=d.controller;j(void 0!==u&&void 0!==u[h],"Did not find corresponding fetcher result");var b=u[h];if(!m||!m.signal.aborted)if(Le(b)){var g=Ce(e.matches,null==v?void 0:v.route.id);f&&f[g.route.id]||(f=y({},f,Object(i.a)({},g.route.id,b.error))),e.fetchers.delete(p)}else if(Me(b))j(!1,"Unhandled fetcher revalidation redirect");else if(De(b))j(!1,"Unhandled fetcher deferred data");else{var k={state:"idle",data:b.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(p,k)}}return{loaderData:l,errors:f}}function Se(e,t,n,r){var a,i=y({},t),o=v(n);try{for(o.s();!(a=o.n()).done;){var u=a.value,s=u.route.id;if(t.hasOwnProperty(s)?void 0!==t[s]&&(i[s]=t[s]):void 0!==e[s]&&u.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}}catch(c){o.e(c)}finally{o.f()}return i}function Ce(e,t){return(t?e.slice(0,e.findIndex(function(e){return e.route.id===t})+1):Object(d.a)(e)).reverse().find(function(e){return!0===e.route.hasErrorBoundary})||e[0]}function Ne(e){var t=e.find(function(e){return e.index||!e.path||"/"===e.path})||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ae(e,t){var n=void 0===t?{}:t,r=n.pathname,a=n.routeId,i=n.method,o=n.type,u="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(u="Bad Request",i&&r&&a?s="You made a "+i+' request to "'+r+'" but did not provide a `loader` for route "'+a+'", so there is no way to handle the request.':"defer-action"===o&&(s="defer() is not supported in actions")):403===e?(u="Forbidden",s='Route "'+a+'" does not match URL "'+r+'"'):404===e?(u="Not Found",s='No route matches URL "'+r+'"'):405===e&&(u="Method Not Allowed",i&&r&&a?s="You made a "+i.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+a+'", so there is no way to handle the request.':i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new Z(e||500,u,new Error(s),!0)}function Re(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(Me(n))return n}}function Pe(e){return I(y({},"string"===typeof e?T(e):e,{hash:""}))}function De(e){return e.type===b.deferred}function Le(e){return e.type===b.error}function Me(e){return(e&&e.type)===b.redirect}function Fe(e){var t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}function Ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Ve(e){return ae.has(e.toLowerCase())}function ze(e){return ne.has(e.toLowerCase())}function Be(e,t,n,r,a,i){return qe.apply(this,arguments)}function qe(){return(qe=Object(a.a)(p().mark(function e(t,n,r,a,i,o){var u,s;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u=p().mark(function e(u){var s,c,l,f,h;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r[u],c=n[u]){e.next=4;break}return e.abrupt("return","continue");case 4:if(l=t.find(function(e){return e.route.id===c.route.id}),f=null!=l&&!ge(l,c)&&void 0!==(o&&o[c.route.id]),!De(s)||!i&&!f){e.next=11;break}return j(h=a[u],"Expected an AbortSignal for revalidating fetcher deferred result"),e.next=11,Ge(s,h,i).then(function(e){e&&(r[u]=e||r[u])});case 11:case"end":return e.stop()}},e)}),s=0;case 2:if(!(s<r.length)){e.next=10;break}return e.delegateYield(u(s),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:s++,e.next=2;break;case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ge(e,t,n){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(a.a)(p().mark(function e(t,n,r){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:b.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:b.error,error:e.t0});case 14:return e.abrupt("return",{type:b.data,data:t.deferredData.data});case 15:case"end":return e.stop()}},e,null,[[7,11]])}))).apply(this,arguments)}function He(e){return new URLSearchParams(e).getAll("index").some(function(e){return""===e})}function We(e,t){var n=e.route,r=e.pathname,a=e.params;return{id:n.id,pathname:r,params:a,data:t[n.id],handle:n.handle}}function Qe(e,t){var n="string"===typeof t?T(t).search:t.search;if(e[e.length-1].route.index&&He(n||""))return e[e.length-1];var r=H(e);return r[r.length-1]}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";t.a=function(e){return null==e}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return l});var r=n(71),a=function(e,t){return e&&t},i=function(e,t){return e&&!0!==e&&e+" "+t},o=function(e,t){return e&&(!0===e?t:e+" "+t)},u=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map(function(e){return e.replace("-"," ")+" "+t}).join(" "):null},s=function(e){return"justified"===e?"justified":i(e,"aligned")},c=function(e){return i(e,"aligned")},l=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var a=typeof e;return"string"!==a&&"number"!==a||!t?Object(r.a)(e):Object(r.a)(e)+" "+t}},function(e,t,n){"use strict";n.r(t);var r,a,i=n(23),o=n(2),u=n(4),s=n(1),c=n(3),l=n(28),f=n(32),h=n(6),d=n(87),p=function(e,t){return t.some(function(t){return e instanceof t})};var v=new WeakMap,m=new WeakMap,y=new WeakMap,b=new WeakMap,g=new WeakMap;var k={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return m.get(e);if("objectStoreNames"===t)return e.objectStoreNames||y.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return j(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function O(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_(this),n),j(v.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(e.apply(_(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=e.call.apply(e,[_(this),t].concat(r));return y.set(i,t.sort?t.sort():[t]),j(i)}}function w(e){return"function"===typeof e?O(e):(e instanceof IDBTransaction&&function(e){if(!m.has(e)){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=function(){t(),r()},i=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});m.set(e,t)}}(e),p(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,k):e)}function j(e){if(e instanceof IDBRequest)return function(e){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("success",a),e.removeEventListener("error",i)},a=function(){t(j(e.result)),r()},i=function(){n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)});return t.then(function(t){t instanceof IDBCursor&&v.set(t,e)}).catch(function(){}),g.set(t,e),t}(e);if(b.has(e))return b.get(e);var t=w(e);return t!==e&&(b.set(e,t),g.set(t,e)),t}var _=function(e){return g.get(e)};function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),u=new E(a||[]);return r(o,"_invoke",{value:O(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,i,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(I([])));y&&y!==t&&n.call(y,i)&&(v=y);var b=p.prototype=h.prototype=Object.create(v);function g(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t(function(a,o){!function r(a,i,o,u){var s=l(e[a],e,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,i,a,o)})}return a=a?a.then(o,o):o()}})}function O(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=l(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(k.prototype),s(k.prototype,o,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new k(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(b),s(b,u,"Generator"),s(b,i,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var E,I,T=["get","getKey","getAll","getAllKeys","count"],S=["put","add","delete","clear"],C=new Map;function N(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(C.get(t))return C.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,a=S.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(a||T.includes(n))){var i=function(){var e=Object(o.a)(x().mark(function e(t){var i,o,u,s,c,l,f=arguments;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,a?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(i=u)[n].apply(i,c),a&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return C.set(t,i),i}}}function A(){A=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),u=new x(a||[]);return r(o,"_invoke",{value:O(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,i,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,i)&&(v=y);var b=p.prototype=h.prototype=Object.create(v);function g(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t(function(a,o){!function r(a,i,o,u){var s=l(e[a],e,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,i,a,o)})}return a=a?a.then(o,o):o()}})}function O(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return I()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=l(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(k.prototype),s(k.prototype,o,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new k(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(b),s(b,u,"Generator"),s(b,i,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function R(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}k=function(e){return Object(d.a)({},e,{get:function(t,n,r){return N(t,n)||e.get(t,n,r)},has:function(t,n){return!!N(t,n)||e.has(t,n)}})}(k),n.d(t,"SDK_VERSION",function(){return X}),n.d(t,"_DEFAULT_ENTRY_NAME",function(){return U}),n.d(t,"_addComponent",function(){return q}),n.d(t,"_addOrOverwriteComponent",function(){return G}),n.d(t,"_apps",function(){return z}),n.d(t,"_clearComponents",function(){return Q}),n.d(t,"_components",function(){return B}),n.d(t,"_getProvider",function(){return H}),n.d(t,"_registerComponent",function(){return K}),n.d(t,"_removeServiceInstance",function(){return W}),n.d(t,"deleteApp",function(){return ne}),n.d(t,"getApp",function(){return ee}),n.d(t,"getApps",function(){return te}),n.d(t,"initializeApp",function(){return Z}),n.d(t,"onLog",function(){return ie}),n.d(t,"registerVersion",function(){return ae}),n.d(t,"setLogLevel",function(){return oe}),n.d(t,"FirebaseError",function(){return h.c});var D=function(){function e(t){Object(s.a)(this,e),this.container=t}return Object(c.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(function(e){return e}).join(" ")}}]),e}();var L="@firebase/app",M="0.9.8",F=new f.b("@firebase/app"),U="[DEFAULT]",V=(E={},Object(u.a)(E,L,"fire-core"),Object(u.a)(E,"@firebase/app-compat","fire-core-compat"),Object(u.a)(E,"@firebase/analytics","fire-analytics"),Object(u.a)(E,"@firebase/analytics-compat","fire-analytics-compat"),Object(u.a)(E,"@firebase/app-check","fire-app-check"),Object(u.a)(E,"@firebase/app-check-compat","fire-app-check-compat"),Object(u.a)(E,"@firebase/auth","fire-auth"),Object(u.a)(E,"@firebase/auth-compat","fire-auth-compat"),Object(u.a)(E,"@firebase/database","fire-rtdb"),Object(u.a)(E,"@firebase/database-compat","fire-rtdb-compat"),Object(u.a)(E,"@firebase/functions","fire-fn"),Object(u.a)(E,"@firebase/functions-compat","fire-fn-compat"),Object(u.a)(E,"@firebase/installations","fire-iid"),Object(u.a)(E,"@firebase/installations-compat","fire-iid-compat"),Object(u.a)(E,"@firebase/messaging","fire-fcm"),Object(u.a)(E,"@firebase/messaging-compat","fire-fcm-compat"),Object(u.a)(E,"@firebase/performance","fire-perf"),Object(u.a)(E,"@firebase/performance-compat","fire-perf-compat"),Object(u.a)(E,"@firebase/remote-config","fire-rc"),Object(u.a)(E,"@firebase/remote-config-compat","fire-rc-compat"),Object(u.a)(E,"@firebase/storage","fire-gcs"),Object(u.a)(E,"@firebase/storage-compat","fire-gcs-compat"),Object(u.a)(E,"@firebase/firestore","fire-fst"),Object(u.a)(E,"@firebase/firestore-compat","fire-fst-compat"),Object(u.a)(E,"fire-js","fire-js"),Object(u.a)(E,"firebase","fire-js-all"),E),z=new Map,B=new Map;function q(e,t){try{e.container.addComponent(t)}catch(n){F.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function G(e,t){e.container.addOrOverwriteComponent(t)}function K(e){var t=e.name;if(B.has(t))return F.debug("There were multiple attempts to register component ".concat(t,".")),!1;B.set(t,e);var n,r=R(z.values());try{for(r.s();!(n=r.n()).done;){q(n.value,e)}}catch(a){r.e(a)}finally{r.f()}return!0}function H(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;H(e,t).clearInstance(n)}function Q(){B.clear()}var Y=(I={},Object(u.a)(I,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(u.a)(I,"bad-app-name","Illegal App name: '{$appName}"),Object(u.a)(I,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(u.a)(I,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(u.a)(I,"no-options","Need to provide options, when not being deployed to hosting via source."),Object(u.a)(I,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(u.a)(I,"invalid-log-argument","First argument to `onLog` must be null or a function."),Object(u.a)(I,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(I,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(I,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Object(u.a)(I,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),I),$=new h.b("app","Firebase",Y),J=function(){function e(t,n,r){var a=this;Object(s.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new l.a("app",function(){return a},"PUBLIC"))}return Object(c.a)(e,[{key:"checkDestroyed",value:function(){if(this.isDeleted)throw $.create("app-deleted",{appName:this._name})}},{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}}]),e}(),X="9.20.0";function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:U,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw $.create("bad-app-name",{appName:String(a)});if(n||(n=Object(h.l)()),!n)throw $.create("no-options");var i=z.get(a);if(i){if(Object(h.i)(n,i.options)&&Object(h.i)(r,i.config))return i;throw $.create("duplicate-app",{appName:a})}var o,u=new l.b(a),s=R(B.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(d){s.e(d)}finally{s.f()}var f=new J(n,r,u);return z.set(a,f),f}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=z.get(e);if(!t&&e===U)return Z();if(!t)throw $.create("no-app",{appName:e});return t}function te(){return Array.from(z.values())}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(o.a)(A().mark(function e(t){var n;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!z.has(n)){e.next=6;break}return z.delete(n),e.next=5,Promise.all(t.container.getProviders().map(function(e){return e.delete()}));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e,t,n){var r,a=null!==(r=V[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));var i=a.match(/\s|\//),o=t.match(/\s|\//);if(i||o){var u=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&u.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void F.warn(u.join(" "))}K(new l.a("".concat(a,"-version"),function(){return{library:a,version:t}},"VERSION"))}function ie(e,t){if(null!==e&&"function"!==typeof e)throw $.create("invalid-log-argument");Object(f.d)(e,t)}function oe(e){Object(f.c)(e)}var ue="firebase-heartbeat-database",se=1,ce="firebase-heartbeat-store",le=null;function fe(){return le||(le=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,a=n.upgrade,i=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=j(u);return a&&u.addEventListener("upgradeneeded",function(e){a(j(u.result),e.oldVersion,e.newVersion,j(u.transaction))}),r&&u.addEventListener("blocked",function(){return r()}),s.then(function(e){o&&e.addEventListener("close",function(){return o()}),i&&e.addEventListener("versionchange",function(){return i()})}).catch(function(){}),s}(ue,se,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(ce)}}}).catch(function(e){throw $.create("idb-open",{originalErrorMessage:e.message})})),le}function he(e){return de.apply(this,arguments)}function de(){return(de=Object(o.a)(A().mark(function e(t){var n,r;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe();case 3:return n=e.sent,e.abrupt("return",n.transaction(ce).objectStore(ce).get(me(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof h.c?F.warn(e.t0.message):(r=$.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),F.warn(r.message));case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function pe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(o.a)(A().mark(function e(t,n){var r,a,i,o;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe();case 3:return r=e.sent,a=r.transaction(ce,"readwrite"),i=a.objectStore(ce),e.next=8,i.put(n,me(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof h.c?F.warn(e.t0.message):(o=$.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),F.warn(o.message));case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function me(e){return"".concat(e.name,"!").concat(e.options.appId)}var ye=1024,be=function(){function e(t){var n=this;Object(s.a)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new we(r),this._heartbeatsCachePromise=this._storage.read().then(function(e){return n._heartbeatsCache=e,e})}return Object(c.a)(e,[{key:"triggerHeartbeat",value:function(){var e=Object(o.a)(A().mark(function e(){var t,n,r;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ge(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some(function(e){return e.date===r})){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Object(o.a)(A().mark(function e(){var t,n,r,a,i;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ge(),n=ke(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,a=n.unsentEntries,i=Object(h.e)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function ge(){return(new Date).toISOString().substring(0,10)}function ke(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye,r=[],a=e.slice(),i=R(e);try{var o=function(){var e=t.value,i=r.find(function(t){return t.agent===e.agent});if(i){if(i.dates.push(e.date),je(r)>n)return i.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),je(r)>n)return r.pop(),"break";a=a.slice(1)};for(i.s();!(t=i.n()).done;){if("break"===o())break}}catch(u){i.e(u)}finally{i.f()}return{heartbeatsToSend:r,unsentEntries:a}}var Oe,we=function(){function e(t){Object(s.a)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Object(c.a)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Object(o.a)(A().mark(function e(){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(h.v)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Object(h.C)().then(function(){return!0}).catch(function(){return!1}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(o.a)(A().mark(function e(){var t;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,he(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Object(o.a)(A().mark(function e(t){var n,r;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pe(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(o.a)(A().mark(function e(t){var n,r;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pe(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Object(i.a)(r.heartbeats),Object(i.a)(t.heartbeats))}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();function je(e){return Object(h.e)(JSON.stringify({version:2,heartbeats:e})).length}Oe="",K(new l.a("platform-logger",function(e){return new D(e)},"PRIVATE")),K(new l.a("heartbeat",function(e){return new be(e)},"PRIVATE")),ae(L,M,Oe),ae(L,M,"esm2017"),ae("fire-js","")},function(e,t,n){"use strict";var r=n(86);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";var r=Array.isArray;t.a=r},function(e,t,n){"use strict";for(var r=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},a={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},i=0;i<24;i+=1)a[112+i]="F"+(i+1);for(var o=0;o<26;o+=1){var u=o+65;a[u]=[String.fromCharCode(u+32),String.fromCharCode(u)]}var s={codes:a,getCode:function(e){return r(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var t=r(e);if(t&&e.key)return e.key;var n=a[t?e.keyCode||e.which:e];return Array.isArray(n)&&(n=t?n[e.shiftKey?1:0]:n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};s.Spacebar=s[" "],s.Digit0=s[0],s.Digit1=s[1],s.Digit2=s[2],s.Digit3=s[3],s.Digit4=s[4],s.Digit5=s[5],s.Digit6=s[6],s.Digit7=s[7],s.Digit8=s[8],s.Digit9=s[9],s.Tilde=s["~"],s.GraveAccent=s["`"],s.ExclamationPoint=s["!"],s.AtSign=s["@"],s.PoundSign=s["#"],s.PercentSign=s["%"],s.Caret=s["^"],s.Ampersand=s["&"],s.PlusSign=s["+"],s.MinusSign=s["-"],s.EqualsSign=s["="],s.DivisionSign=s["/"],s.MultiplicationSign=s["*"],s.Comma=s[","],s.Decimal=s["."],s.Colon=s[":"],s.Semicolon=s[";"],s.Pipe=s["|"],s.BackSlash=s["\\"],s.QuestionMark=s["?"],s.SingleQuote=s["'"],s.DoubleQuote=s['"'],s.LeftCurlyBrace=s["{"],s.RightCurlyBrace=s["}"],s.LeftParenthesis=s["("],s.RightParenthesis=s[")"],s.LeftAngleBracket=s["<"],s.RightAngleBracket=s[">"],s.LeftSquareBracket=s["["],s.RightSquareBracket=s["]"],e.exports=s},function(e,t,n){"use strict";var r=n(89),a="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||a||Function("return this")();t.a=i},function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return v});var r=n(23),a=n(2),i=n(17),o=n(1),u=n(3),s=n(6);function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),u=new E(a||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};s(m,i,function(){return this});var y=Object.getPrototypeOf,b=y&&y(y(I([])));b&&b!==t&&n.call(b,i)&&(m=b);var g=v.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t(function(a,o){!function r(a,i,o,u){var s=f(e[a],e,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(l).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,i,a,o)})}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=j(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,r(g,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(O.prototype),s(O.prototype,o,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new O(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(g),s(g,u,"Generator"),s(g,i,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){function e(t,n,r){Object(o.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(u.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),d="[DEFAULT]",p=function(){function e(t,n){Object(o.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(u.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new s.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(a){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:d})}catch(c){}var t,n=l(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(i.a)(t.value,2),a=r[0],o=r[1],u=this.normalizeInstanceIdentifier(a);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(a.a)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(r.a)(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()})),Object(r.a)(t.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=l(this.instancesDeferred.entries());try{for(u.s();!(a=u.n()).done;){var s=Object(i.a)(a.value,2),c=s[0],f=s[1];r===this.normalizeInstanceIdentifier(c)&&f.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);var i=this.instances.get(r);return i&&e(i,r),function(){a.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,a=l(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;try{i(e,t)}catch(o){}}}catch(u){a.e(u)}finally{a.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,a=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===d?void 0:t),options:a}),this.instances.set(n,i),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(o){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?e:d:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var v=function(){function e(t){Object(o.a)(this,e),this.name=t,this.providers=new Map}return Object(u.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new p(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";var r=n(58),a=n(39),i=n(43),o=n(34);var u=function(e,t){var n=-1,r=Object(o.a)(e)?Array(e.length):[];return Object(i.a)(e,function(e,a,i){r[++n]=t(e,a,i)}),r},s=n(24);t.a=function(e,t){return(Object(s.a)(e)?r.a:u)(e,Object(a.a)(t,3))}},function(e,t,n){"use strict";var r=n(59);t.a=function(e,t,n){var a=null==e?void 0:Object(r.a)(e,t);return void 0===a?n:a}},function(e,t,n){"use strict";var r=n(37),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,u=r.a?r.a.toStringTag:void 0;var s=function(e){var t=i.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var a=o.call(e);return r&&(t?e[u]=n:delete e[u]),a},c=Object.prototype.toString;var l=function(e){return c.call(e)},f="[object Null]",h="[object Undefined]",d=r.a?r.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?h:f:d&&d in Object(e)?s(e):l(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return y});var r,a=n(1),i=n(3),o=n(4);function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,l=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(c||(c={}));var f={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},h=c.INFO,d=(r={},Object(o.a)(r,c.DEBUG,"log"),Object(o.a)(r,c.VERBOSE,"log"),Object(o.a)(r,c.INFO,"info"),Object(o.a)(r,c.WARN,"warn"),Object(o.a)(r,c.ERROR,"error"),r),p=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=d[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a,i=arguments.length,o=new Array(i>2?i-2:0),u=2;u<i;u++)o[u-2]=arguments[u];(a=console)[r].apply(a,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},v=function(){function e(t){Object(a.a)(this,e),this.name=t,this._logLevel=h,this._logHandler=p,this._userLogHandler=null,l.push(this)}return Object(i.a)(e,[{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?f[e]:e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.DEBUG].concat(t)),this._logHandler.apply(this,[this,c.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.VERBOSE].concat(t)),this._logHandler.apply(this,[this,c.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.INFO].concat(t)),this._logHandler.apply(this,[this,c.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.WARN].concat(t)),this._logHandler.apply(this,[this,c.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.ERROR].concat(t)),this._logHandler.apply(this,[this,c.ERROR].concat(t))}},{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in c))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}}]),e}();function m(e){l.forEach(function(t){t.setLogLevel(e)})}function y(e,t){var n,r=u(l);try{var a=function(){var r=n.value,a=null;t&&t.level&&(a=f[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var u=i.map(function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!==a&&void 0!==a?a:t.logLevel)&&e({level:c[n].toLowerCase(),message:u,args:i,type:t.name})}};for(r.s();!(n=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}}},function(e,t,n){"use strict";var r=n(9);function a(e,t,n){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";var r=n(48),a=n(76);t.a=function(e){return null!=e&&Object(a.a)(e.length)&&!Object(r.a)(e)}},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});n(23);var r=n(17),a=n(0),i=n(12),o=n(18);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var c=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function l(e){var t=e.basename,n=e.children,u=e.window,s=a.useRef();null==s.current&&(s.current=Object(o.f)({window:u,v5Compat:!0}));var c=s.current,l=a.useState({action:c.action,location:c.location}),f=Object(r.a)(l,2),h=f[0],d=f[1];return a.useLayoutEffect(function(){return c.listen(d)},[c]),a.createElement(i.b,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}var f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,h=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d=a.forwardRef(function(e,t){var n,r=e.onClick,l=e.relative,d=e.reloadDocument,p=e.replace,v=e.state,m=e.target,y=e.to,b=e.preventScrollReset,g=s(e,c),k=a.useContext(i.f).basename,O=!1;if("string"===typeof y&&h.test(y)&&(n=y,f))try{var w=new URL(window.location.href),j=y.startsWith("//")?new URL(w.protocol+y):new URL(y),_=Object(o.q)(j.pathname,k);j.origin===w.origin&&null!=_?y=_+j.search+j.hash:O=!0}catch(I){}var x=Object(i.k)(y,{relative:l}),E=function(e,t){var n=void 0===t?{}:t,r=n.target,u=n.replace,s=n.state,c=n.preventScrollReset,l=n.relative,f=Object(i.n)(),h=Object(i.l)(),d=Object(i.q)(e,{relative:l});return a.useCallback(function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==u?u:Object(o.i)(h)===Object(o.i)(d);f(e,{replace:n,state:s,preventScrollReset:c,relative:l})}},[h,f,d,u,s,r,e,c,l])}(y,{replace:p,state:v,target:m,preventScrollReset:b,relative:l});return a.createElement("a",u({},g,{href:n||x,onClick:O||d?r:function(e){r&&r(e),e.defaultPrevented||E(e)},ref:t,target:m}))});var p,v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(p||(p={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(v||(v={}))},function(e,t,n){"use strict";var r=n(26).a.Symbol;t.a=r},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(135),a=n(116),i=1,o=2;var u=function(e,t,n,u){var s=n.length,c=s,l=!u;if(null==e)return!c;for(e=Object(e);s--;){var f=n[s];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++s<c;){var h=(f=n[s])[0],d=e[h],p=f[1];if(l&&f[2]){if(void 0===d&&!(h in e))return!1}else{var v=new r.a;if(u)var m=u(d,p,h,e,t,v);if(!(void 0===m?Object(a.a)(p,d,i|o,u,v):m))return!1}}return!0},s=n(35);var c=function(e){return e===e&&!Object(s.a)(e)},l=n(44);var f=function(e){for(var t=Object(l.a)(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,c(a)]}return t};var h=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}};var d=function(e){var t=f(e);return 1==t.length&&t[0][2]?h(t[0][0],t[0][1]):function(n){return n===e||u(n,e,t)}},p=n(30),v=n(142),m=n(74),y=n(42),b=1,g=2;var k=function(e,t){return Object(m.a)(e)&&c(t)?h(Object(y.a)(e),t):function(n){var r=Object(p.a)(n,e);return void 0===r&&r===t?Object(v.a)(n,e):Object(a.a)(t,r,b|g)}},O=n(50),w=n(24),j=n(97),_=n(59);var x=function(e){return function(t){return Object(_.a)(t,e)}};var E=function(e){return Object(m.a)(e)?Object(j.a)(Object(y.a)(e)):x(e)};t.a=function(e){return"function"==typeof e?e:null==e?O.a:"object"==typeof e?Object(w.a)(e)?k(e[0],e[1]):d(e):E(e)}},function(e,t,n){"use strict";var r=n(48),a=n(26).a["__core-js_shared__"],i=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var o=function(e){return!!i&&i in e},u=n(35),s=n(54),c=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,h=l.toString,d=f.hasOwnProperty,p=RegExp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var v=function(e){return!(!Object(u.a)(e)||o(e))&&(Object(r.a)(e)?p:c).test(Object(s.a)(e))};var m=function(e,t){return null==e?void 0:e[t]};t.a=function(e,t){var n=m(e,t);return v(n)?n:void 0}},function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r,a=n(4),i=n(1),o=n(3),u=n(6),s=n(28),c=n(22),l=n(32),f=function(){function e(t,n){var r=this;Object(i.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new s.a("app-compat",function(){return r},"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"delete",value:function(){var e=this;return new Promise(function(t){e._delegate.checkDestroyed(),t()}).then(function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)})}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}},{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}}]),e}(),h=(r={},Object(a.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(a.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.b("app-compat","Firebase",h);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=c.initializeApp(r,a);if(Object(u.f)(t,i.name))return t[i.name];var o=new e(i,n);return t[i.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var a=t.name,i=a.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[i])throw d.create("invalid-app-argument",{appName:a});return e[i]()};void 0!==t.serviceProps&&Object(u.j)(o,t.serviceProps),n[i]=o,e.prototype[i]=function(){for(var e=this._getService.bind(this,a),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[i]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(u.f)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(u.j)(t,e)},createSubscribe:u.h,ErrorFactory:u.b,deepExtend:u.j}),t}(),v=new l.b("@firebase/app-compat"),m="@firebase/app-compat",y="0.2.8";if(Object(u.r)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g,k=p;Object(c.registerVersion)(m,y,g)},function(e,t,n){"use strict";var r=n(56),a=1/0;t.a=function(e){if("string"==typeof e||Object(r.a)(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},function(e,t,n){"use strict";var r=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++a];if(!1===n(i[s],s,i))break}return t}}(),a=n(44);var i=function(e,t){return e&&r(e,t,a.a)},o=n(34);var u=function(e,t){return function(n,r){if(null==n)return n;if(!Object(o.a)(n))return e(n,r);for(var a=n.length,i=t?a:-1,u=Object(n);(t?i--:++i<a)&&!1!==r(u[i],i,u););return n}}(i);t.a=u},function(e,t,n){"use strict";var r=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},a=n(110),i=n(24),o=n(66),u=n(51),s=n(123),c=Object.prototype.hasOwnProperty;var l=function(e,t){var n=Object(i.a)(e),l=!n&&Object(a.a)(e),f=!n&&!l&&Object(o.a)(e),h=!n&&!l&&!f&&Object(s.a)(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||Object(u.a)(m,v))||p.push(m);return p},f=n(121),h=n(34);t.a=function(e){return Object(h.a)(e)?l(e):Object(f.a)(e)}},function(e,t,n){"use strict";var r=n(106),a=n(149),i=n(43),o=n(50);var u=function(e){return"function"==typeof e?e:o.a},s=n(24);var c=function(e,t){return(Object(s.a)(e)?a.a:i.a)(e,u(t))};n.d(t,"b",function(){return l}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return d});var l=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],f=[].concat(l,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),h=["alt","height","src","srcSet","width","loading"],d=function(e,t){void 0===t&&(t={});var n=t,a=n.htmlProps,i=void 0===a?f:a,o=n.includeAria,u=void 0===o||o,s={},l={};return c(e,function(e,t){var n=u&&(/^aria-.*$/.test(t)||"role"===t);(Object(r.a)(i,t)||n?s:l)[t]=e}),[s,l]}},function(e,t,n){"use strict";var r;r=n(182),e.exports=r.default,e.exports.instance=r.instance},function(e,t,n){"use strict";var r=n(150),a=n(49),i=n(67),o=Object(a.a)(function(e,t){return Object(i.a)(e)?Object(r.a)(e,t):[]});t.a=o},function(e,t,n){"use strict";var r=n(31),a=n(35),i="[object AsyncFunction]",o="[object Function]",u="[object GeneratorFunction]",s="[object Proxy]";t.a=function(e){if(!Object(a.a)(e))return!1;var t=Object(r.a)(e);return t==o||t==u||t==i||t==s}},function(e,t,n){"use strict";var r=n(50),a=n(90),i=n(117);t.a=function(e,t){return Object(i.a)(Object(a.a)(e,t,r.a),e+"")}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";var r=9007199254740991,a=/^(?:0|[1-9]\d*)$/;t.a=function(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&a.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";var r=n(126);t.a=function(e){var t=Object(r.a)(e),n=t%1;return t===t?n?t-n:t:0}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=Function.prototype.toString;t.a=function(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){"use strict";t.a=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){"use strict";var r=n(31),a=n(27),i="[object Symbol]";t.a=function(e){return"symbol"==typeof e||Object(a.a)(e)&&Object(r.a)(e)==i}},function(e,t,n){"use strict";t.a=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},function(e,t,n){"use strict";var r=n(105),a=n(42);t.a=function(e,t){for(var n=0,i=(t=Object(r.a)(t,e)).length;null!=e&&n<i;)e=e[Object(a.a)(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){"use strict";t.a=function(e){return void 0===e}},function(e,t,n){"use strict";var r=n(40),a=n(26),i=Object(r.a)(a.a,"Map");t.a=i},function(e,t,n){"use strict";var r=n(121),a=n(113),i=n(110),o=n(24),u=n(34),s=n(66),c=n(92),l=n(123),f="[object Map]",h="[object Set]",d=Object.prototype.hasOwnProperty;t.a=function(e){if(null==e)return!0;if(Object(u.a)(e)&&(Object(o.a)(e)||"string"==typeof e||"function"==typeof e.splice||Object(s.a)(e)||Object(l.a)(e)||Object(i.a)(e)))return!e.length;var t=Object(a.a)(e);if(t==f||t==h)return!e.size;if(Object(c.a)(e))return!Object(r.a)(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var r=n(40),a=n(26),i=Object(r.a)(a.a,"Set");t.a=i},function(e,t){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<i.length;s++){var c=i[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(a=n?n.call(r,l,f,c):void 0)||void 0===a&&l!==f)return!1}return!0}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(173)},function(e,t,n){"use strict";(function(e){var r=n(26),a=n(157),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=o&&o.exports===i?r.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||a.a;t.a=s}).call(this,n(101)(e))},function(e,t,n){"use strict";var r=n(34),a=n(27);t.a=function(e){return Object(a.a)(e)&&Object(r.a)(e)}},function(e,t,n){"use strict";var r=n(40),a=Object(r.a)(Object,"create");var i=function(){this.__data__=a?a(null):{},this.size=0};var o=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},u="__lodash_hash_undefined__",s=Object.prototype.hasOwnProperty;var c=function(e){var t=this.__data__;if(a){var n=t[e];return n===u?void 0:n}return s.call(t,e)?t[e]:void 0},l=Object.prototype.hasOwnProperty;var f=function(e){var t=this.__data__;return a?void 0!==t[e]:l.call(t,e)},h="__lodash_hash_undefined__";var d=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a&&void 0===t?h:t,this};function p(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}p.prototype.clear=i,p.prototype.delete=o,p.prototype.get=c,p.prototype.has=f,p.prototype.set=d;var v=p,m=n(109),y=n(61);var b=function(){this.size=0,this.__data__={hash:new v,map:new(y.a||m.a),string:new v}};var g=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var k=function(e,t){var n=e.__data__;return g(t)?n["string"==typeof t?"string":"hash"]:n.map};var O=function(e){var t=k(this,e).delete(e);return this.size-=t?1:0,t};var w=function(e){return k(this,e).get(e)};var j=function(e){return k(this,e).has(e)};var _=function(e,t){var n=k(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function x(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}x.prototype.clear=b,x.prototype.delete=O,x.prototype.get=w,x.prototype.has=j,x.prototype.set=_;t.a=x},function(e,t,n){"use strict";var r=n(40),a=n(26),i=Object(r.a)(a.a,"WeakMap");t.a=i},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function a(e){var t=typeof e;return"string"===t||"number"===t?r[e]||e:""}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(72);function a(e,t,n){return(a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return n&&Object(r.a)(i,n.prototype),i}).apply(null,arguments)}},function(e,t,n){"use strict";var r=n(24),a=n(56),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.a=function(e,t){if(Object(r.a)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Object(a.a)(e))||o.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){"use strict";t.a=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}},function(e,t,n){"use strict";var r=9007199254740991;t.a=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,n){"use strict";t.a=function(e,t){return e.has(t)}},function(e,t,n){"use strict";t.a=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){"use strict";var r=n(31),a=n(24),i=n(27),o="[object String]";t.a=function(e){return"string"==typeof e||!Object(a.a)(e)&&Object(i.a)(e)&&Object(r.a)(e)==o}},function(e,t,n){"use strict";var r=n(139);t.a=function(e,t){return!(null==e||!e.length)&&Object(r.a)(e,t,0)>-1}},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){"use strict";var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.a=function(e){return r.test(e)}},function(e,t,n){"use strict";var r=n(40),a=function(){try{var e=Object(r.a)(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();t.a=a},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(4);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){"use strict";var r=800,a=16,i=Date.now;t.a=function(e){var t=0,n=0;return function(){var o=i(),u=a-(o-n);if(n=o,u>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(70))},function(e,t,n){"use strict";var r=n(55),a=Math.max;t.a=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,u=a(i.length-t,0),s=Array(u);++o<u;)s[o]=i[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=i[o];return c[t]=n(s),Object(r.a)(e,this,c)}}},function(e,t,n){"use strict";t.a=function(e){return function(t){return e(t)}}},function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},function(e,t,n){"use strict";t.a=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(41);n.d(t,"a",function(){return r.a});r.a.registerVersion("firebase","9.20.0","app-compat")},function(e,t,n){"use strict";(function(e){var r=n(89),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.a.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();t.a=u}).call(this,n(101)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";t.a=function(e,t,n){var r=e.defaultProps,a=void 0===r?{}:r;if(t.as&&t.as!==a.as)return t.as;if(n){var i=n();if(i)return i}return t.href?"a":a.as||"div"}},function(e,t,n){"use strict";t.a=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce(function(e,n){return"childKey"===n?e:(-1===r.indexOf(n)&&(e[n]=t[n]),e)},{})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return ur}),n.d(t,"b",function(){return cr}),n.d(t,"c",function(){return sr}),n.d(t,"d",function(){return fr}),n.d(t,"e",function(){return lr}),n.d(t,"f",function(){return hr}),n.d(t,"g",function(){return dr}),n.d(t,"h",function(){return ir}),n.d(t,"i",function(){return or});var r=n(17),a=n(14),i=n(33),o=n(9),u=n(10),s=n(1),c=n(3);function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h,d="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},p={},v=v||{},m=d||self;function y(){}function b(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var k="closure_uid_"+(1e9*Math.random()>>>0),O=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function j(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:j).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function E(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function I(){this.s=this.s,this.o=this.o}I.prototype.s=!1,I.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,k)&&e[k]||(e[k]=++O))},I.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function S(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function C(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(b(r)){var a=e.length||0,i=r.length||0;e.length=a+i;for(var o=0;o<i;o++)e[a+o]=r[o]}else e.push(r)}}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{m.addEventListener("test",y,t),m.removeEventListener("test",y,t)}catch(n){}return e}();function R(e){return/^[\s\xa0]*$/.test(e)}var P=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return e<t?-1:e>t?1:0}function L(){var e=m.navigator;return e&&(e=e.userAgent)?e:""}function M(e){return-1!=L().indexOf(e)}function F(e){return F[" "](e),e}F[" "]=y;var U,V=M("Opera"),z=M("Trident")||M("MSIE"),B=M("Edge"),q=B||z,G=M("Gecko")&&!(-1!=L().toLowerCase().indexOf("webkit")&&!M("Edge"))&&!(M("Trident")||M("MSIE"))&&!M("Edge"),K=-1!=L().toLowerCase().indexOf("webkit")&&!M("Edge");function H(){var e=m.document;return e?e.documentMode:void 0}e:{var W="",Q=function(){var e=L();return G?/rv:([^\);]+)(\)|;)/.exec(e):B?/Edge\/([\d\.]+)/.exec(e):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):K?/WebKit\/(\S+)/.exec(e):V?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Q&&(W=Q?Q[1]:""),z){var Y=H();if(null!=Y&&Y>parseFloat(W)){U=String(Y);break e}}U=W}var $,J={};function X(){return function(e){var t=J;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){for(var e=0,t=P(String(U)).split("."),n=P("9").split("."),r=Math.max(t.length,n.length),a=0;0==e&&a<r;a++){var i=t[a]||"",o=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=D(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||D(0==i[2].length,0==o[2].length)||D(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e})}if(m.document&&z){var Z=H();$=Z||(parseInt(U,10)||void 0)}else $=void 0;var ee=$;function te(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(G){e:{try{F(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.X.h.call(this)}}E(te,N);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ae=0;function ie(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++ae,this.ba=this.ea=!1}function oe(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ue(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function se(e){var t={};for(var n in e)t[n]=e[n];return t}var ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(e,t){for(var n,r,a=1;a<arguments.length;a++){for(n in r=arguments[a])e[n]=r[n];for(var i=0;i<ce.length;i++)n=ce[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fe(e){this.src=e,this.g={},this.h=0}function he(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=T(a,t);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(oe(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function de(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.ba&&i.listener==t&&i.capture==!!n&&i.ha==r)return a}return-1}fe.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=de(e,t,r,a);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ie(t,this.src,i,!!r,a)).ea=n,e.push(t)),t};var pe="closure_lm_"+(1e6*Math.random()|0),ve={};function me(e,t,n,r,a){if(r&&r.once)return function e(t,n,r,a,i){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,a,i);return null}r=je(r);return t&&t[re]?t.O(n,r,g(a)?!!a.capture:!!a,i):ye(t,n,r,!0,a,i)}(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)me(e,t[i],n,r,a);return null}return n=je(n),e&&e[re]?e.N(t,n,g(r)?!!r.capture:!!r,a):ye(e,t,n,!1,r,a)}function ye(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var o=g(a)?!!a.capture:!!a,u=Oe(e);if(u||(e[pe]=u=new fe(e)),(n=u.add(t,n,r,o,i)).proxy)return n;if(r=function(){var e=ke;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)A||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(ge(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function be(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[re])he(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ge(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Oe(t))?(he(n,e),0==n.h&&(n.src=null,t[pe]=null)):oe(e)}}}function ge(e){return e in ve?ve[e]:ve[e]="on"+e}function ke(e,t){if(e.ba)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&be(e),e=n.call(r,t)}return e}function Oe(e){return(e=e[pe])instanceof fe?e:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(e){return"function"===typeof e?e:(e[we]||(e[we]=function(t){return e.handleEvent(t)}),e[we])}function _e(){I.call(this),this.i=new fe(this),this.P=this,this.I=null}function xe(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var a=t;le(t=new N(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];a=Ee(o,r,!0,t)&&a}if(a=Ee(o=t.g=e,r,!0,t)&&a,a=Ee(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=Ee(o=t.g=n[i],r,!1,t)&&a}function Ee(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&he(e.i,o),a=!1!==u.call(s,r)&&a}}return a&&!r.defaultPrevented}E(_e,I),_e.prototype[re]=!0,_e.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,a,i){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,a,i);else a=g(a)?!!a.capture:!!a,r=je(r),t&&t[re]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=de(o=t.g[n],r,a,i))&&(oe(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--))):t&&(t=Oe(t))&&(n=t.g[n.toString()],t=-1,n&&(t=de(n,r,a,i)),(r=-1<t?n[t]:null)&&be(r))}(this,e,t,n,r)},_e.prototype.M=function(){if(_e.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oe(n[r]);delete t.g[e],t.h--}}this.I=null},_e.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_e.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ie=m.JSON.stringify;function Te(){var e=Le,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Se,Ce=function(){function e(){Object(s.a)(this,e),this.h=this.g=null}return Object(c.a)(e,[{key:"add",value:function(e,t){var n=Ne.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ne=new(function(){function e(t,n){Object(s.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(c.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())(function(){return new Ae},function(e){return e.reset()}),Ae=function(){function e(){Object(s.a)(this,e),this.next=this.g=this.h=null}return Object(c.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Re(e){m.setTimeout(function(){throw e},0)}function Pe(e,t){Se||function(){var e=m.Promise.resolve(void 0);Se=function(){e.then(Me)}}(),De||(Se(),De=!0),Le.add(e,t)}var De=!1,Le=new Ce;function Me(){for(var e;e=Te();){try{e.h.call(e.g)}catch(n){Re(n)}var t=Ne;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}De=!1}function Fe(e,t){_e.call(this),this.h=e||1,this.g=t||m,this.j=_(this.lb,this),this.l=Date.now()}function Ue(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ve(e,t,n){if("function"===typeof e)n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:m.setTimeout(e,t||0)}E(Fe,_e),(h=Fe.prototype).ca=!1,h.R=null,h.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),xe(this,"tick"),this.ca&&(Ue(this),this.start()))}},h.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},h.M=function(){Fe.X.M.call(this),Ue(this),delete this.g};var ze=function(e){function t(e,n){var r;return Object(s.a)(this,t),(r=Object(a.a)(this,Object(o.a)(t).call(this))).m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return Object(u.a)(t,e),Object(c.a)(t,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=Ve(function(){t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)}},{key:"M",value:function(){Object(i.a)(Object(o.a)(t.prototype),"M",this).call(this),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),t}(I);function Be(e){I.call(this),this.h=e,this.g={}}E(Be,I);var qe=[];function Ge(e,t,n,r){Array.isArray(n)||(n&&(qe[0]=n.toString()),n=qe);for(var a=0;a<n.length;a++){var i=me(t,n[a],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Ke(e){ue(e.g,function(e,t){this.g.hasOwnProperty(t)&&be(e)},e),e.g={}}function He(){this.g=!0}function We(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<a.length;o++)a[o]=""}}}return Ie(n)}catch(u){return t}}(e,n)+(r?" "+r:"")})}Be.prototype.M=function(){Be.X.M.call(this),Ke(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},He.prototype.Aa=function(){this.g=!1},He.prototype.info=function(){};var Qe={},Ye=null;function $e(){return Ye=Ye||new _e}function Je(e){N.call(this,Qe.Pa,e)}function Xe(e){var t=$e();xe(t,new Je(t))}function Ze(e,t){N.call(this,Qe.STAT_EVENT,e),this.stat=t}function et(e){var t=$e();xe(t,new Ze(t,e))}function tt(e,t){N.call(this,Qe.Qa,e),this.size=t}function nt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){e()},t)}Qe.Pa="serverreachability",E(Je,N),Qe.STAT_EVENT="statevent",E(Ze,N),Qe.Qa="timingevent",E(tt,N);var rt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},at={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function it(){}function ot(e){return e.h||(e.h=e.i())}function ut(){}it.prototype.h=null;var st,ct={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function lt(){N.call(this,"d")}function ft(){N.call(this,"c")}function ht(){}function dt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Be(this),this.O=vt,e=q?125:void 0,this.T=new Fe(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}E(lt,N),E(ft,N),E(ht,it),ht.prototype.g=function(){return new XMLHttpRequest},ht.prototype.i=function(){return{}},st=new ht;var vt=45e3,mt={},yt={};function bt(e,t,n){e.K=1,e.v=Mt(At(t)),e.s=n,e.P=!0,gt(e,null)}function gt(e,t){e.F=Date.now(),jt(e),e.A=At(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),$t(n.i,"t",r),e.C=0,n=e.l.H,e.h=new pt,e.g=Xn(e.l,n?t:null,!e.s),0<e.N&&(e.L=new ze(_(e.La,e,e.g),e.N)),Ge(e.S,e.g,"readystatechange",e.ib),t=e.H?se(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Xe(),function(e,t,n,r,a,i){e.info(function(){if(e.g)if(i)for(var o="",u=i.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.U,e.s)}function kt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ot(e,t,n){for(var r,a=!0;!e.I&&e.C<n.length;){if((r=wt(e,n))==yt){4==t&&(e.o=4,et(14),a=!1),We(e.j,e.m,null,"[Incomplete Response]");break}if(r==mt){e.o=4,et(15),We(e.j,e.m,n,"[Invalid Chunk]"),a=!1;break}We(e.j,e.m,r,null),Tt(e,r)}kt(e)&&r!=yt&&r!=mt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,et(16),a=!1),e.i=e.i&&a,a?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gn(t),t.K=!0,et(11))):(We(e.j,e.m,n,"[Invalid Chunked Response]"),It(e),Et(e))}function wt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?yt:(n=Number(t.substring(n,r)),isNaN(n)?mt:(r+=1)+n>t.length?yt:(t=t.substr(r,n),e.C=r+n,t))}function jt(e){e.V=Date.now()+e.O,_t(e,e.O)}function _t(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=nt(_(e.gb,e),t)}function xt(e){e.B&&(m.clearTimeout(e.B),e.B=null)}function Et(e){0==e.l.G||e.I||Wn(e.l,e)}function It(e){xt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ue(e.T),Ke(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Tt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||an(n.h,e)))if(!e.J&&an(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(i){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Hn(n),Ln(n)}qn(n),et(18)}}else n.Ba=a[1],0<n.Ba-n.T&&37500>a[2]&&n.L&&0==n.A&&!n.v&&(n.v=nt(_(n.cb,n),6e3));if(1>=rn(n.h)&&n.ja){try{n.ja()}catch(i){}n.ja=void 0}}else Yn(n,11)}else if((e.J||n.g==e)&&Hn(n),!R(t))for(a=n.Fa.g.parse(t),t=0;t<a.length;t++){var i=a[t];if(n.T=i[0],i=i[1],2==n.G)if("c"==i[0]){n.I=i[1],n.ka=i[2];var o=i[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=i[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=i[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(on(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Lt(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Jn(r,r.H?r.ka:null,r.V),d.J){un(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(xt(p),jt(p)),r.g=d}else Bn(r);0<n.i.length&&Fn(n)}else"stop"!=i[0]&&"close"!=i[0]||Yn(n,7);else 3==n.G&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Yn(n,7):Dn(n):"noop"!=i[0]&&n.l&&n.l.wa(i),n.A=0)}Xe()}catch(i){}}function St(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(b(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(b(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(b(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,i=0;i<a;i++)t.call(void 0,r[i],n&&n[i],e)}(h=dt.prototype).setTimeout=function(e){this.O=e},h.ib=function(e){e=e.target;var t=this.L;t&&3==Sn(e)?t.l():this.La(e)},h.La=function(e){try{if(e==this.g)e:{var t=Sn(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||q||this.g&&(this.h.h||this.g.fa()||Cn(this.g)))){this.I||4!=t||7==n||Xe(),xt(this);var r=this.g.aa();this.Y=r;t:if(kt(this)){var a=Cn(this.g);e="";var i=a.length,o=4==Sn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){It(this),Et(this);var u="";break t}this.h.i=new m.TextDecoder}for(n=0;n<i;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:o&&n==i-1});a.splice(0,i),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,a,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+o})}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,et(12),It(this),Et(this);break e}We(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tt(this,r)}this.P?(Ot(this,t,u),q&&this.i&&3==t&&(Ge(this.S,this.T,"tick",this.hb),this.T.start())):(We(this.j,this.m,u,null),Tt(this,u)),4==t&&It(this),this.i&&!this.I&&(4==t?Wn(this.l,this):(this.i=!1,jt(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,et(12)):(this.o=0,et(13)),It(this),Et(this)}}}catch(t){}},h.hb=function(){if(this.g){var e=Sn(this.g),t=this.g.fa();this.C<t.length&&(xt(this),Ot(this,e,t),this.i&&4!=e&&jt(this))}},h.cancel=function(){this.I=!0,It(this)},h.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Xe(),et(17)),It(this),this.o=2,Et(this)):_t(this,this.V-e)};var Ct=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nt(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Nt){this.h=void 0!==t?t:e.h,Rt(this,e.j),this.s=e.s,this.g=e.g,Pt(this,e.m),this.l=e.l,t=e.i;var n=new Ht;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Dt(this,n),this.o=e.o}else e&&(n=String(e).match(Ct))?(this.h=!!t,Rt(this,n[1]||"",!0),this.s=Ft(n[2]||""),this.g=Ft(n[3]||"",!0),Pt(this,n[4]),this.l=Ft(n[5]||"",!0),Dt(this,n[6]||"",!0),this.o=Ft(n[7]||"")):(this.h=!!t,this.i=new Ht(null,this.h))}function At(e){return new Nt(e)}function Rt(e,t,n){e.j=n?Ft(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Pt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Dt(e,t,n){t instanceof Ht?(e.i=t,function(e,t){t&&!e.j&&(Wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Qt(this,t),$t(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Ut(t,Gt)),e.i=new Ht(t,e.h))}function Lt(e,t,n){e.i.set(t,n)}function Mt(e){return Lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ft(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ut(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ut(t,zt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ut(t,zt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ut(n,"/"==n.charAt(0)?qt:Bt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ut(n,Kt)),e.join("")};var zt=/[#\/\?@]/g,Bt=/[#\?:]/g,qt=/[#\?]/g,Gt=/[#\?@]/g,Kt=/#/g;function Ht(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Qt(e,t){Wt(e),t=Jt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Yt(e,t){return Wt(e),t=Jt(e,t),e.g.has(t)}function $t(e,t,n){Qt(e,t),0<n.length&&(e.i=null,e.g.set(Jt(e,t),S(n)),e.h+=n.length)}function Jt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(h=Ht.prototype).add=function(e,t){Wt(this),this.i=null,e=Jt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},h.forEach=function(e,t){Wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},h.oa=function(){Wt(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var a=e[r],i=0;i<a.length;i++)n.push(t[r]);return n},h.W=function(e){Wt(this);var t=[];if("string"===typeof e)Yt(this,e)&&(t=t.concat(this.g.get(Jt(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},h.set=function(e,t){return Wt(this),this.i=null,Yt(this,e=Jt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},h.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},h.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],a=encodeURIComponent(String(r)),i=this.W(r);for(r=0;r<i.length;r++){var o=a;""!==i[r]&&(o+="="+encodeURIComponent(String(i[r]))),e.push(o)}}return this.i=e.join("&")};var Xt=function e(t,n){Object(s.a)(this,e),this.h=t,this.g=n};function Zt(e){this.l=e||tn,m.PerformanceNavigationTiming?e=0<(e=m.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(m.g&&m.g.Ga&&m.g.Ga()&&m.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var en,tn=10;function nn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rn(e){return e.h?1:e.g?e.g.size:0}function an(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function on(e,t){e.g?e.g.add(t):e.h=t}function un(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=l(e.g.values());try{for(r.s();!(t=r.n()).done;){var a=t.value;n=n.concat(a.D)}}catch(i){r.e(i)}finally{r.f()}return n}return S(e.i)}function cn(){}function ln(){this.g=new cn}function fn(e,t,n){var r=n||"";try{St(e,function(e,n){var a=e;g(e)&&(a=Ie(e)),t.push(r+n+"="+encodeURIComponent(a))})}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function hn(e,t,n,r,a){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,a(r)}catch(i){}}function dn(e){this.l=e.ac||null,this.j=e.jb||!1}function pn(e,t){_e.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=vn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zt.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=l(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},cn.prototype.stringify=function(e){return m.JSON.stringify(e,void 0)},cn.prototype.parse=function(e){return m.JSON.parse(e,void 0)},E(dn,it),dn.prototype.g=function(){return new pn(this.l,this.j)},dn.prototype.i=(en={},function(){return en}),E(pn,_e);var vn=0;function mn(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function yn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bn(e)}function bn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(h=pn.prototype).open=function(e,t){if(this.readyState!=vn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bn(this)},h.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||m).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},h.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(function(){}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yn(this)),this.readyState=vn},h.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof m.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mn(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},h.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?yn(this):bn(this),3==this.readyState&&mn(this)}},h.Va=function(e){this.g&&(this.response=this.responseText=e,yn(this))},h.Ua=function(e){this.g&&(this.response=e,yn(this))},h.ga=function(){this.g&&yn(this)},h.setRequestHeader=function(e,t){this.v.append(e,t)},h.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},h.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(pn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var gn=m.JSON.parse;function kn(e){_e.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=On,this.K=this.L=!1}E(kn,_e);var On="",wn=/^https?$/i,jn=["POST","PUT"];function _n(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xn(e),In(e)}function xn(e){e.D||(e.D=!0,xe(e,"complete"),xe(e,"error"))}function En(e){if(e.h&&"undefined"!=typeof v&&(!e.C[1]||4!=Sn(e)||2!=e.aa()))if(e.v&&4==Sn(e))Ve(e.Ha,0,e);else if(xe(e,"readystatechange"),4==Sn(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var a;if(a=0===n){var i=String(e.H).match(Ct)[1]||null;if(!i&&m.self&&m.self.location){var o=m.self.location.protocol;i=o.substr(0,o.length-1)}a=!wn.test(i?i.toLowerCase():"")}t=a}if(t)xe(e,"complete"),xe(e,"success");else{e.m=6;try{var u=2<Sn(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",xn(e)}}finally{In(e)}}}function In(e,t){if(e.g){Tn(e);var n=e.g,r=e.C[0]?y:null;e.g=null,e.C=null,t||xe(e,"ready");try{n.onreadystatechange=r}catch(a){}}}function Tn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(m.clearTimeout(e.A),e.A=null)}function Sn(e){return e.g?e.g.readyState:0}function Cn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case On:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Nn(e){var t="";return ue(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function An(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Lt(e,t,n))}function Rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pn(e){this.Ca=0,this.i=[],this.j=new He,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Rn("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Rn("baseRetryDelayMs",5e3,e),this.bb=Rn("retryDelaySeedMs",1e4,e),this.$a=Rn("forwardChannelMaxRetries",2,e),this.ta=Rn("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Zt(e&&e.concurrentRequestLimit),this.Fa=new ln,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Dn(e){if(Mn(e),3==e.G){var t=e.U++,n=At(e.F);Lt(n,"SID",e.I),Lt(n,"RID",t),Lt(n,"TYPE","terminate"),Vn(e,n),(t=new dt(e,e.j,t,void 0)).K=2,t.v=Mt(At(n)),n=!1,m.navigator&&m.navigator.sendBeacon&&(n=m.navigator.sendBeacon(t.v.toString(),"")),!n&&m.Image&&((new Image).src=t.v,n=!0),n||(t.g=Xn(t.l,null),t.g.da(t.v)),t.F=Date.now(),jt(t)}$n(e)}function Ln(e){e.g&&(Gn(e),e.g.cancel(),e.g=null)}function Mn(e){Ln(e),e.u&&(m.clearTimeout(e.u),e.u=null),Hn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&m.clearTimeout(e.m),e.m=null)}function Fn(e){nn(e.h)||e.m||(e.m=!0,Pe(e.Ja,e),e.C=0)}function Un(e,t){var n;n=t?t.m:e.U++;var r=At(e.F);Lt(r,"SID",e.I),Lt(r,"RID",n),Lt(r,"AID",e.T),Vn(e,r),e.o&&e.s&&An(r,e.o,e.s),n=new dt(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=zn(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),on(e.h,n),bt(n,r,t)}function Vn(e,t){e.ia&&ue(e.ia,function(e,n){Lt(t,n,e)}),e.l&&St({},function(e,n){Lt(t,n,e)})}function zn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?_(e.l.Ra,e.l,e):null;e:for(var a=e.i,i=-1;;){var o=["count="+n];-1==i?0<n?(i=a[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);for(var u=!0,s=0;s<n;s++){var c=a[s].h,l=a[s].g;if(0>(c-=i))i=Math.max(0,a[s].h-100),u=!1;else try{fn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Bn(e){e.g||e.u||(e.Z=1,Pe(e.Ia,e),e.A=0)}function qn(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=nt(_(e.Ia,e),Qn(e,e.A)),e.A++,!0)}function Gn(e){null!=e.B&&(m.clearTimeout(e.B),e.B=null)}function Kn(e){e.g=new dt(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=At(e.sa);Lt(t,"RID","rpc"),Lt(t,"SID",e.I),Lt(t,"CI",e.L?"0":"1"),Lt(t,"AID",e.T),Lt(t,"TYPE","xmlhttp"),Vn(e,t),e.o&&e.s&&An(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Mt(At(t)),n.s=null,n.P=!0,gt(n,e)}function Hn(e){null!=e.v&&(m.clearTimeout(e.v),e.v=null)}function Wn(e,t){var n=null;if(e.g==t){Hn(e),Gn(e),e.g=null;var r=2}else{if(!an(e.h,t))return;n=t.D,un(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var a=e.C;xe(r=$e(),new tt(r,n)),Fn(e)}else Bn(e);else if(3==(a=t.o)||0==a&&0<e.pa||!(1==r&&function(e,t){return!(rn(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=nt(_(e.Ja,e,t),Qn(e,e.C)),e.C++,!0))}(e,t)||2==r&&qn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:Yn(e,5);break;case 4:Yn(e,10);break;case 3:Yn(e,6);break;default:Yn(e,2)}}function Qn(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Yn(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=_(e.kb,e);n||(n=new Nt("//www.google.com/images/cleardot.gif"),m.location&&"http"==m.location.protocol||Rt(n,"https"),Mt(n)),function(e,t){var n=new He;if(m.Image){var r=new Image;r.onload=x(hn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=x(hn,n,r,"TestLoadImage: error",!1,t),r.onabort=x(hn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=x(hn,n,r,"TestLoadImage: timeout",!1,t),m.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else et(2);e.G=0,e.l&&e.l.va(t),$n(e),Mn(e)}function $n(e){if(e.G=0,e.la=[],e.l){var t=sn(e.h);0==t.length&&0==e.i.length||(C(e.la,t),C(e.la,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ua()}}function Jn(e,t,n){var r=n instanceof Nt?At(n):new Nt(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Pt(r,r.m);else{var a=m.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var i=new Nt(null,void 0);r&&Rt(i,r),t&&(i.g=t),a&&Pt(i,a),n&&(i.l=n),r=i}return n=e.D,t=e.za,n&&t&&Lt(r,n,t),Lt(r,"VER",e.ma),Vn(e,r),r}function Xn(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new kn(new dn({jb:!0})):new kn(e.ra)).Ka(e.H),t}function Zn(){}function er(){if(z&&!(10<=Number(ee)))throw Error("Environmental error: no available transport.")}function tr(e,t){_e.call(this),this.g=new Pn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!R(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!R(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ar(this)}function nr(e){lt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function rr(){ft.call(this),this.status=1}function ar(e){this.g=e}(h=kn.prototype).Ka=function(e){this.L=e},h.da=function(e,t,n,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():st.g(),this.C=this.u?ot(this.u):ot(st),this.g.onreadystatechange=_(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void _n(this,s)}if(e=n||"",n=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var i in a)n.set(i,a[i]);else{if("function"!==typeof a.keys||"function"!==typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));var o,u=l(a.keys());try{for(u.s();!(o=u.n()).done;){var s=o.value;n.set(s,a.get(s))}}catch(v){u.e(v)}finally{u.f()}}a=Array.from(n.keys()).find(function(e){return"content-type"==e.toLowerCase()}),i=m.FormData&&e instanceof m.FormData,!(0<=T(jn,t))||a||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,f=l(n);try{for(f.s();!(c=f.n()).done;){var h=Object(r.a)(c.value,2),d=h[0],p=h[1];this.g.setRequestHeader(d,p)}}catch(v){f.e(v)}finally{f.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Tn(this),0<this.B&&((this.K=function(e){return z&&X()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_(this.qa,this)):this.A=Ve(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){_n(this,s)}},h.qa=function(){"undefined"!=typeof v&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xe(this,"timeout"),this.abort(8))},h.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xe(this,"complete"),xe(this,"abort"),In(this))},h.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),In(this,!0)),kn.X.M.call(this)},h.Ha=function(){this.s||(this.F||this.v||this.l?En(this):this.fb())},h.fb=function(){En(this)},h.aa=function(){try{return 2<Sn(this)?this.g.status:-1}catch(en){return-1}},h.fa=function(){try{return this.g?this.g.responseText:""}catch(en){return""}},h.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),gn(t)}},h.Ea=function(){return this.m},h.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(h=Pn.prototype).ma=8,h.G=1,h.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new dt(this,this.j,e,void 0),n=this.s;if(this.S&&(n?le(n=se(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,a=0;a<this.i.length;a++){var i=this.i[a];if(void 0===(i="__data__"in i.g&&"string"===typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(r+=i)){r=a;break e}if(4096===r||a===this.i.length-1){r=a+1;break e}}r=1e3}else r=1e3;r=zn(this,t,r),Lt(a=At(this.F),"RID",e),Lt(a,"CVER",22),this.D&&Lt(a,"X-HTTP-Session-Id",this.D),Vn(this,a),n&&(this.N?r="headers="+encodeURIComponent(String(Nn(n)))+"&"+r:this.o&&An(a,this.o,n)),on(this.h,t),this.Ya&&Lt(a,"TYPE","init"),this.O?(Lt(a,"$req",r),Lt(a,"SID","null"),t.Z=!0,bt(t,a,null)):bt(t,a,r),this.G=2}}else 3==this.G&&(e?Un(this,e):0==this.i.length||nn(this.h)||Un(this))},h.Ia=function(){if(this.u=null,Kn(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=nt(_(this.eb,this),e)}},h.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,et(10),Ln(this),Kn(this))},h.cb=function(){null!=this.v&&(this.v=null,Ln(this),qn(this),et(19))},h.kb=function(e){e?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))},(h=Zn.prototype).xa=function(){},h.wa=function(){},h.va=function(){},h.ua=function(){},h.Ra=function(){},er.prototype.g=function(e,t){return new tr(e,t)},E(tr,_e),tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;et(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Jn(e,null,e.V),Fn(e)},tr.prototype.close=function(){Dn(this.g)},tr.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ie(e),e=n);t.i.push(new Xt(t.ab++,e)),3==t.G&&Fn(t)},tr.prototype.M=function(){this.g.l=null,delete this.j,Dn(this.g),delete this.g,tr.X.M.call(this)},E(nr,lt),E(rr,ft),E(ar,Zn),ar.prototype.xa=function(){xe(this.g,"a")},ar.prototype.wa=function(e){xe(this.g,new nr(e))},ar.prototype.va=function(e){xe(this.g,new rr)},ar.prototype.ua=function(){xe(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,tr.prototype.send=tr.prototype.u,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,at.COMPLETE="complete",ut.EventType=ct,ct.OPEN="a",ct.CLOSE="b",ct.ERROR="c",ct.MESSAGE="d",_e.prototype.listen=_e.prototype.N,kn.prototype.listenOnce=kn.prototype.O,kn.prototype.getLastError=kn.prototype.Oa,kn.prototype.getLastErrorCode=kn.prototype.Ea,kn.prototype.getStatus=kn.prototype.aa,kn.prototype.getResponseJson=kn.prototype.Sa,kn.prototype.getResponseText=kn.prototype.fa,kn.prototype.send=kn.prototype.da,kn.prototype.setWithCredentials=kn.prototype.Ka;var ir=p.createWebChannelTransport=function(){return new er},or=p.getStatEventTarget=function(){return $e()},ur=p.ErrorCode=rt,sr=p.EventType=at,cr=p.Event=Qe,lr=p.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},fr=p.FetchXmlHttpFactory=dn,hr=p.WebChannel=ut,dr=p.XhrIo=kn}).call(this,n(70))},function(e,t,n){"use strict";var r=n(24),a=n(74),i=n(68),o="Expected a function";function u(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(u.Cache||i.a),n}u.Cache=i.a;var s=u,c=500;var l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=function(e){var t=s(e,function(e){return n.size===c&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(l,function(e,n,r,a){t.push(r?a.replace(f,"$1"):n||e)}),t}),d=n(107);t.a=function(e,t){return Object(r.a)(e)?e:Object(a.a)(e,t)?[e]:h(Object(d.a)(e))}},function(e,t,n){"use strict";var r=n(139),a=n(34),i=n(79),o=n(52),u=n(58);var s=function(e,t){return Object(u.a)(t,function(t){return e[t]})},c=n(44);var l=function(e){return null==e?[]:s(e,Object(c.a)(e))},f=Math.max;t.a=function(e,t,n,u){e=Object(a.a)(e)?e:l(e),n=n&&!u?Object(o.a)(n):0;var s=e.length;return n<0&&(n=f(s+n,0)),Object(i.a)(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&Object(r.a)(e,t,n)>-1}},function(e,t,n){"use strict";var r=n(37),a=n(58),i=n(24),o=n(56),u=1/0,s=r.a?r.a.prototype:void 0,c=s?s.toString:void 0;var l=function e(t){if("string"==typeof t)return t;if(Object(i.a)(t))return Object(a.a)(t,e)+"";if(Object(o.a)(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-u?"-0":n};t.a=function(e){return null==e?"":l(e)}},,function(e,t,n){"use strict";var r=function(){this.__data__=[],this.size=0},a=n(57);var i=function(e,t){for(var n=e.length;n--;)if(Object(a.a)(e[n][0],t))return n;return-1},o=Array.prototype.splice;var u=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)};var s=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]};var c=function(e){return i(this.__data__,e)>-1};var l=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}f.prototype.clear=r,f.prototype.delete=u,f.prototype.get=s,f.prototype.has=c,f.prototype.set=l;t.a=f},function(e,t,n){"use strict";var r=n(31),a=n(27),i="[object Arguments]";var o=function(e){return Object(a.a)(e)&&Object(r.a)(e)==i},u=Object.prototype,s=u.hasOwnProperty,c=u.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return Object(a.a)(e)&&s.call(e,"callee")&&!c.call(e,"callee")};t.a=l},function(e,t,n){"use strict";var r=n(94),a=n(39),i=n(43);var o=function(e,t){var n;return Object(i.a)(e,function(e,r,a){return!(n=t(e,r,a))}),!!n},u=n(24),s=n(127);t.a=function(e,t,n){var i=Object(u.a)(e)?r.a:o;return n&&Object(s.a)(e,t,n)&&(t=void 0),i(e,Object(a.a)(t,3))}},,function(e,t,n){"use strict";var r=n(40),a=n(26),i=Object(r.a)(a.a,"DataView"),o=n(61),u=Object(r.a)(a.a,"Promise"),s=n(63),c=n(69),l=n(31),f=n(54),h=Object(f.a)(i),d=Object(f.a)(o.a),p=Object(f.a)(u),v=Object(f.a)(s.a),m=Object(f.a)(c.a),y=l.a;(i&&"[object DataView]"!=y(new i(new ArrayBuffer(1)))||o.a&&"[object Map]"!=y(new o.a)||u&&"[object Promise]"!=y(u.resolve())||s.a&&"[object Set]"!=y(new s.a)||c.a&&"[object WeakMap]"!=y(new c.a))&&(y=function(e){var t=Object(l.a)(e),n="[object Object]"==t?e.constructor:void 0,r=n?Object(f.a)(n):"";if(r)switch(r){case h:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case v:return"[object Set]";case m:return"[object WeakMap]"}return t});t.a=y},function(e,t,n){"use strict";var r=n(9),a=n(72);var i=n(73);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(i.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(a.a)(o,e)})(e)}n.d(t,"a",function(){return o})},,function(e,t,n){"use strict";var r=n(135),a=n(118),i=n(94),o=n(77),u=1,s=2;var c=function(e,t,n,r,c,l){var f=n&u,h=e.length,d=t.length;if(h!=d&&!(f&&d>h))return!1;var p=l.get(e),v=l.get(t);if(p&&v)return p==t&&v==e;var m=-1,y=!0,b=n&s?new a.a:void 0;for(l.set(e,t),l.set(t,e);++m<h;){var g=e[m],k=t[m];if(r)var O=f?r(k,g,m,t,e,l):r(g,k,m,e,t,l);if(void 0!==O){if(O)continue;y=!1;break}if(b){if(!Object(i.a)(t,function(e,t){if(!Object(o.a)(b,t)&&(g===e||c(g,e,n,r,l)))return b.push(t)})){y=!1;break}}else if(g!==k&&!c(g,k,n,r,l)){y=!1;break}}return l.delete(e),l.delete(t),y},l=n(37),f=n(26).a.Uint8Array,h=n(57);var d=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},p=n(78),v=1,m=2,y="[object Boolean]",b="[object Date]",g="[object Error]",k="[object Map]",O="[object Number]",w="[object RegExp]",j="[object Set]",_="[object String]",x="[object Symbol]",E="[object ArrayBuffer]",I="[object DataView]",T=l.a?l.a.prototype:void 0,S=T?T.valueOf:void 0;var C=function(e,t,n,r,a,i,o){switch(n){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!i(new f(e),new f(t)));case y:case b:case O:return Object(h.a)(+e,+t);case g:return e.name==t.name&&e.message==t.message;case w:case _:return e==t+"";case k:var u=d;case j:var s=r&v;if(u||(u=p.a),e.size!=t.size&&!s)return!1;var l=o.get(e);if(l)return l==t;r|=m,o.set(e,t);var T=c(u(e),u(t),r,a,i,o);return o.delete(e),T;case x:if(S)return S.call(e)==S.call(t)}return!1},N=n(95),A=n(24);var R=function(e,t,n){var r=t(e);return Object(A.a)(e)?r:Object(N.a)(r,n(e))},P=n(96);var D=function(){return[]},L=Object.prototype.propertyIsEnumerable,M=Object.getOwnPropertySymbols,F=M?function(e){return null==e?[]:(e=Object(e),Object(P.a)(M(e),function(t){return L.call(e,t)}))}:D,U=n(44);var V=function(e){return R(e,U.a,F)},z=1,B=Object.prototype.hasOwnProperty;var q=function(e,t,n,r,a,i){var o=n&z,u=V(e),s=u.length;if(s!=V(t).length&&!o)return!1;for(var c=s;c--;){var l=u[c];if(!(o?l in t:B.call(t,l)))return!1}var f=i.get(e),h=i.get(t);if(f&&h)return f==t&&h==e;var d=!0;i.set(e,t),i.set(t,e);for(var p=o;++c<s;){var v=e[l=u[c]],m=t[l];if(r)var y=o?r(m,v,l,t,e,i):r(v,m,l,e,t,i);if(!(void 0===y?v===m||a(v,m,n,r,i):y)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var b=e.constructor,g=t.constructor;b!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g)&&(d=!1)}return i.delete(e),i.delete(t),d},G=n(113),K=n(66),H=n(123),W=1,Q="[object Arguments]",Y="[object Array]",$="[object Object]",J=Object.prototype.hasOwnProperty;var X=function(e,t,n,a,i,o){var u=Object(A.a)(e),s=Object(A.a)(t),l=u?Y:Object(G.a)(e),f=s?Y:Object(G.a)(t),h=(l=l==Q?$:l)==$,d=(f=f==Q?$:f)==$,p=l==f;if(p&&Object(K.a)(e)){if(!Object(K.a)(t))return!1;u=!0,h=!1}if(p&&!h)return o||(o=new r.a),u||Object(H.a)(e)?c(e,t,n,a,i,o):C(e,t,l,n,a,i,o);if(!(n&W)){var v=h&&J.call(e,"__wrapped__"),m=d&&J.call(t,"__wrapped__");if(v||m){var y=v?e.value():e,b=m?t.value():t;return o||(o=new r.a),i(y,b,n,a,o)}}return!!p&&(o||(o=new r.a),q(e,t,n,a,i,o))},Z=n(27);t.a=function e(t,n,r,a,i){return t===n||(null==t||null==n||!Object(Z.a)(t)&&!Object(Z.a)(n)?t!==t&&n!==n:X(t,n,r,a,e,i))}},function(e,t,n){"use strict";var r=function(e){return function(){return e}},a=n(83),i=n(50),o=a.a?function(e,t){return Object(a.a)(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i.a,u=n(88),s=Object(u.a)(o);t.a=s},function(e,t,n){"use strict";var r=n(68),a="__lodash_hash_undefined__";var i=function(e){return this.__data__.set(e,a),this};var o=function(e){return this.__data__.has(e)};function u(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r.a;++t<n;)this.add(e[t])}u.prototype.add=u.prototype.push=i,u.prototype.has=o;t.a=u},function(e,t,n){"use strict";var r=n(5),a=n(19),i=n(16),o=n(20),u=n(7),s=n(0),c=n.n(s),l=n(21),f=n(103),h=n(102),d=n(136),p=n(8);function v(e){var t=e.children,n=e.className,a=e.content,i=e.size,o=Object(u.a)(i,"icons",n),s=Object(f.a)(v,e),l=Object(h.a)(v,e);return c.a.createElement(l,Object(r.a)({},s,{className:o}),p.a.isNil(t)?a:t)}v.handledProps=["as","children","className","content","size"],v.propTypes={},v.defaultProps={as:"i"};var m=v,y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():Object(i.a)(t.props,"onClick",e,t.props)},t}Object(a.a)(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return Object(o.a)(n)?e["aria-hidden"]="true":e["aria-label"]=n,Object(o.a)(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,a=e.circular,i=e.className,o=e.color,s=e.corner,d=e.disabled,p=e.fitted,v=e.flipped,m=e.inverted,y=e.link,b=e.loading,g=e.name,k=e.rotated,O=e.size,w=Object(u.a)(o,g,O,Object(l.a)(n,"bordered"),Object(l.a)(a,"circular"),Object(l.a)(d,"disabled"),Object(l.a)(p,"fitted"),Object(l.a)(m,"inverted"),Object(l.a)(y,"link"),Object(l.a)(b,"loading"),Object(l.b)(s,"corner"),Object(l.e)(v,"flipped"),Object(l.e)(k,"rotated"),"icon",i),j=Object(f.a)(t,this.props),_=Object(h.a)(t,this.props),x=this.getIconAriaOptions();return c.a.createElement(_,Object(r.a)({},j,x,{className:w,onClick:this.handleClick}))},t}(s.PureComponent);y.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],y.propTypes={},y.defaultProps={as:"i"},y.Group=m,y.create=Object(d.f)(y,function(e){return{name:e}});t.a=y},function(e,t,n){"use strict";var r=n(31),a=n(93),i=Object(a.a)(Object.getPrototypeOf,Object),o=n(27),u="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,h=l.call(Object);t.a=function(e){if(!Object(o.a)(e)||Object(r.a)(e)!=u)return!1;var t=i(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==h}},function(e,t,n){"use strict";var r=n(92),a=n(93),i=Object(a.a)(Object.keys,Object),o=Object.prototype.hasOwnProperty;t.a=function(e){if(!Object(r.a)(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){"use strict";var r=n(39),a=n(34),i=n(44);var o=function(e){return function(t,n,o){var u=Object(t);if(!Object(a.a)(t)){var s=Object(r.a)(n,3);t=Object(i.a)(t),n=function(e){return s(u[e],e,u)}}var c=e(t,n,o);return c>-1?u[s?t[c]:c]:void 0}}(n(125).a);t.a=o},function(e,t,n){"use strict";var r=n(31),a=n(76),i=n(27),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var u=function(e){return Object(i.a)(e)&&Object(a.a)(e.length)&&!!o[Object(r.a)(e)]},s=n(91),c=n(100),l=c.a&&c.a.isTypedArray,f=l?Object(s.a)(l):u;t.a=f},function(e,t,n){"use strict";var r=n(5),a=n(7),i=n(0),o=n.n(i),u=n(21),s=n(103),c=n(102),l=n(136);function f(e){var t=e.children,n=e.className,i=e.computer,l=e.color,h=e.floated,d=e.largeScreen,p=e.mobile,v=e.only,m=e.stretched,y=e.tablet,b=e.textAlign,g=e.verticalAlign,k=e.widescreen,O=e.width,w=Object(a.a)(l,Object(u.a)(m,"stretched"),Object(u.c)(v,"only"),Object(u.d)(b),Object(u.e)(h,"floated"),Object(u.f)(g),Object(u.g)(i,"wide computer"),Object(u.g)(d,"wide large screen"),Object(u.g)(p,"wide mobile"),Object(u.g)(y,"wide tablet"),Object(u.g)(k,"wide widescreen"),Object(u.g)(O,"wide"),"column",n),j=Object(s.a)(f,e),_=Object(c.a)(f,e);return o.a.createElement(_,Object(r.a)({},j,{className:w}),t)}f.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],f.propTypes={},f.create=Object(l.f)(f,function(e){return{children:e}}),t.a=f},function(e,t,n){"use strict";var r=n(128),a=n(39),i=n(52),o=Math.max;t.a=function(e,t,n){var u=null==e?0:e.length;if(!u)return-1;var s=null==n?0:Object(i.a)(n);return s<0&&(s=o(u+s,0)),Object(r.a)(e,Object(a.a)(t,3),s)}},function(e,t,n){"use strict";var r=n(140),a=1/0,i=1.7976931348623157e308;t.a=function(e){return e?(e=Object(r.a)(e))===a||e===-a?(e<0?-1:1)*i:e===e?e:0:0===e?e:0}},function(e,t,n){"use strict";var r=n(57),a=n(34),i=n(51),o=n(35);t.a=function(e,t,n){if(!Object(o.a)(n))return!1;var u=typeof t;return!!("number"==u?Object(a.a)(n)&&Object(i.a)(t,n.length):"string"==u&&t in n)&&Object(r.a)(n[t],e)}},function(e,t,n){"use strict";t.a=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){"use strict";t.a=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){"use strict";t.a=function(e,t,n,r){var a=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(84),a=n(86),i=n(85);function o(e){return Object(r.a)(e)||Object(a.a)(e)||Object(i.a)()}},function(e,t,n){"use strict";var r=n(46);t.a=r.instance},function(e,t,n){"use strict";var r=n(20),a="object"===typeof document&&null!==document,i="object"===typeof window&&null!==window&&window.self===window;t.a=function e(){return Object(r.a)(e.override)?a&&i:e.override}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)}},function(e,t,n){"use strict";var r=n(109);var a=function(){this.__data__=new r.a,this.size=0};var i=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var o=function(e){return this.__data__.get(e)};var u=function(e){return this.__data__.has(e)},s=n(61),c=n(68),l=200;var f=function(e,t){var n=this.__data__;if(n instanceof r.a){var a=n.__data__;if(!s.a||a.length<l-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new c.a(a)}return n.set(e,t),this.size=n.size,this};function h(e){var t=this.__data__=new r.a(e);this.size=t.size}h.prototype.clear=a,h.prototype.delete=i,h.prototype.get=o,h.prototype.has=u,h.prototype.set=f;t.a=h},function(e,t,n){"use strict";var r=n(5),a=n(152);var i=function(e){return e&&e.length?Object(a.a)(e):[]},o=n(24),u=n(120),s=n(48),c=n(31),l=n(27),f="[object Number]";var h=function(e){return"number"==typeof e||Object(l.a)(e)&&Object(c.a)(e)==f},d=n(79),p="[object Boolean]";var v=function(e){return!0===e||!1===e||Object(l.a)(e)&&Object(c.a)(e)==p},m=n(20),y=n(7),b=n(0);function g(e,t,n,a){if(void 0===a&&(a={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(Object(m.a)(n)||v(n))return null;var c=Object(d.a)(n),l=h(n),f=Object(s.a)(n),p=b.isValidElement(n),g=Object(u.a)(n),k=c||l||Object(o.a)(n);if(!f&&!p&&!g&&!k)return null;var O=a.defaultProps,w=void 0===O?{}:O,j=p&&n.props||g&&n||k&&t(n),_=a.overrideProps,x=void 0===_?{}:_;x=Object(s.a)(x)?x(Object(r.a)({},w,j)):x;var E=Object(r.a)({},w,j,x);if(w.className||x.className||j.className){var I=Object(y.a)(w.className,x.className,j.className);E.className=i(I.split(" ")).join(" ")}if((w.style||x.style||j.style)&&(E.style=Object(r.a)({},w.style,j.style,x.style)),Object(m.a)(E.key)){var T=E.childKey,S=a.autoGenerateKey,C=void 0===S||S;Object(m.a)(T)?C&&(c||l)&&(E.key=n):(E.key="function"===typeof T?T(E):T,delete E.childKey)}return p?b.cloneElement(n,E):"function"===typeof E.children?E.children(e,Object(r.a)({},E,{children:void 0})):k||g?b.createElement(e,E):f?n(e,E,E.children):void 0}function k(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return g(e,t,n,r)}}n.d(t,"e",function(){return g}),n.d(t,"f",function(){return k}),n.d(t,"a",function(){return O}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return j}),n.d(t,"d",function(){return _});var O=k("img",function(e){return{src:e}}),w=k("input",function(e){return{type:e}}),j=k("label",function(e){return{children:e}}),_=k("p",function(e){return{children:e}})},function(e,t,n){"use strict";var r=n(5),a=n(19),i=n(60),o=n(16),u=n(7),s=n(0),c=n.n(s),l=n(21),f=n(103),h=n(102),d=n(8),p=n(136),v=n(119),m=n(191);function y(e){var t=e.children,n=e.className,a=e.content,i=Object(u.a)("detail",n),o=Object(f.a)(y,e),s=Object(h.a)(y,e);return c.a.createElement(s,Object(r.a)({},o,{className:i}),d.a.isNil(t)?a:t)}y.handledProps=["as","children","className","content"],y.propTypes={},y.create=Object(p.f)(y,function(e){return{content:e}});var b=y;function g(e){var t=e.children,n=e.circular,a=e.className,i=e.color,o=e.content,s=e.size,p=e.tag,v=Object(u.a)("ui",i,s,Object(l.a)(n,"circular"),Object(l.a)(p,"tag"),"labels",a),m=Object(f.a)(g,e),y=Object(h.a)(g,e);return c.a.createElement(y,Object(r.a)({},m,{className:v}),d.a.isNil(t)?o:t)}g.handledProps=["as","children","circular","className","color","content","size","tag"],g.propTypes={};var k=g;n.d(t,"a",function(){return O});var O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){Object(o.a)(e,"onClick",n),Object(o.a)(t.props,"onRemove",n,t.props)}}},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.active,a=e.attached,o=e.basic,s=e.children,p=e.circular,y=e.className,g=e.color,k=e.content,O=e.corner,w=e.detail,j=e.empty,_=e.floating,x=e.horizontal,E=e.icon,I=e.image,T=e.onRemove,S=e.pointing,C=e.prompt,N=e.removeIcon,A=e.ribbon,R=e.size,P=e.tag,D=(!0===S?"pointing":("left"===S||"right"===S)&&S+" pointing")||("above"===S||"below"===S)&&"pointing "+S,L=Object(u.a)("ui",g,D,R,Object(l.a)(n,"active"),Object(l.a)(o,"basic"),Object(l.a)(p,"circular"),Object(l.a)(j,"empty"),Object(l.a)(_,"floating"),Object(l.a)(x,"horizontal"),Object(l.a)(!0===I,"image"),Object(l.a)(C,"prompt"),Object(l.a)(P,"tag"),Object(l.b)(O,"corner"),Object(l.b)(A,"ribbon"),Object(l.e)(a,"attached"),"label",y),M=Object(f.a)(t,this.props),F=Object(h.a)(t,this.props);if(!d.a.isNil(s))return c.a.createElement(F,Object(r.a)({},M,{className:L,onClick:this.handleClick}),s);var U=Object(i.a)(N)?"delete":N;return c.a.createElement(F,Object(r.a)({className:L,onClick:this.handleClick},M),v.a.create(E,{autoGenerateKey:!1}),"boolean"!==typeof I&&m.a.create(I,{autoGenerateKey:!1}),k,b.create(w,{autoGenerateKey:!1}),T&&v.a.create(U,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(s.Component);O.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],O.propTypes={},O.Detail=b,O.Group=k,O.create=Object(p.f)(O,function(e){return{content:e}})},function(e,t,n){"use strict";var r=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),a=n(107),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.a=function(e){return(e=Object(a.a)(e))&&e.replace(i,r).replace(o,"")}},function(e,t,n){"use strict";var r=n(128);var a=function(e){return e!==e};var i=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1};t.a=function(e,t,n){return t===t?i(e,t,n):Object(r.a)(e,a,n)}},function(e,t,n){"use strict";var r=/\s/;var a=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t},i=/^\s+/;var o=function(e){return e?e.slice(0,a(e)+1).replace(i,""):e},u=n(35),s=n(56),c=NaN,l=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt;t.a=function(e){if("number"==typeof e)return e;if(Object(s.a)(e))return c;if(Object(u.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(u.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var n=f.test(e);return n||h.test(e)?d(e.slice(2),n?2:8):l.test(e)?c:+e}},function(e,t,n){"use strict";var r=n(83);var a=function(e,t,n){"__proto__"==t&&r.a?Object(r.a)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},i=n(57),o=Object.prototype.hasOwnProperty;var u=function(e,t,n){var r=e[t];o.call(e,t)&&Object(i.a)(r,n)&&(void 0!==n||t in e)||a(e,t,n)},s=n(105),c=n(51),l=n(35),f=n(42);t.a=function(e,t,n,r){if(!Object(l.a)(e))return e;for(var a=-1,i=(t=Object(s.a)(t,e)).length,o=i-1,h=e;null!=h&&++a<i;){var d=Object(f.a)(t[a]),p=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(a!=o){var v=h[d];void 0===(p=r?r(v,d,h):void 0)&&(p=Object(l.a)(v)?v:Object(c.a)(t[a+1])?[]:{})}u(h,d,p),h=h[d]}return e}},function(e,t,n){"use strict";var r=function(e,t){return null!=e&&t in Object(e)},a=n(105),i=n(110),o=n(24),u=n(51),s=n(76),c=n(42);var l=function(e,t,n){for(var r=-1,l=(t=Object(a.a)(t,e)).length,f=!1;++r<l;){var h=Object(c.a)(t[r]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++r!=l?f:!!(l=null==e?0:e.length)&&Object(s.a)(l)&&Object(u.a)(h,l)&&(Object(o.a)(e)||Object(i.a)(e))};t.a=function(e,t){return null!=e&&l(e,t,r)}},function(e,t,n){"use strict";var r=n(73),a=n(14),i=n(9),o=n(10),u=n(1),s=n(3),c=n(41),l=n(15),f=n(6),h=n(28);function d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v="@firebase/firestore-compat",m="0.3.7";function y(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function b(){if("undefined"===typeof Uint8Array)throw new l.g("unimplemented","Uint8Arrays are not available in this environment.")}function g(){if(!Object(l.r)())throw new l.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var k=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"toBase64",value:function(){return g(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return b(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return g(),new e(l.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return b(),new e(l.b.fromUint8Array(t))}}]),e}();function O(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,a=d(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i in r&&"function"===typeof r[i])return!0}}catch(o){a.e(o)}finally{a.f()}return!1}(e,["next","error","complete"])}var w=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(l.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(l.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(l.x)(e._delegate)}}]),e}(),j=function(){function e(t,n,r){var a=this;Object(u.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return a.terminate()}},t instanceof l.m||(this._appCompat=t)}return Object(s.a)(e,[{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(l.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(l.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(l.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(l.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(l.lb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(l.Y)(this._delegate,e)}},{key:"collection",value:function(e){try{return new M(this,Object(l.y)(this._delegate,e))}catch(t){throw S(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new T(this,Object(l.E)(this._delegate,e))}catch(t){throw S(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new P(this,Object(l.z)(this._delegate,e))}catch(t){throw S(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(l.db)(this._delegate,function(n){return e(new x(t,n))})}},{key:"batch",value:function(){var e=this;return Object(l.K)(this._delegate),new E(new l.l(this._delegate,function(t){return Object(l.L)(e._delegate,t)}))}},{key:"loadBundle",value:function(e){return Object(l.V)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(l.W)(this._delegate,e).then(function(e){return e?new P(t,e):null})}},{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"app",get:function(){if(!this._appCompat)throw new l.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}}]),e}(),_=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(a.a)(this,Object(i.a)(t).call(this))).firestore=e,n}return Object(o.a)(t,e),Object(s.a)(t,[{key:"convertBytes",value:function(e){return new k(new l.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return T.forKey(t,this.firestore,null)}}]),t}(l.a);var x=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new _(t)}return Object(s.a)(e,[{key:"get",value:function(e){var t=this,n=F(e);return this._delegate.get(n).then(function(e){return new A(t._firestore,new l.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})}},{key:"set",value:function(e,t,n){var r=F(e);return n?(y("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];var o,u=F(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(a));return this}},{key:"delete",value:function(e){var t=F(e);return this._delegate.delete(t),this}}]),e}(),E=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"set",value:function(e,t,n){var r=F(e);return n?(y("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];var o,u=F(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(a));return this}},{key:"delete",value:function(e){var t=F(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),I=function(){function e(t,n,r){Object(u.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(s.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new l.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new R(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,a=r.get(t);a||(a=new WeakMap,r.set(t,a));var i=a.get(n);return i||(i=new e(t,new _(t),n),a.set(n,i)),i}}]),e}();I.INSTANCES=new WeakMap;var T=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _(t)}return Object(s.a)(e,[{key:"collection",value:function(e){try{return new M(this.firestore,Object(l.y)(this._delegate,e))}catch(t){throw S(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(f.p)(e))instanceof l.d&&Object(l.cb)(this._delegate,e)}},{key:"set",value:function(e,t){t=y("DocumentReference.set",t);try{return t?Object(l.fb)(this._delegate,e,t):Object(l.fb)(this._delegate,e)}catch(n){throw S(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];try{return 1===arguments.length?Object(l.kb)(this._delegate,e):l.kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(i){throw S(i,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(l.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=C(n),i=N(n,function(t){return new A(e.firestore,new l.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return Object(l.X)(this._delegate,a,i)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.O)(this._delegate):Object(l.M)(this._delegate)).then(function(e){return new A(t.firestore,new l.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(I.getInstance(this.firestore,t)):this._delegate.withConverter(null))}},{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new M(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new l.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new l.d(n._delegate,r,new l.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new l.d(n._delegate,r,t))}}]),e}();function S(e,t,n){return e.message=e.message.replace(t,n),e}function C(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!O(r))return r}}catch(a){n.e(a)}finally{n.f()}return{}}function N(e,t){var n,r,a;return{next:function(e){a.next&&a.next(t(e))},error:null===(n=(a=O(e[0])?e[0]:O(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}var A=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}},{key:"ref",get:function(){return new T(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}}]),e}(),R=function(e){function t(){return Object(u.a)(this,t),Object(a.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(l.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),t}(A),P=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _(t)}return Object(s.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.mb)(t,n,r)))}catch(a){throw S(a,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.Z)(t,n)))}catch(r){throw S(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.T)(t)))}catch(n){throw S(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.U)(t)))}catch(n){throw S(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.jb.apply(void 0,arguments)))}catch(t){throw S(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.ib.apply(void 0,arguments)))}catch(t){throw S(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.J.apply(void 0,arguments)))}catch(t){throw S(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.I.apply(void 0,arguments)))}catch(t){throw S(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(l.bb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.R)(this._delegate):Object(l.P)(this._delegate)).then(function(e){return new L(t.firestore,new l.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=C(n),i=N(n,function(t){return new L(e.firestore,new l.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return Object(l.X)(this._delegate,a,i)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(I.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),D=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new R(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),L=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new D(t._firestore,e)})}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new R(n._firestore,r))})}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}},{key:"query",get:function(){return new P(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map(function(t){return new R(e._firestore,t)})}}]),e}(),M=function(e){function t(e,n){var r;return Object(u.a)(this,t),(r=Object(a.a)(this,Object(i.a)(t).call(this,e,n))).firestore=e,r._delegate=n,r}return Object(o.a)(t,e),Object(s.a)(t,[{key:"doc",value:function(e){try{return new T(this.firestore,void 0===e?Object(l.E)(this._delegate):Object(l.E)(this._delegate,e))}catch(t){throw S(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(l.u)(this._delegate,e).then(function(e){return new T(t.firestore,e)})}},{key:"isEqual",value:function(e){return Object(l.cb)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new t(this.firestore,e?this._delegate.withConverter(I.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new T(this.firestore,e):null}}]),t}(P);function F(e){return Object(l.p)(e,l.d)}var U=function(){function e(){Object(u.a)(this,e);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];this._delegate=Object(r.a)(l.f,n)}return Object(s.a)(e,[{key:"isEqual",value:function(e){return(e=Object(f.p)(e))instanceof l.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(l.o.keyField().canonicalString())}}]),e}(),V=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(l.eb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(l.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=l.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=l.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(l.S)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),z={Firestore:j,GeoPoint:l.h,Timestamp:l.k,Blob:k,Transaction:x,WriteBatch:E,DocumentReference:T,DocumentSnapshot:A,Query:P,QueryDocumentSnapshot:R,QuerySnapshot:L,CollectionReference:M,FieldPath:U,FieldValue:V,setLogLevel:function(e){Object(l.gb)(e)},CACHE_SIZE_UNLIMITED:l.c};!function(e){var t;t=function(e,t){return new j(e,t,new w)},e.INTERNAL.registerComponent(new h.a("firestore-compat",function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},z))),e.registerVersion(v,m)}(c.a)},function(e,t,n){"use strict";var r=n(5);var a=n(19),i=n(60),o=n(16),u=n(0),s=n.n(u);n.d(t,"a",function(){return l});var c=function(e,t,n,r){void 0===r&&(r=!1);var a,i=t[e];if(void 0!==i)return i;if(r){var o=t[(a=e,"default"+(a[0].toUpperCase()+a.slice(1)))];if(void 0!==o)return o;if(n){var u=n[e];if(void 0!==u)return u}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)},l=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var u=(t=e.call.apply(e,[this].concat(a))||this).constructor,s=u.autoControlledProps,l=u.getAutoControlledStateFromProps,f=Object(o.a)(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),"getInitialAutoControlledState",t.props)||{},h=s.reduce(function(e,n){return e[n]=c(n,t.props,f,!0),e},{});return t.state=Object(r.a)({},f,h,{autoControlledProps:s,getAutoControlledStateFromProps:l}),t}return Object(a.a)(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,a=t.getAutoControlledStateFromProps,o=n.reduce(function(t,n){return!Object(i.a)(e[n])&&(t[n]=e[n]),t},{});if(a){var u=a(e,Object(r.a)({},t,o),t);return Object(r.a)({},o,u)}return o},t.getAutoControlledStateFromProps=function(){return null},t}(s.a.Component)},function(e,t,n){"use strict";var r=n(130),a=n(43),i=n(39);var o=function(e,t,n,r,a){return a(e,function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)}),n},u=n(24);t.a=function(e,t,n){var s=Object(u.a)(e)?r.a:o,c=arguments.length<3;return s(e,Object(i.a)(t,4),n,c,a.a)}},function(e,t,n){"use strict";var r=n(147);var a=function(e){return e&&e.length?e[0]:void 0},i=n(16),o=n(20),u=n(111);t.a=function(e,t){if(Object(u.a)([t,e],o.a))return!1;if(t.target&&(Object(i.a)(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return Object(i.a)(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,s=t.clientY;if(Object(u.a)([n,s],o.a))return!1;var c=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!c||!c.length)return!1;var l=a(c),f=l.top,h=l.bottom,d=l.left,p=l.right;return!Object(u.a)([f,h,d,p],o.a)&&Object(r.a)(s,f,h+.001)&&Object(r.a)(n,d,p+.001)}},function(e,t,n){"use strict";var r=Math.max,a=Math.min;var i=function(e,t,n){return e>=a(t,n)&&e<r(t,n)},o=n(126),u=n(140);t.a=function(e,t,n){return t=Object(o.a)(t),void 0===n?(n=t,t=0):n=Object(o.a)(n),e=Object(u.a)(e),i(e,t,n)}},,function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){"use strict";var r=n(118),a=n(80),i=n(129),o=n(58),u=n(91),s=n(77),c=200;t.a=function(e,t,n,l){var f=-1,h=a.a,d=!0,p=e.length,v=[],m=t.length;if(!p)return v;n&&(t=Object(o.a)(t,Object(u.a)(n))),l?(h=i.a,d=!1):t.length>=c&&(h=s.a,d=!1,t=new r.a(t));e:for(;++f<p;){var y=e[f],b=null==n?y:n(y);if(y=l||0!==y?y:0,d&&b===b){for(var g=m;g--;)if(t[g]===b)continue e;v.push(y)}else h(t,b,l)||v.push(y)}return v}},function(e,t,n){"use strict";var r=n(96),a=n(43);var i=function(e,t){var n=[];return Object(a.a)(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n},o=n(39),u=n(24);t.a=function(e,t){return(Object(u.a)(e)?r.a:i)(e,Object(o.a)(t,3))}},function(e,t,n){"use strict";var r=n(118),a=n(80),i=n(129),o=n(77),u=n(63),s=n(81),c=n(78),l=u.a&&1/Object(c.a)(new u.a([,-0]))[1]==1/0?function(e){return new u.a(e)}:s.a,f=200;t.a=function(e,t,n){var u=-1,s=a.a,h=e.length,d=!0,p=[],v=p;if(n)d=!1,s=i.a;else if(h>=f){var m=t?null:l(e);if(m)return Object(c.a)(m);d=!1,s=o.a,v=new r.a}else v=t?[]:p;e:for(;++u<h;){var y=e[u],b=t?t(y):y;if(y=n||0!==y?y:0,d&&b===b){for(var g=v.length;g--;)if(v[g]===b)continue e;t&&v.push(b),p.push(y)}else s(v,b,n)||(v!==p&&v.push(b),p.push(y))}return p}},,,,function(e,t,n){"use strict";n(15)},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";e.exports=n(186)},,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),a=n(175);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function g(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,u=i.length-1;1<=o&&0<=u&&a[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(a[o]!==i[u]){if(1!==o||1!==u)do{if(o--,0>--u||a[o]!==i[u]){var s="\n"+a[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case j:return"Fragment";case w:return"Portal";case x:return"Profiler";case _:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case I:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case T:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case N:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return e(t(n))}catch(r){}}return null}(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&g(e,"checked",t,!1)}function J(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Z(e,t.type,n):t.hasOwnProperty("defaultValue")&&Z(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Z(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ee=Array.isArray;function te(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(ee(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,ce,le=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach(function(e){de.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var me=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ge=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Oe=null,we=null,je=null;function _e(e){if(e=ha(e)){if("function"!==typeof Oe)throw Error(i(280));var t=e.stateNode;t&&(t=pa(t),Oe(e.stateNode,e.type,t))}}function xe(e){we?je?je.push(e):je=[e]:we=e}function Ee(){if(we){var e=we,t=je;if(je=we=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ie(e,t){return e(t)}function Te(){}var Se=!1;function Ce(e,t,n){if(Se)return e(t,n);Se=!0;try{return Ie(e,t,n)}finally{Se=!1,(null!==we||null!==je)&&(Te(),Ee())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=pa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ae=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Ae=!1}var Pe=!1,De=null,Le=!1,Me=null,Fe={onError:function(e){Pe=!0,De=e}};function Ue(e,t,n,r,a,i,o,u,s){Pe=!1,De=null,function(e,t,n,r,a,i,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(Ve(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Be(a),e;if(o===r)return Be(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var u=!1,s=a.child;s;){if(s===n){u=!0,n=a,r=o;break}if(s===r){u=!0,r=a,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=a;break}if(s===r){u=!0,r=o,n=a;break}s=s.sibling}if(!u)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var Ge=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,He=a.unstable_shouldYield,We=a.unstable_requestPaint,Qe=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,Je=a.unstable_UserBlockingPriority,Xe=a.unstable_NormalPriority,Ze=a.unstable_LowPriority,et=a.unstable_IdlePriority,tt=null,nt=null;var rt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/it|0)|0},at=Math.log,it=Math.LN2;var ot=64,ut=4194304;function st(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~a;0!==u?r=st(u):0!==(i&=o)&&(r=st(i))}else 0!==(o=n&~a)?r=st(o):0!==i&&(r=st(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-rt(t)),r|=e[n],t&=~a;return r}function lt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ot;return 0===(4194240&(ot<<=1))&&(ot=64),e}function dt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var mt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,gt,kt,Ot,wt,jt=!1,_t=[],xt=null,Et=null,It=null,Tt=new Map,St=new Map,Ct=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function Rt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ha(t))&&gt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Pt(e){var t=fa(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void wt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ha(n))&&gt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ge=r,n.target.dispatchEvent(r),ge=null,t.shift()}return!0}function Lt(e,t,n){Dt(e)&&n.delete(t)}function Mt(){jt=!1,null!==xt&&Dt(xt)&&(xt=null),null!==Et&&Dt(Et)&&(Et=null),null!==It&&Dt(It)&&(It=null),Tt.forEach(Lt),St.forEach(Lt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<_t.length){Ft(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Ft(xt,e),null!==Et&&Ft(Et,e),null!==It&&Ft(It,e),Tt.forEach(t),St.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Pt(n),null===n.blockedOn&&Ct.shift()}var Vt=k.ReactCurrentBatchConfig,zt=!0;function Bt(e,t,n,r){var a=mt,i=Vt.transition;Vt.transition=null;try{mt=1,Gt(e,t,n,r)}finally{mt=a,Vt.transition=i}}function qt(e,t,n,r){var a=mt,i=Vt.transition;Vt.transition=null;try{mt=4,Gt(e,t,n,r)}finally{mt=a,Vt.transition=i}}function Gt(e,t,n,r){if(zt){var a=Ht(e,t,n,r);if(null===a)Mr(e,t,r,Kt,n),At(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return xt=Rt(xt,e,t,n,r,a),!0;case"dragenter":return Et=Rt(Et,e,t,n,r,a),!0;case"mouseover":return It=Rt(It,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Tt.set(i,Rt(Tt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,St.set(i,Rt(St.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==a;){var i=ha(a);if(null!==i&&bt(i),null===(i=Ht(e,t,n,r))&&Mr(e,t,r,Kt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Mr(e,t,r,null,n)}}var Kt=null;function Ht(e,t,n,r){if(Kt=null,null!==(e=fa(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Wt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case $e:return 1;case Je:return 4;case Xe:case Ze:return 16;case et:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,$t=null;function Jt(){if($t)return $t;var e,t,n=Yt,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Zt:en,this.isPropagationStopped=en,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var nn,rn,an,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=tn(on),sn=M({},on,{view:0,detail:0}),cn=tn(sn),ln=M({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(nn=e.screenX-an.screenX,rn=e.screenY-an.screenY):rn=nn=0,an=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),fn=tn(ln),hn=tn(M({},ln,{dataTransfer:0})),dn=tn(M({},sn,{relatedTarget:0})),pn=tn(M({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=tn(M({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),mn=tn(M({},on,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function On(){return kn}var wn=tn(M({},sn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),jn=tn(M({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=tn(M({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),xn=tn(M({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=tn(M({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),In=[9,13,27,32],Tn=l&&"CompositionEvent"in window,Sn=null;l&&"documentMode"in document&&(Sn=document.documentMode);var Cn=l&&"TextEvent"in window&&!Sn,Nn=l&&(!Tn||Sn&&8<Sn&&11>=Sn),An=String.fromCharCode(32),Rn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Un(e,t,n,r){xe(r),0<(t=Ur(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,zn=null;function Bn(e){Nr(e,0)}function qn(e){if(H(da(e)))return e}function Gn(e,t){if("change"===e)return t}var Kn=!1;if(l){var Hn;if(l){var Wn="oninput"in document;if(!Wn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Wn="function"===typeof Qn.oninput}Hn=Wn}else Hn=!1;Kn=Hn&&(!document.documentMode||9<document.documentMode)}function Yn(){Vn&&(Vn.detachEvent("onpropertychange",$n),zn=Vn=null)}function $n(e){if("value"===e.propertyName&&qn(zn)){var t=[];Un(t,zn,e,ke(e)),Ce(Bn,t)}}function Jn(e,t,n){"focusin"===e?(Yn(),zn=n,(Vn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Yn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(zn)}function Zn(e,t){if("click"===e)return qn(t)}function er(e,t){if("input"===e||"change"===e)return qn(t)}var tr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function nr(e,t){if(tr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!f.call(t,a)||!tr(e[a],t[a]))return!1}return!0}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ar(e,t){var n,r=rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rr(r)}}function ir(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ur(e){var t=ir(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&or(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ar(n,i);var o=ar(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sr=l&&"documentMode"in document&&11>=document.documentMode,cr=null,lr=null,fr=null,hr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;hr||null==cr||cr!==W(r)||("selectionStart"in(r=cr)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},fr&&nr(fr,r)||(fr=r,0<(r=Ur(lr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},mr={},yr={};function br(e){if(mr[e])return mr[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in yr)return mr[e]=n[t];return e}l&&(yr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var gr=br("animationend"),kr=br("animationiteration"),Or=br("animationstart"),wr=br("transitionend"),jr=new Map,_r="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){jr.set(e,t),s(t,[e])}for(var Er=0;Er<_r.length;Er++){var Ir=_r[Er];xr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}xr(gr,"onAnimationEnd"),xr(kr,"onAnimationIteration"),xr(Or,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(wr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,u,s,c){if(Ue.apply(this,arguments),Pe){if(!Pe)throw Error(i(198));var l=De;Pe=!1,De=null,Le||(Le=!0,Me=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==i&&a.isPropagationStopped())break e;Cr(a,u,c),i=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==i&&a.isPropagationStopped())break e;Cr(a,u,c),i=s}}}if(Le)throw e=Me,Le=!1,Me=null,e}function Ar(e,t){var n=t[sa];void 0===n&&(n=t[sa]=new Set);var r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}function Rr(e,t,n){var r=0;t&&(r|=4),Lr(n,e,r,t)}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[Pr]){e[Pr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Sr.has(t)||Rr(t,!1,e),Rr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Pr]||(t[Pr]=!0,Rr("selectionchange",!1,t))}}function Lr(e,t,n,r){switch(Wt(t)){case 1:var a=Bt;break;case 4:a=qt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===a||8===u.nodeType&&u.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;o=o.return}for(;null!==u;){if(null===(o=fa(u)))return;if(5===(s=o.tag)||6===s){r=i=o;continue e}u=u.parentNode}}r=r.return}Ce(function(){var r=i,a=ke(n),o=[];e:{var u=jr.get(e);if(void 0!==u){var s=un,c=e;switch(e){case"keypress":if(0===Xt(n))break e;case"keydown":case"keyup":s=wn;break;case"focusin":c="focus",s=dn;break;case"focusout":c="blur",s=dn;break;case"beforeblur":case"afterblur":s=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=_n;break;case gr:case kr:case Or:s=pn;break;case wr:s=xn;break;case"scroll":s=cn;break;case"wheel":s=En;break;case"copy":case"cut":case"paste":s=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=jn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Fr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,a),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ge||!(c=n.relatedTarget||n.fromElement)||!fa(c)&&!c[ua])&&(s||u)&&(u=a.window===a?a:(u=a.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?fa(c):null)&&(c!==(f=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=fn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=jn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:da(s),d=null==c?u:da(c),(u=new l(v,p+"leave",s,n,a)).target=f,u.relatedTarget=d,v=null,fa(a)===r&&((l=new l(h,p+"enter",c,n,a)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Vr(d))p++;for(d=0,v=h;v;v=Vr(v))d++;for(;0<p-d;)l=Vr(l),p--;for(;0<d-p;)h=Vr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Vr(l),h=Vr(h)}l=null}else l=null;null!==s&&zr(o,u,s,l,!1),null!==c&&null!==f&&zr(o,f,c,l,!0)}if("select"===(s=(u=r?da(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Gn;else if(Fn(u))if(Kn)m=er;else{m=Xn;var y=Jn}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=Zn);switch(m&&(m=m(e,r))?Un(o,m,n,a):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&Z(u,"number",u.value)),y=r?da(r):window,e){case"focusin":(Fn(y)||"true"===y.contentEditable)&&(cr=y,lr=r,fr=null);break;case"focusout":fr=lr=cr=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":hr=!1,dr(o,n,a);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":dr(o,n,a)}var b;if(Tn)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Ln?Pn(e,n)&&(g="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(g="onCompositionStart");g&&(Nn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==g?"onCompositionEnd"===g&&Ln&&(b=Jt()):(Yt="value"in(Qt=a)?Qt.value:Qt.textContent,Ln=!0)),0<(y=Ur(r,g)).length&&(g=new mn(g,e,null,n,a),o.push({event:g,listeners:y}),b?g.data=b:null!==(b=Dn(n))&&(g.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(Rn=!0,An);case"textInput":return(e=t.data)===An&&Rn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!Tn&&Pn(e,t)?(e=Jt(),$t=Yt=Qt=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(a=new mn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=b))}Nr(o,t)})}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ne(e,n))&&r.unshift(Fr(e,i,a)),null!=(i=Ne(e,t))&&r.push(Fr(e,i,a))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,a?null!=(s=Ne(n,i))&&o.unshift(Fr(n,s,u)):a||null!=(s=Ne(n,i))&&o.push(Fr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Br=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(Br,"\n").replace(qr,"")}function Kr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(i(425))}function Hr(){}var Wr=null,Qr=null;function Yr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"===typeof setTimeout?setTimeout:void 0,Jr="function"===typeof clearTimeout?clearTimeout:void 0,Xr="function"===typeof Promise?Promise:void 0,Zr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Xr?function(e){return Xr.resolve(null).then(e).catch(ea)}:$r;function ea(e){setTimeout(function(){throw e})}function ta(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function na(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ra(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var aa=Math.random().toString(36).slice(2),ia="__reactFiber$"+aa,oa="__reactProps$"+aa,ua="__reactContainer$"+aa,sa="__reactEvents$"+aa,ca="__reactListeners$"+aa,la="__reactHandles$"+aa;function fa(e){var t=e[ia];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ua]||n[ia]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ra(e);null!==e;){if(n=e[ia])return n;e=ra(e)}return t}n=(e=n).parentNode}return null}function ha(e){return!(e=e[ia]||e[ua])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function da(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function pa(e){return e[oa]||null}var va=[],ma=-1;function ya(e){return{current:e}}function ba(e){0>ma||(e.current=va[ma],va[ma]=null,ma--)}function ga(e,t){va[++ma]=e.current,e.current=t}var ka={},Oa=ya(ka),wa=ya(!1),ja=ka;function _a(e,t){var n=e.type.contextTypes;if(!n)return ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ea(){ba(wa),ba(Oa)}function Ia(e,t,n){if(Oa.current!==ka)throw Error(i(168));ga(Oa,t),ga(wa,n)}function Ta(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,B(e)||"Unknown",a));return M({},n,r)}function Sa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,ja=Oa.current,ga(Oa,e),ga(wa,wa.current),!0}function Ca(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ta(e,t,ja),r.__reactInternalMemoizedMergedChildContext=e,ba(wa),ba(Oa),ga(Oa,e)):ba(wa),ga(wa,n)}var Na=null,Aa=!1,Ra=!1;function Pa(e){null===Na?Na=[e]:Na.push(e)}function Da(){if(!Ra&&null!==Na){Ra=!0;var e=0,t=mt;try{var n=Na;for(mt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Na=null,Aa=!1}catch(a){throw null!==Na&&(Na=Na.slice(e+1)),Ge($e,Da),a}finally{mt=t,Ra=!1}}return null}var La=[],Ma=0,Fa=null,Ua=0,Va=[],za=0,Ba=null,qa=1,Ga="";function Ka(e,t){La[Ma++]=Ua,La[Ma++]=Fa,Fa=e,Ua=t}function Ha(e,t,n){Va[za++]=qa,Va[za++]=Ga,Va[za++]=Ba,Ba=e;var r=qa;e=Ga;var a=32-rt(r)-1;r&=~(1<<a),n+=1;var i=32-rt(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,qa=1<<32-rt(t)+a|n<<a|r,Ga=i+e}else qa=1<<i|n<<a|r,Ga=e}function Wa(e){null!==e.return&&(Ka(e,1),Ha(e,1,0))}function Qa(e){for(;e===Fa;)Fa=La[--Ma],La[Ma]=null,Ua=La[--Ma],La[Ma]=null;for(;e===Ba;)Ba=Va[--za],Va[za]=null,Ga=Va[--za],Va[za]=null,qa=Va[--za],Va[za]=null}var Ya=null,$a=null,Ja=!1,Xa=null;function Za(e,t){var n=vc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ei(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ya=e,$a=na(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ya=e,$a=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ba?{id:qa,overflow:Ga}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=vc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ya=e,$a=null,!0);default:return!1}}function ti(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ni(e){if(Ja){var t=$a;if(t){var n=t;if(!ei(e,t)){if(ti(e))throw Error(i(418));t=na(n.nextSibling);var r=Ya;t&&ei(e,t)?Za(r,n):(e.flags=-4097&e.flags|2,Ja=!1,Ya=e)}}else{if(ti(e))throw Error(i(418));e.flags=-4097&e.flags|2,Ja=!1,Ya=e}}}function ri(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ya=e}function ai(e){if(e!==Ya)return!1;if(!Ja)return ri(e),Ja=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Yr(e.type,e.memoizedProps)),t&&(t=$a)){if(ti(e))throw ii(),Error(i(418));for(;t;)Za(e,t),t=na(t.nextSibling)}if(ri(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){$a=na(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}$a=null}}else $a=Ya?na(e.stateNode.nextSibling):null;return!0}function ii(){for(var e=$a;e;)e=na(e.nextSibling)}function oi(){$a=Ya=null,Ja=!1}function ui(e){null===Xa?Xa=[e]:Xa.push(e)}var si=k.ReactCurrentBatchConfig;function ci(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var li=ya(null),fi=null,hi=null,di=null;function pi(){di=hi=fi=null}function vi(e){var t=li.current;ba(li),e._currentValue=t}function mi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yi(e,t){fi=e,di=hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(lu=!0),e.firstContext=null)}function bi(e){var t=e._currentValue;if(di!==e)if(e={context:e,memoizedValue:t,next:null},null===hi){if(null===fi)throw Error(i(308));hi=e,fi.dependencies={lanes:0,firstContext:e}}else hi=hi.next=e;return t}var gi=null;function ki(e){null===gi?gi=[e]:gi.push(e)}function Oi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,ki(t)):(n.next=a.next,a.next=n),t.interleaved=n,wi(e,r)}function wi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ji=!1;function _i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ei(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ms)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,wi(e,n)}return null===(a=r.interleaved)?(t.next=t,ki(r)):(t.next=a.next,a.next=t),r.interleaved=t,wi(e,n)}function Ti(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Si(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ci(e,t,n,r){var a=e.updateQueue;ji=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?i=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==i){var f=a.baseState;for(o=0,l=c=s=null,u=i;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:ji=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=a.shared.pending))break;u=(h=u).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===l&&(s=f),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=l,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);_s|=o,e.lanes=o,e.memoizedState=f}}function Ni(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Ai=(new r.Component).refs;function Ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Pi={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),a=qs(e),i=Ei(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ii(e,i,a))&&(Gs(t,e,a,r),Ti(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),a=qs(e),i=Ei(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ii(e,i,a))&&(Gs(t,e,a,r),Ti(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),a=Ei(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ii(e,a,r))&&(Gs(t,e,r,n),Ti(t,e,r))}};function Di(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!nr(n,r)||!nr(a,i))}function Li(e,t,n){var r=!1,a=ka,i=t.contextType;return"object"===typeof i&&null!==i?i=bi(i):(a=xa(t)?ja:Oa.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?_a(e,a):ka),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Pi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function Fi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Ai,_i(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=bi(i):(i=xa(t)?ja:Oa.current,a.context=_a(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Ri(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Pi.enqueueReplaceState(a,a.state,null),Ci(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Ui(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=a.refs;t===Ai&&(t=a.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zi(e){return(0,e._init)(e._payload)}function Bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=yc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Oc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===j?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===A&&zi(i)===t.type)?((r=a(t,n.props)).ref=Ui(e,t,n),r.return=e,r):((r=bc(n.type,n.key,n.props,null,e.mode,r)).ref=Ui(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=wc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=gc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case O:return(n=bc(t.type,t.key,t.props,null,e.mode,n)).ref=Ui(e,null,t),n.return=e,n;case w:return(t=wc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(ee(t)||D(t))return(t=gc(t,e.mode,n,null)).return=e,t;Vi(e,t)}return null}function d(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case O:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?l(e,t,n,r):null;case A:return d(e,t,(a=n._init)(n._payload),r)}if(ee(n)||D(n))return null!==a?null:f(e,t,n,r,null);Vi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case O:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case A:return p(e,t,n,(0,r._init)(r._payload),a)}if(ee(r)||D(r))return f(t,e=e.get(n)||null,r,a,null);Vi(t,r)}return null}function v(a,i,u,s){for(var c=null,l=null,f=i,v=i=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(a,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(a,f),i=o(y,i,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(a,f),Ja&&Ka(a,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(a,u[v],s))&&(i=o(f,i,v),null===l?c=f:l.sibling=f,l=f);return Ja&&Ka(a,v),c}for(f=r(a,f);v<u.length;v++)null!==(m=p(f,a,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),i=o(m,i,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach(function(e){return t(a,e)}),Ja&&Ka(a,v),c}function m(a,u,s,c){var l=D(s);if("function"!==typeof l)throw Error(i(150));if(null==(s=l.call(s)))throw Error(i(151));for(var f=l=null,v=u,m=u=0,y=null,b=s.next();null!==v&&!b.done;m++,b=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var g=d(a,v,b.value,c);if(null===g){null===v&&(v=y);break}e&&v&&null===g.alternate&&t(a,v),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g,v=y}if(b.done)return n(a,v),Ja&&Ka(a,m),l;if(null===v){for(;!b.done;m++,b=s.next())null!==(b=h(a,b.value,c))&&(u=o(b,u,m),null===f?l=b:f.sibling=b,f=b);return Ja&&Ka(a,m),l}for(v=r(a,v);!b.done;m++,b=s.next())null!==(b=p(v,a,m,b.value,c))&&(e&&null!==b.alternate&&v.delete(null===b.key?m:b.key),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b);return e&&v.forEach(function(e){return t(a,e)}),Ja&&Ka(a,m),l}return function e(r,i,o,s){if("object"===typeof o&&null!==o&&o.type===j&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case O:e:{for(var c=o.key,l=i;null!==l;){if(l.key===c){if((c=o.type)===j){if(7===l.tag){n(r,l.sibling),(i=a(l,o.props.children)).return=r,r=i;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&zi(c)===l.type){n(r,l.sibling),(i=a(l,o.props)).ref=Ui(r,l,o),i.return=r,r=i;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===j?((i=gc(o.props.children,r.mode,s,o.key)).return=r,r=i):((s=bc(o.type,o.key,o.props,null,r.mode,s)).ref=Ui(r,i,o),s.return=r,r=s)}return u(r);case w:e:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=wc(o,r.mode,s)).return=r,r=i}return u(r);case A:return e(r,i,(l=o._init)(o._payload),s)}if(ee(o))return v(r,i,o,s);if(D(o))return m(r,i,o,s);Vi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Oc(o,r.mode,s)).return=r,r=i),u(r)):n(r,i)}}var qi=Bi(!0),Gi=Bi(!1),Ki={},Hi=ya(Ki),Wi=ya(Ki),Qi=ya(Ki);function Yi(e){if(e===Ki)throw Error(i(174));return e}function $i(e,t){switch(ga(Qi,t),ga(Wi,e),ga(Hi,Ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ba(Hi),ga(Hi,t)}function Ji(){ba(Hi),ba(Wi),ba(Qi)}function Xi(e){Yi(Qi.current);var t=Yi(Hi.current),n=ue(t,e.type);t!==n&&(ga(Wi,e),ga(Hi,n))}function Zi(e){Wi.current===e&&(ba(Hi),ba(Wi))}var eo=ya(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var ao=k.ReactCurrentDispatcher,io=k.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,a,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ao.current=null===e||null===e.memoizedState?Jo:Xo,e=n(r,a),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(i(301));o+=1,co=so=null,t.updateQueue=null,ao.current=Zo,e=n(r,a)}while(fo)}if(ao.current=$o,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(i(300));return e}function bo(){var e=0!==ho;return ho=0,e}function go(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function ko(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function Oo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=ko(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=so,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var u=a.next;a.next=o.next,o.next=u}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,_s|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,tr(r,t.memoizedState)||(lu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,uo.lanes|=o,_s|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jo(e){var t=ko(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var u=a=a.next;do{o=e(o,u.action),u=u.next}while(u!==a);tr(o,t.memoizedState)||(lu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function _o(){}function xo(e,t){var n=uo,r=ko(),a=t(),o=!tr(r.memoizedState,a);if(o&&(r.memoizedState=a,lu=!0),r=r.queue,Mo(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ao(9,Io.bind(null,n,r,a,t),void 0,null),null===ys)throw Error(i(349));0!==(30&oo)||Eo(n,t,a)}return a}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,So(t)&&Co(e)}function To(e,t,n){return n(function(){So(t)&&Co(e)})}function So(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch(r){return!0}}function Co(e){var t=wi(e,1);null!==t&&Gs(t,e,1,-1)}function No(e){var t=go();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=function(e,t,n){var r=qs(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))Qo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=i(o,n);if(a.hasEagerState=!0,a.eagerState=u,tr(u,o)){var s=t.interleaved;return null===s?(a.next=a,ki(t)):(a.next=s.next,s.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Oi(e,t,a,r))&&(a=Bs(),Gs(n,e,r,a),Yo(n,t,r))}}.bind(null,uo,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return ko().memoizedState}function Po(e,t,n,r){var a=go();uo.flags|=e,a.memoizedState=Ao(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var a=ko();r=void 0===r?null:r;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==r&&mo(r,o.deps))return void(a.memoizedState=Ao(t,n,i,r))}uo.flags|=e,a.memoizedState=Ao(1|t,n,i,r)}function Lo(e,t){return Po(8390656,8,e,t)}function Mo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function Uo(e,t){return Do(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Vo.bind(null,t,e),n)}function Bo(){}function qo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&oo)?(e.baseState&&(e.baseState=!1,lu=!0),e.memoizedState=n):(tr(n,t)||(n=ht(),uo.lanes|=n,_s|=n,e.baseState=!0),t)}function Ho(){return ko().memoizedState}function Wo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Qo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var $o={readContext:bi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Jo={readContext:bi,useCallback:function(e,t){return go().memoizedState=[e,void 0===t?null:t],e},useContext:bi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=go();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=go();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=function(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wo(e)?Qo(t,n):null!==(n=Oi(e,t,n,r))&&(Gs(n,e,r,Bs()),Yo(n,t,r))}.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},go().memoizedState=e},useState:No,useDebugValue:Bo,useDeferredValue:function(e){return go().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=function(e,t){var n=mt;mt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{mt=n,io.transition=r}}.bind(null,e[1]),go().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,a=go();if(Ja){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===ys)throw Error(i(349));0!==(30&oo)||Eo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Lo(To.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=go(),t=ys.identifierPrefix;if(Ja){var n=Ga;t=":"+t+"R"+(n=(qa&~(1<<32-rt(qa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xo={readContext:bi,useCallback:qo,useContext:bi,useEffect:Mo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:Go,useReducer:wo,useRef:Ro,useState:function(){return wo(Oo)},useDebugValue:Bo,useDeferredValue:function(e){return Ko(ko(),so.memoizedState,e)},useTransition:function(){return[wo(Oo)[0],ko().memoizedState]},useMutableSource:_o,useSyncExternalStore:xo,useId:Ho,unstable_isNewReconciler:!1},Zo={readContext:bi,useCallback:qo,useContext:bi,useEffect:Mo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:Go,useReducer:jo,useRef:Ro,useState:function(){return jo(Oo)},useDebugValue:Bo,useDeferredValue:function(e){var t=ko();return null===so?t.memoizedState=e:Ko(t,so.memoizedState,e)},useTransition:function(){return[jo(Oo)[0],ko().memoizedState]},useMutableSource:_o,useSyncExternalStore:xo,useId:Ho,unstable_isNewReconciler:!1};function eu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function tu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function nu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ru="function"===typeof WeakMap?WeakMap:Map;function au(e,t,n){(n=Ei(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){As||(As=!0,Rs=r),nu(0,t)},n}function iu(e,t,n){(n=Ei(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){nu(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){nu(0,t),"function"!==typeof r&&(null===Ps?Ps=new Set([this]):Ps.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ou(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ru;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,ys===e&&(gs&n)===n&&(4===ws||3===ws&&(130023424&gs)===gs&&500>Qe()-Ss?Zs(e,0):Es|=n),Ks(e,t)}.bind(null,e,t,n),t.then(e,e))}function uu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function su(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ei(-1,1)).tag=2,Ii(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var cu=k.ReactCurrentOwner,lu=!1;function fu(e,t,n,r){t.child=null===e?Gi(t,null,n,r):qi(t,e.child,n,r)}function hu(e,t,n,r,a){n=n.render;var i=t.ref;return yi(t,a),r=yo(e,t,n,r,i,a),n=bo(),null===e||lu?(Ja&&n&&Wa(t),t.flags|=1,fu(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Du(e,t,a))}function du(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||mc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=bc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,pu(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:nr)(o,r)&&e.ref===t.ref)return Du(e,t,a)}return t.flags|=1,(e=yc(i,r)).ref=t.ref,e.return=t,t.child=e}function pu(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(nr(i,r)&&e.ref===t.ref){if(lu=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Du(e,t,a);0!==(131072&e.flags)&&(lu=!0)}}return yu(e,t,n,r,a)}function vu(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ga(Os,ks),ks|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ga(Os,ks),ks|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,ga(Os,ks),ks|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ga(Os,ks),ks|=r;return fu(e,t,a,n),t.child}function mu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yu(e,t,n,r,a){var i=xa(n)?ja:Oa.current;return i=_a(t,i),yi(t,a),n=yo(e,t,n,r,i,a),r=bo(),null===e||lu?(Ja&&r&&Wa(t),t.flags|=1,fu(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Du(e,t,a))}function bu(e,t,n,r,a){if(xa(n)){var i=!0;Sa(t)}else i=!1;if(yi(t,a),null===t.stateNode)Pu(e,t),Li(t,n,r),Fi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=bi(c):c=_a(t,c=xa(n)?ja:Oa.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Mi(t,o,r,c),ji=!1;var h=t.memoizedState;o.state=h,Ci(t,r,o,a),s=t.memoizedState,u!==r||h!==s||wa.current||ji?("function"===typeof l&&(Ri(t,n,l,r),s=t.memoizedState),(u=ji||Di(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,xi(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ci(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=bi(s):s=_a(t,s=xa(n)?ja:Oa.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Mi(t,o,r,s),ji=!1,h=t.memoizedState,o.state=h,Ci(t,r,o,a);var p=t.memoizedState;u!==f||h!==p||wa.current||ji?("function"===typeof d&&(Ri(t,n,d,r),p=t.memoizedState),(c=ji||Di(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return gu(e,t,n,r,i,a)}function gu(e,t,n,r,a,i){mu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Ca(t,n,!1),Du(e,t,i);r=t.stateNode,cu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qi(t,e.child,null,i),t.child=qi(t,null,u,i)):fu(e,t,u,i),t.memoizedState=r.state,a&&Ca(t,n,!0),t.child}function ku(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),$i(e,t.containerInfo)}function Ou(e,t,n,r,a){return oi(),ui(a),t.flags|=256,fu(e,t,n,r),t.child}var wu,ju,_u,xu,Eu={dehydrated:null,treeContext:null,retryLane:0};function Iu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tu(e,t,n){var r,a=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ga(eo,1&o),null===e)return ni(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=a.children,e=a.fallback,u?(a=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&a)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=kc(s,a,0,null),e=gc(e,a,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Iu(n),t.memoizedState=Eu,e):Su(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,u){if(n)return 256&t.flags?(t.flags&=-257,r=tu(Error(i(422))),Cu(e,t,u,r)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=kc({mode:"visible",children:r.children},a,0,null),(o=gc(o,a,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&qi(t,e.child,null,u),t.child.memoizedState=Iu(u),t.memoizedState=Eu,o);if(0===(1&t.mode))return Cu(e,t,u,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var s=r.dgst;return r=s,o=Error(i(419)),r=tu(o,r,void 0),Cu(e,t,u,r)}if(s=0!==(u&e.childLanes),lu||s){if(null!==(r=ys)){switch(u&-u){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|u))?0:a)&&a!==o.retryLane&&(o.retryLane=a,wi(e,a),Gs(r,e,a,-1))}return nc(),r=tu(Error(i(421))),Cu(e,t,u,r)}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,$a=na(a.nextSibling),Ya=t,Ja=!0,Xa=null,null!==e&&(Va[za++]=qa,Va[za++]=Ga,Va[za++]=Ba,qa=e.id,Ga=e.overflow,Ba=t),(t=Su(t,r.children)).flags|=4096,t)}(e,t,s,a,r,o,n);if(u){u=a.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&s)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=yc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=yc(r,u):(u=gc(u,s,n,null)).flags|=2,u.return=t,a.return=t,a.sibling=u,t.child=a,a=u,u=t.child,s=null===(s=e.child.memoizedState)?Iu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Eu,a}return e=(u=e.child).sibling,a=yc(u,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Su(e,t){return(t=kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Cu(e,t,n,r){return null!==r&&ui(r),qi(t,e.child,null,n),(e=Su(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Nu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),mi(e.return,t,n)}function Au(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Ru(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(fu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Nu(e,n,t);else if(19===e.tag)Nu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ga(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Au(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===to(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Au(t,!0,n,null,i);break;case"together":Au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Du(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_s|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=yc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=yc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Lu(e,t){if(!Ja)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fu(e,t,n){var r=t.pendingProps;switch(Qa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mu(t),null;case 1:return xa(t.type)&&Ea(),Mu(t),null;case 3:return r=t.stateNode,Ji(),ba(wa),ba(Oa),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ai(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xa&&(Ws(Xa),Xa=null))),ju(e,t),Mu(t),null;case 5:Zi(t);var a=Yi(Qi.current);if(n=t.type,null!==e&&null!=t.stateNode)_u(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Mu(t),null}if(e=Yi(Hi.current),ai(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ia]=t,r[oa]=o,e=0!==(1&t.mode),n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":Y(r,o),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ar("invalid",r);break;case"textarea":re(r,o),Ar("invalid",r)}for(var s in ye(n,o),a=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,c,e),a=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ar("scroll",r)}switch(n){case"input":K(r),X(r,o,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Hr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ia]=t,e[oa]=r,wu(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":Y(e,r),a=Q(e,r),Ar("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":re(e,r),a=ne(e,r),Ar("invalid",e);break;default:a=r}for(o in ye(n,a),c=a)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ve(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&le(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ar("scroll",e):null!=l&&g(e,o,l,s))}switch(n){case"input":K(e),X(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?te(e,!!r.multiple,o,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Hr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Mu(t),null;case 6:if(e&&null!=t.stateNode)xu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Qi.current),Yi(Hi.current),ai(t)){if(r=t.stateNode,n=t.memoizedProps,r[ia]=t,(o=r.nodeValue!==n)&&null!==(e=Ya))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ia]=t,t.stateNode=r}return Mu(t),null;case 13:if(ba(eo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Ja&&null!==$a&&0!==(1&t.mode)&&0===(128&t.flags))ii(),oi(),t.flags|=98560,o=!1;else if(o=ai(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ia]=t}else oi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Mu(t),o=!1}else null!==Xa&&(Ws(Xa),Xa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===ws&&(ws=3):nc())),null!==t.updateQueue&&(t.flags|=4),Mu(t),null);case 4:return Ji(),ju(e,t),null===e&&Dr(t.stateNode.containerInfo),Mu(t),null;case 10:return vi(t.type._context),Mu(t),null;case 17:return xa(t.type)&&Ea(),Mu(t),null;case 19:if(ba(eo),null===(o=t.memoizedState))return Mu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Lu(o,!1);else{if(0!==ws||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,Lu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ga(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Cs&&(t.flags|=128,r=!0,Lu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Lu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Ja)return Mu(t),null}else 2*Qe()-o.renderingStartTime>Cs&&1073741824!==n&&(t.flags|=128,r=!0,Lu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=eo.current,ga(eo,r?1&n|2:1&n),t):(Mu(t),null);case 22:case 23:return Xs(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ks)&&(Mu(t),6&t.subtreeFlags&&(t.flags|=8192)):Mu(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Uu(e,t){switch(Qa(t),t.tag){case 1:return xa(t.type)&&Ea(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),ba(wa),ba(Oa),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(ba(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));oi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ba(eo),null;case 4:return Ji(),null;case 10:return vi(t.type._context),null;case 22:case 23:return Xs(),null;case 24:default:return null}}wu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ju=function(){},_u=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Yi(Hi.current);var i,o=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),o=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),r=ne(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Hr)}for(l in ye(n,r),n=null,a)if(!r.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l){var s=a[l];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=a?a[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(i in s)!s.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&s[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ar("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},xu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Vu=!1,zu=!1,Bu="function"===typeof WeakSet?WeakSet:Set,qu=null;function Gu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){fc(e,t,r)}else n.current=null}function Ku(e,t,n){try{n()}catch(r){fc(e,t,r)}}var Hu=!1;function Wu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&Ku(t,n,i)}a=a.next}while(a!==r)}}function Qu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"===typeof t?t(e):t.current=e}}function $u(e){var t=e.alternate;null!==t&&(e.alternate=null,$u(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ia],delete t[oa],delete t[sa],delete t[ca],delete t[la])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ju(e){return 5===e.tag||3===e.tag||4===e.tag}function Xu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ju(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var Zu=null,es=!1;function ts(e,t,n){for(n=n.child;null!==n;)ns(e,t,n),n=n.sibling}function ns(e,t,n){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(tt,n)}catch(u){}switch(n.tag){case 5:zu||Gu(n,t);case 6:var r=Zu,a=es;Zu=null,ts(e,t,n),es=a,null!==(Zu=r)&&(es?(e=Zu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Zu.removeChild(n.stateNode));break;case 18:null!==Zu&&(es?(e=Zu,n=n.stateNode,8===e.nodeType?ta(e.parentNode,n):1===e.nodeType&&ta(e,n),Ut(e)):ta(Zu,n.stateNode));break;case 4:r=Zu,a=es,Zu=n.stateNode.containerInfo,es=!0,ts(e,t,n),Zu=r,es=a;break;case 0:case 11:case 14:case 15:if(!zu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)?Ku(n,t,o):0!==(4&i)&&Ku(n,t,o)),a=a.next}while(a!==r)}ts(e,t,n);break;case 1:if(!zu&&(Gu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){fc(n,t,u)}ts(e,t,n);break;case 21:ts(e,t,n);break;case 22:1&n.mode?(zu=(r=zu)||null!==n.memoizedState,ts(e,t,n),zu=r):ts(e,t,n);break;default:ts(e,t,n)}}function rs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Bu),t.forEach(function(t){var r=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),hc(e,n)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function as(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:Zu=s.stateNode,es=!1;break e;case 3:case 4:Zu=s.stateNode.containerInfo,es=!0;break e}s=s.return}if(null===Zu)throw Error(i(160));ns(o,u,a),Zu=null,es=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(l){fc(a,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)is(t,e),t=t.sibling}function is(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(as(t,e),os(e),4&r){try{Wu(3,e,e.return),Qu(3,e)}catch(m){fc(e,e.return,m)}try{Wu(5,e,e.return)}catch(m){fc(e,e.return,m)}}break;case 1:as(t,e),os(e),512&r&&null!==n&&Gu(n,n.return);break;case 5:if(as(t,e),os(e),512&r&&null!==n&&Gu(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(m){fc(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&$(a,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ve(a,h):"dangerouslySetInnerHTML"===f?le(a,h):"children"===f?fe(a,h):g(a,f,h,l)}switch(s){case"input":J(a,o);break;case"textarea":ae(a,o);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?te(a,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?te(a,!!o.multiple,o.defaultValue,!0):te(a,!!o.multiple,o.multiple?[]:"",!1))}a[oa]=o}catch(m){fc(e,e.return,m)}}break;case 6:if(as(t,e),os(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(m){fc(e,e.return,m)}}break;case 3:if(as(t,e),os(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){fc(e,e.return,m)}break;case 4:as(t,e),os(e);break;case 13:as(t,e),os(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ss=Qe())),4&r&&rs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(zu=(l=zu)||f,as(t,e),zu=l):as(t,e),os(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(qu=e,f=e.child;null!==f;){for(h=qu=f;null!==qu;){switch(p=(d=qu).child,d.tag){case 0:case 11:case 14:case 15:Wu(4,d,d.return);break;case 1:Gu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){fc(r,n,m)}}break;case 5:Gu(d,d.return);break;case 22:if(null!==d.memoizedState){cs(h);continue}}null!==p?(p.return=d,qu=p):cs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{a=h.stateNode,l?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=pe("display",u))}catch(m){fc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){fc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:as(t,e),os(e),4&r&&rs(e);break;case 21:break;default:as(t,e),os(e)}}function os(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Ju(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),function e(t,n,r){var a=t.tag;if(5===a||6===a)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==a&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Xu(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;!function e(t,n,r){var a=t.tag;if(5===a||6===a)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Hr));else if(4!==a&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Xu(e),o);break;default:throw Error(i(161))}}catch(u){fc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function us(e,t,n){qu=e,function e(t,n,r){for(var a=0!==(1&t.mode);null!==qu;){var i=qu,o=i.child;if(22===i.tag&&a){var u=null!==i.memoizedState||Vu;if(!u){var s=i.alternate,c=null!==s&&null!==s.memoizedState||zu;s=Vu;var l=zu;if(Vu=u,(zu=c)&&!l)for(qu=i;null!==qu;)c=(u=qu).child,22===u.tag&&null!==u.memoizedState?ls(i):null!==c?(c.return=u,qu=c):ls(i);for(;null!==o;)qu=o,e(o,n,r),o=o.sibling;qu=i,Vu=s,zu=l}ss(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,qu=o):ss(t)}}(e,t,n)}function ss(e){for(;null!==qu;){var t=qu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zu||Qu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!zu)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ci(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ni(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ni(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}zu||512&t.flags&&Yu(t)}catch(d){fc(t,t.return,d)}}if(t===e){qu=null;break}if(null!==(n=t.sibling)){n.return=t.return,qu=n;break}qu=t.return}}function cs(e){for(;null!==qu;){var t=qu;if(t===e){qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qu=n;break}qu=t.return}}function ls(e){for(;null!==qu;){var t=qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(s){fc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(s){fc(t,a,s)}}var i=t.return;try{Yu(t)}catch(s){fc(t,i,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){fc(t,o,s)}}}catch(s){fc(t,t.return,s)}if(t===e){qu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,qu=u;break}qu=t.return}}var fs,hs=Math.ceil,ds=k.ReactCurrentDispatcher,ps=k.ReactCurrentOwner,vs=k.ReactCurrentBatchConfig,ms=0,ys=null,bs=null,gs=0,ks=0,Os=ya(0),ws=0,js=null,_s=0,xs=0,Es=0,Is=null,Ts=null,Ss=0,Cs=1/0,Ns=null,As=!1,Rs=null,Ps=null,Ds=!1,Ls=null,Ms=0,Fs=0,Us=null,Vs=-1,zs=0;function Bs(){return 0!==(6&ms)?Qe():-1!==Vs?Vs:Vs=Qe()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ms)&&0!==gs?gs&-gs:null!==si.transition?(0===zs&&(zs=ht()),zs):0!==(e=mt)?e:e=void 0===(e=window.event)?16:Wt(e.type)}function Gs(e,t,n,r){if(50<Fs)throw Fs=0,Us=null,Error(i(185));pt(e,n,r),0!==(2&ms)&&e===ys||(e===ys&&(0===(2&ms)&&(xs|=n),4===ws&&Qs(e,gs)),Ks(e,r),1===n&&0===ms&&0===(1&t.mode)&&(Cs=Qe()+500,Aa&&Da()))}function Ks(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-rt(i),u=1<<o,s=a[o];-1===s?0!==(u&n)&&0===(u&r)||(a[o]=lt(u,t)):s<=t&&(e.expiredLanes|=u),i&=~u}}(e,t);var r=ct(e,e===ys?gs:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Aa=!0,Pa(e)}(Ys.bind(null,e)):Pa(Ys.bind(null,e)),Zr(function(){0===(6&ms)&&Da()}),n=null;else{switch(yt(r)){case 1:n=$e;break;case 4:n=Je;break;case 16:n=Xe;break;case 536870912:n=et;break;default:n=Xe}n=dc(n,function e(t,n){Vs=-1;zs=0;if(0!==(6&ms))throw Error(i(327));var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var a=ct(t,t===ys?gs:0);if(0===a)return null;if(0!==(30&a)||0!==(a&t.expiredLanes)||n)n=rc(t,a);else{n=a;var o=ms;ms|=2;var u=tc();for(ys===t&&gs===n||(Ns=null,Cs=Qe()+500,Zs(t,n));;)try{ic();break}catch(c){ec(t,c)}pi(),ds.current=u,ms=o,null!==bs?n=0:(ys=null,gs=0,n=ws)}if(0!==n){if(2===n&&(0!==(o=ft(t))&&(a=o,n=Hs(t,o))),1===n)throw r=js,Zs(t,0),Qs(t,a),Ks(t,Qe()),r;if(6===n)Qs(t,a);else{if(o=t.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!tr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(n=rc(t,a))&&(0!==(u=ft(t))&&(a=u,n=Hs(t,u))),1===n))throw r=js,Zs(t,0),Qs(t,a),Ks(t,Qe()),r;switch(t.finishedWork=o,t.finishedLanes=a,n){case 0:case 1:throw Error(i(345));case 2:sc(t,Ts,Ns);break;case 3:if(Qs(t,a),(130023424&a)===a&&10<(n=Ss+500-Qe())){if(0!==ct(t,0))break;if(((o=t.suspendedLanes)&a)!==a){Bs(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=$r(sc.bind(null,t,Ts,Ns),n);break}sc(t,Ts,Ns);break;case 4:if(Qs(t,a),(4194240&a)===a)break;for(n=t.eventTimes,o=-1;0<a;){var s=31-rt(a);u=1<<s,(s=n[s])>o&&(o=s),a&=~u}if(a=o,10<(a=(120>(a=Qe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*hs(a/1960))-a)){t.timeoutHandle=$r(sc.bind(null,t,Ts,Ns),a);break}sc(t,Ts,Ns);break;case 5:sc(t,Ts,Ns);break;default:throw Error(i(329))}}}Ks(t,Qe());return t.callbackNode===r?e.bind(null,t):null}.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hs(e,t){var n=Is;return e.current.memoizedState.isDehydrated&&(Zs(e,t).flags|=256),2!==(e=rc(e,t))&&(t=Ts,Ts=n,null!==t&&Ws(t)),e}function Ws(e){null===Ts?Ts=e:Ts.push.apply(Ts,e)}function Qs(e,t){for(t&=~Es,t&=~xs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function Ys(e){if(0!==(6&ms))throw Error(i(327));cc();var t=ct(e,0);if(0===(1&t))return Ks(e,Qe()),null;var n=rc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=Hs(e,r))}if(1===n)throw n=js,Zs(e,0),Qs(e,t),Ks(e,Qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sc(e,Ts,Ns),Ks(e,Qe()),null}function $s(e,t){var n=ms;ms|=1;try{return e(t)}finally{0===(ms=n)&&(Cs=Qe()+500,Aa&&Da())}}function Js(e){null!==Ls&&0===Ls.tag&&0===(6&ms)&&cc();var t=ms;ms|=1;var n=vs.transition,r=mt;try{if(vs.transition=null,mt=1,e)return e()}finally{mt=r,vs.transition=n,0===(6&(ms=t))&&Da()}}function Xs(){ks=Os.current,ba(Os)}function Zs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Jr(n)),null!==bs)for(n=bs.return;null!==n;){var r=n;switch(Qa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ea();break;case 3:Ji(),ba(wa),ba(Oa),ro();break;case 5:Zi(r);break;case 4:Ji();break;case 13:case 19:ba(eo);break;case 10:vi(r.type._context);break;case 22:case 23:Xs()}n=n.return}if(ys=e,bs=e=yc(e.current,null),gs=ks=t,ws=0,js=null,Es=xs=_s=0,Ts=Is=null,null!==gi){for(t=0;t<gi.length;t++)if(null!==(r=(n=gi[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}gi=null}return e}function ec(e,t){for(;;){var n=bs;try{if(pi(),ao.current=$o,lo){for(var r=uo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,ps.current=null,null===n||null===n.return){ws=1,js=t,bs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=gs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=uu(u);if(null!==p){p.flags&=-257,su(p,u,s,0,t),1&p.mode&&ou(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ou(o,l,t),nc();break e}c=Error(i(426))}else if(Ja&&1&s.mode){var y=uu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),su(y,u,s,0,t),ui(eu(c,s));break e}}o=c=eu(c,s),4!==ws&&(ws=2),null===Is?Is=[o]:Is.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Si(o,au(0,c,t));break e;case 1:s=c;var b=o.type,g=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==g&&"function"===typeof g.componentDidCatch&&(null===Ps||!Ps.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t,Si(o,iu(o,s,t));break e}}o=o.return}while(null!==o)}uc(n)}catch(k){t=k,bs===n&&null!==n&&(bs=n=n.return);continue}break}}function tc(){var e=ds.current;return ds.current=$o,null===e?$o:e}function nc(){0!==ws&&3!==ws&&2!==ws||(ws=4),null===ys||0===(268435455&_s)&&0===(268435455&xs)||Qs(ys,gs)}function rc(e,t){var n=ms;ms|=2;var r=tc();for(ys===e&&gs===t||(Ns=null,Zs(e,t));;)try{ac();break}catch(a){ec(e,a)}if(pi(),ms=n,ds.current=r,null!==bs)throw Error(i(261));return ys=null,gs=0,ws}function ac(){for(;null!==bs;)oc(bs)}function ic(){for(;null!==bs&&!He();)oc(bs)}function oc(e){var t=fs(e.alternate,e,ks);e.memoizedProps=e.pendingProps,null===t?uc(e):bs=t,ps.current=null}function uc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Fu(n,t,ks)))return void(bs=n)}else{if(null!==(n=Uu(n,t)))return n.flags&=32767,void(bs=n);if(null===e)return ws=6,void(bs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(bs=t);bs=t=e}while(null!==t);0===ws&&(ws=5)}function sc(e,t,n){var r=mt,a=vs.transition;try{vs.transition=null,mt=1,function(e,t,n,r){do{cc()}while(null!==Ls);if(0!==(6&ms))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-rt(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===ys&&(bs=ys=null,gs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ds||(Ds=!0,dc(Xe,function(){return cc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=vs.transition,vs.transition=null;var u=mt;mt=1;var s=ms;ms|=4,ps.current=null,function(e,t){if(Wr=zt,or(e=ir())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(O){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(s=u+a),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===a&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qr={focusedElem:e,selectionRange:n},zt=!1,qu=t;null!==qu;)if(e=(t=qu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,qu=e;else for(;null!==qu;){t=qu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,b=t.stateNode,g=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:ci(t.type,m),y);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(O){fc(t,t.return,O)}if(null!==(e=t.sibling)){e.return=t.return,qu=e;break}qu=t.return}v=Hu,Hu=!1}(e,n),is(n,e),ur(Qr),zt=!!Wr,Qr=Wr=null,e.current=n,us(n,e,a),We(),ms=s,mt=u,vs.transition=o}else e.current=n;if(Ds&&(Ds=!1,Ls=e,Ms=a),0===(o=e.pendingLanes)&&(Ps=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(tt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Ks(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(As)throw As=!1,e=Rs,Rs=null,e;0!==(1&Ms)&&0!==e.tag&&cc(),0!==(1&(o=e.pendingLanes))?e===Us?Fs++:(Fs=0,Us=e):Fs=0,Da()}(e,t,n,r)}finally{vs.transition=a,mt=r}return null}function cc(){if(null!==Ls){var e=yt(Ms),t=vs.transition,n=mt;try{if(vs.transition=null,mt=16>e?16:e,null===Ls)var r=!1;else{if(e=Ls,Ls=null,Ms=0,0!==(6&ms))throw Error(i(331));var a=ms;for(ms|=4,qu=e.current;null!==qu;){var o=qu,u=o.child;if(0!==(16&qu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(qu=l;null!==qu;){var f=qu;switch(f.tag){case 0:case 11:case 15:Wu(8,f,o)}var h=f.child;if(null!==h)h.return=f,qu=h;else for(;null!==qu;){var d=(f=qu).sibling,p=f.return;if($u(f),f===l){qu=null;break}if(null!==d){d.return=p,qu=d;break}qu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}qu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,qu=u;else e:for(;null!==qu;){if(0!==(2048&(o=qu).flags))switch(o.tag){case 0:case 11:case 15:Wu(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,qu=b;break e}qu=o.return}}var g=e.current;for(qu=g;null!==qu;){var k=(u=qu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,qu=k;else e:for(u=g;null!==qu;){if(0!==(2048&(s=qu).flags))try{switch(s.tag){case 0:case 11:case 15:Qu(9,s)}}catch(w){fc(s,s.return,w)}if(s===u){qu=null;break e}var O=s.sibling;if(null!==O){O.return=s.return,qu=O;break e}qu=s.return}}if(ms=a,Da(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(tt,e)}catch(w){}r=!0}return r}finally{mt=n,vs.transition=t}}return!1}function lc(e,t,n){e=Ii(e,t=au(0,t=eu(n,t),1),1),t=Bs(),null!==e&&(pt(e,1,t),Ks(e,t))}function fc(e,t,n){if(3===e.tag)lc(e,e,n);else for(;null!==t;){if(3===t.tag){lc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ps||!Ps.has(r))){t=Ii(t,e=iu(t,e=eu(n,e),1),1),e=Bs(),null!==t&&(pt(t,1,e),Ks(t,e));break}}t=t.return}}function hc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Bs();null!==(e=wi(e,t))&&(pt(e,t,n),Ks(e,n))}function dc(e,t){return Ge(e,t)}function pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vc(e,t,n,r){return new pc(e,t,n,r)}function mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function yc(e,t){var n=e.alternate;return null===n?((n=vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bc(e,t,n,r,a,o){var u=2;if(r=e,"function"===typeof e)mc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case j:return gc(n.children,a,o,t);case _:u=8,a|=8;break;case x:return(e=vc(12,n,t,2|a)).elementType=x,e.lanes=o,e;case S:return(e=vc(13,n,t,a)).elementType=S,e.lanes=o,e;case C:return(e=vc(19,n,t,a)).elementType=C,e.lanes=o,e;case R:return kc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case I:u=9;break e;case T:u=11;break e;case N:u=14;break e;case A:u=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=vc(u,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function gc(e,t,n,r){return(e=vc(7,e,r,t)).lanes=n,e}function kc(e,t,n,r){return(e=vc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Oc(e,t,n){return(e=vc(6,e,null,t)).lanes=n,e}function wc(e,t,n){return(t=vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dt(0),this.expirationTimes=dt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function _c(e,t,n,r,a,i,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===i&&(t|=8)):t=0,i=vc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_i(i),e}function xc(e){if(!e)return ka;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(xa(n))return Ta(e,n,t)}return t}function Ec(e,t,n,r,a,i,o,u,s){return(e=_c(n,r,!0,e,0,i,0,u,s)).context=xc(null),n=e.current,(i=Ei(r=Bs(),a=qs(n))).callback=void 0!==t&&null!==t?t:null,Ii(n,i,a),e.current.lanes=a,pt(e,a,r),Ks(e,r),e}function Ic(e,t,n,r){var a=t.current,i=Bs(),o=qs(a);return n=xc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ei(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ii(a,t,o))&&(Gs(e,a,o,i),Ti(e,a,o)),o}function Tc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Sc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Cc(e,t){Sc(e,t),(e=e.alternate)&&Sc(e,t)}fs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||wa.current)lu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return lu=!1,function(e,t,n){switch(t.tag){case 3:ku(t),oi();break;case 5:Xi(t);break;case 1:xa(t.type)&&Sa(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ga(li,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ga(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Tu(e,t,n):(ga(eo,1&eo.current),null!==(e=Du(e,t,n))?e.sibling:null);ga(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ru(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ga(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,vu(e,t,n)}return Du(e,t,n)}(e,t,n);lu=0!==(131072&e.flags)}else lu=!1,Ja&&0!==(1048576&t.flags)&&Ha(t,Ua,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pu(e,t),e=t.pendingProps;var a=_a(t,Oa.current);yi(t,n),a=yo(null,t,r,e,a,n);var o=bo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xa(r)?(o=!0,Sa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,_i(t),a.updater=Pi,t.stateNode=a,a._reactInternals=t,Fi(t,r,e,n),t=gu(null,t,r,!0,o,n)):(t.tag=0,Ja&&o&&Wa(t),fu(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pu(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===N)return 14}return 2}(r),e=ci(r,e),a){case 0:t=yu(null,t,r,e,n);break e;case 1:t=bu(null,t,r,e,n);break e;case 11:t=hu(null,t,r,e,n);break e;case 14:t=du(null,t,r,ci(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,yu(e,t,r,a=t.elementType===r?a:ci(r,a),n);case 1:return r=t.type,a=t.pendingProps,bu(e,t,r,a=t.elementType===r?a:ci(r,a),n);case 3:e:{if(ku(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,xi(e,t),Ci(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,a=eu(Error(i(423)),t));break e}if(r!==a){t=Ou(e,t,r,n,a=eu(Error(i(424)),t));break e}for($a=na(t.stateNode.containerInfo.firstChild),Ya=t,Ja=!0,Xa=null,n=Gi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(oi(),r===a){t=Du(e,t,n);break e}fu(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ni(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,u=a.children,Yr(r,a)?u=null:null!==o&&Yr(r,o)&&(t.flags|=32),mu(e,t),fu(e,t,u,n),t.child;case 6:return null===e&&ni(t),null;case 13:return Tu(e,t,n);case 4:return $i(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qi(t,null,r,n):fu(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,hu(e,t,r,a=t.elementType===r?a:ci(r,a),n);case 7:return fu(e,t,t.pendingProps,n),t.child;case 8:case 12:return fu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,u=a.value,ga(li,r._currentValue),r._currentValue=u,null!==o)if(tr(o.value,u)){if(o.children===a.children&&!wa.current){t=Du(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ei(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),mi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(i(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),mi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}fu(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,yi(t,n),r=r(a=bi(a)),t.flags|=1,fu(e,t,r,n),t.child;case 14:return a=ci(r=t.type,t.pendingProps),du(e,t,r,a=ci(r.type,a),n);case 15:return pu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ci(r,a),Pu(e,t),t.tag=1,xa(r)?(e=!0,Sa(t)):e=!1,yi(t,n),Li(t,r,a),Fi(t,r,a,n),gu(null,t,r,!0,e,n);case 19:return Ru(e,t,n);case 22:return vu(e,t,n)}throw Error(i(156,t.tag))};var Nc="function"===typeof reportError?reportError:function(e){console.error(e)};function Ac(e){this._internalRoot=e}function Rc(e){this._internalRoot=e}function Pc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Dc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Lc(){}function Mc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var u=a;a=function(){var e=Tc(o);u.call(e)}}Ic(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Tc(o);i.call(e)}}var o=Ec(t,r,e,0,null,!1,0,"",Lc);return e._reactRootContainer=o,e[ua]=o.current,Dr(8===e.nodeType?e.parentNode:e),Js(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var u=r;r=function(){var e=Tc(s);u.call(e)}}var s=_c(e,0,!1,null,0,!1,0,"",Lc);return e._reactRootContainer=s,e[ua]=s.current,Dr(8===e.nodeType?e.parentNode:e),Js(function(){Ic(t,s,n,r)}),s}(n,t,e,a,r);return Tc(o)}Rc.prototype.render=Ac.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Ic(e,t,null,null)},Rc.prototype.unmount=Ac.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Js(function(){Ic(null,e,null,null)}),t[ua]=null}},Rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ot();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&0!==t&&t<Ct[n].priority;n++);Ct.splice(n,0,e),0===n&&Pt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=st(t.pendingLanes);0!==n&&(vt(t,1|n),Ks(t,Qe()),0===(6&ms)&&(Cs=Qe()+500,Da()))}break;case 13:Js(function(){var t=wi(e,1);if(null!==t){var n=Bs();Gs(t,e,1,n)}}),Cc(e,1)}},gt=function(e){if(13===e.tag){var t=wi(e,134217728);if(null!==t)Gs(t,e,134217728,Bs());Cc(e,134217728)}},kt=function(e){if(13===e.tag){var t=qs(e),n=wi(e,t);if(null!==n)Gs(n,e,t,Bs());Cc(e,t)}},Ot=function(){return mt},wt=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}},Oe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=pa(r);if(!a)throw Error(i(90));H(r),J(r,a)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&te(e,!!n.multiple,t,!1)}},Ie=$s,Te=Js;var Fc={usingClientEntryPoint:!1,Events:[ha,da,pa,xe,Ee,$s]},Uc={findFiberByHostInstance:fa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Vc={bundleType:Uc.bundleType,version:Uc.version,rendererPackageName:Uc.rendererPackageName,rendererConfig:Uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:Uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{tt=zc.inject(Vc),nt=zc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Pc(e))throw Error(i(299));var n=!1,r="",a=Nc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=_c(e,1,!1,null,0,n,0,r,a),e[ua]=t.current,Dr(8===e.nodeType?e.parentNode:e),new Ac(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return Js(e)},t.hydrate=function(e,t,n){if(!Dc(t))throw Error(i(200));return Mc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Pc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",u=Nc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Ec(t,null,e,1,null!=n?n:null,a,0,o,u),e[ua]=t.current,Dr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Rc(t)},t.render=function(e,t,n){if(!Dc(t))throw Error(i(200));return Mc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Dc(e))throw Error(i(40));return!!e._reactRootContainer&&(Js(function(){Mc(null,null,e,!1,function(){e._reactRootContainer=null,e[ua]=null})}),!0)},t.unstable_batchedUpdates=$s,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Mc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},function(e,t,n){"use strict";var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=b.prototype;var O=k.prototype=new g;O.constructor=k,m(O,b.prototype),O.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,_={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var a,i={},o=null,u=null;if(null!=t)for(a in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,a)&&!x.hasOwnProperty(a)&&(i[a]=t[a]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===i[a]&&(i[a]=s[a]);return{$$typeof:r,type:e,key:o,ref:u,props:i,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var T=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,n,i,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case r:case a:s=!0}}if(s)return o=o(s=e),e=""===i?"."+S(s,0):i,w(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(o,t,n,"",function(e){return e})):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var l=i+S(u=e[c],c);s+=C(u,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,l=i+S(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",function(e){return t.call(n,e,a++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=i,t.Profiler=u,t.PureComponent=k,t.StrictMode=o,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)j.call(t,c)&&!x.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];a.children=s}return{$$typeof:r,type:e.type,key:i,ref:o,props:a,_owner:u}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},function(e,t,n){"use strict";e.exports=n(176)},function(e,t,n){"use strict";(function(e){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>i(s,n))c<a&&0>i(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<a&&0>i(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,g="undefined"!==typeof e?e:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)a(l);else{if(!(t.startTime<=e))break;a(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function O(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(w);else{var t=r(l);null!==t&&P(O,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,b(E),E=-1),p=!0;var i=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!S());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&a(c),k(n)}else a(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(O,f.startTime-n),s=!1}return s}finally{h=null,d=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,_=!1,x=null,E=-1,I=5,T=-1;function S(){return!(t.unstable_now()-T<I)}function C(){if(null!==x){var e=t.unstable_now();T=e;var n=!0;try{n=x(!0,e)}finally{n?j():(_=!1,x=null)}}else _=!1}if("function"===typeof g)j=function(){g(C)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,A=N.port2;N.port1.onmessage=C,j=function(){A.postMessage(null)}}else j=function(){y(C,0)};function R(e){x=e,_||(_=!0,j())}function P(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:a,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>o?(e.sortIndex=i,n(l,e),null===r(c)&&e===r(l)&&(m?(b(E),E=-1):m=!0,P(O,i-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(w))),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}).call(this,n(177).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(178),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(70))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a=1,i={},o=!1,u=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return i[a]=o,r(a),a++},s.clearImmediate=c}function c(e){delete i[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=i[e];if(t){o=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(70),n(98))},function(e,t,n){},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(183);n(11);var a=n(0);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var d=function(){function e(t){o(this,e),c(this,"handlers",void 0),this.handlers=t.slice(0)}return s(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,a=0;a<r;a+=1)n.push(t[a]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var a=n;a>=0;a-=1)this.handlers[a].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,a=0;a<r;a+=1){var i=this.handlers[a];-1===t.indexOf(i)&&n.push(i)}return new e(n)}}]),e}();function p(e){var t=new Map;return e.forEach(function(e,n){t.set(n,e)}),t}function v(e){return Array.isArray(e)?e:[e]}var m=function(e){return null!==e&&"object"===i(e)&&e.hasOwnProperty("current")};function y(e){return"document"===e?document:"window"===e?window:m(e)?e.current||document:e||document}var b=function(){function e(t,n){o(this,e),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return s(e,[{key:"addHandlers",value:function(t,n){var r=p(this.handlerSets);if(r.has(t)){var a=r.get(t);r.set(t,a.addHandlers(n))}else r.set(t,new d(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=p(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var a=r.get(t).removeHandlers(n);return a.hasHandlers()?r.set(t,a):r.delete(t),new e(this.poolName,r)}}]),e}();c(b,"createByType",function(e,t,n){var r=new Map;return r.set(t,new d(n)),new b(e,r)});var g=function(){function e(t){var n=this;o(this,e),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",function(e){return function(t){n.pools.forEach(function(n){n.dispatchEvent(e,t)})}}),this.target=t}return s(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,b.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var a=!1;this.pools.forEach(function(e){return a=a||e.hasHandlers(t)}),a||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),k=new(function(){function e(){var t=this;o(this,e),c(this,"targets",new Map),c(this,"getTarget",function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=y(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var a=new g(r);return t.targets.set(r,a),a}),c(this,"removeTarget",function(e){t.targets.delete(y(e))})}return s(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var a=n.target,i=void 0===a?document:a,o=n.pool,u=void 0===o?"default":o;this.getTarget(i).addHandlers(u,e,v(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var a=n.target,i=void 0===a?document:a,o=n.pool,u=void 0===o?"default":o,s=this.getTarget(i,!1);s&&(s.removeHandlers(u,e,v(t)),s.hasHandlers()||this.removeTarget(i))}}}]),e}()),O=function(e){function t(){return o(this,t),h(this,f(t).apply(this,arguments))}return l(t,a.PureComponent),s(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,a=e.target;k.sub(t,n,{pool:r,target:a})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,a=e.target;k.unsub(t,n,{pool:r,target:a})}},{key:"render",value:function(){return null}}]),t}();c(O,"defaultProps",{pool:"default",target:"document"}),O.propTypes={},t.instance=k,t.default=O},function(e,t,n){var r;!function(){"use strict";var a=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:a,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:a&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:a&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(185);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,k=r?Symbol.for("react.responder"):60118,O=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case m:case c:return e;default:return t}}case i:return t}}}function j(e){return w(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=a,t.ForwardRef=d,t.Fragment=o,t.Lazy=y,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return j(e)||w(e)===f},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===u},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===g||e.$$typeof===k||e.$$typeof===O||e.$$typeof===b)},t.typeOf=w},function(e,t,n){"use strict";n(188)},function(e,t,n){"use strict";(function(e){var t=n(1),r=n(3),a=n(2),i=n(41),o=n(13),u=n(28),s=n(6);function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),u=new E(a||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};s(m,i,function(){return this});var y=Object.getPrototypeOf,b=y&&y(y(I([])));b&&b!==t&&n.call(b,i)&&(m=b);var g=v.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t(function(a,o){!function r(a,i,o,u){var s=f(e[a],e,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(l).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,i,a,o)})}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=j(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,r(g,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(O.prototype),s(O.prototype,o,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new O(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(g),s(g,u,"Generator"),s(g,i,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}var l="@firebase/auth-compat",f="0.4.0",h=1e3;function d(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.q)();return!("file:"!==d()&&"ionic:"!==d()&&"capacitor:"!==d()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.q)();return Object(s.u)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.q)();return/Edge\/\d+/.test(e)}(e)}function m(){try{var e=self.localStorage,t=o.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!v()||Object(s.v)()}catch(n){return y()&&Object(s.v)()}return!1}function y(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function b(){return("http:"===d()||"https:"===d()||Object(s.s)()||p())&&!(Object(s.y)()||Object(s.x)())&&m()&&!y()}function g(){return p()&&"undefined"!==typeof document}function k(){return O.apply(this,arguments)}function O(){return(O=Object(a.a)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise(function(e){var t=setTimeout(function(){e(!1)},h);document.addEventListener("deviceready",function(){clearTimeout(t),e(!0)})}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var w={LOCAL:"local",NONE:"none",SESSION:"session"},j=o.p,_="persistence";function x(e,t){j(Object.values(w).includes(t),e,"invalid-persistence-type"),Object(s.y)()?j(t!==w.SESSION,e,"unsupported-persistence-type"):Object(s.x)()?j(t===w.NONE,e,"unsupported-persistence-type"):y()?j(t===w.NONE||t===w.LOCAL&&Object(s.v)(),e,"unsupported-persistence-type"):j(t===w.NONE||m(),e,"unsupported-persistence-type")}function E(e){return I.apply(this,arguments)}function I(){return(I=Object(a.a)(c().mark(function e(t){var n,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=T(),r=o.w(_,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var S=o.p,C=function(){function e(){Object(t.a)(this,e),this.browserResolver=o.t(o.A),this.cordovaResolver=o.t(o.F),this.underlyingResolver=null,this._redirectPersistence=o.B,this._completeRedirectFn=o.u,this._overrideRedirectResult=o.v}return Object(r.a)(e,[{key:"_initialize",value:function(){var e=Object(a.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Object(a.a)(c().mark(function e(t,n,r,a){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,a));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(a.a)(c().mark(function e(t,n,r,a){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,a));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"selectUnderlyingResolver",value:function(){var e=Object(a.a)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_shouldInitProactively",get:function(){return g()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return S(this.underlyingResolver,"internal-error"),this.underlyingResolver}}]),e}();function N(e){return e.unwrap()}function A(e){var t=(e instanceof s.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof s.c)&&"temporaryProof"in t&&"phoneNumber"in t)return o.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===o.k.PASSWORD)return null;switch(r){case o.k.GOOGLE:n=o.f;break;case o.k.FACEBOOK:n=o.d;break;case o.k.GITHUB:n=o.e;break;case o.k.TWITTER:n=o.o;break;default:var a=t.oauthIdToken,i=t.oauthAccessToken,u=t.oauthTokenSecret,c=t.pendingToken,l=t.nonce;return i||u||a||c?c?r.startsWith("saml.")?o.m._create(r,c):o.g._fromParams({providerId:r,signInMethod:r,pendingToken:c,idToken:a,accessToken:i}):new o.h(r).credential({idToken:a,accessToken:i,rawNonce:l}):null}return e instanceof s.c?n.credentialFromError(e):n.credentialFromResult(e)}function R(e,t){return t.catch(function(t){throw t instanceof s.c&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new L(e,o.K(e,t));else if(r){var a=A(t),i=t;a&&(i.credential=a,i.tenantId=r.tenantId||void 0,i.email=r.email||void 0,i.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,A(t)),additionalUserInfo:o.J(e),user:M.getOrCreate(r)}})}function P(e,t){return D.apply(this,arguments)}function D(){return(D=Object(a.a)(c().mark(function e(t,n){var r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return R(t,r.confirm(e))}});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var L=function(){function e(n,r){Object(t.a)(this,e),this.resolver=r,this.auth=n.wrapped()}return Object(r.a)(e,[{key:"resolveSignIn",value:function(e){return R(N(this.auth),this.resolver.resolveSignIn(e))}},{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}}]),e}(),M=function(){function e(n){Object(t.a)(this,e),this._delegate=n,this.multiFactor=o.T(n)}return Object(r.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Object(a.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(this.auth,o.P(this._delegate,t)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Object(a.a)(c().mark(function e(t,n){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(this.auth,o.Q(this._delegate,t,n)));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Object(a.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(this.auth,o.R(this._delegate,t,C)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Object(a.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(o.q(this.auth));case 2:return e.abrupt("return",o.S(this._delegate,t,C));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Object(a.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(this.auth,o.U(this._delegate,t)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return P(this.auth,o.V(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return R(this.auth,o.W(this._delegate,e,C))}},{key:"reauthenticateWithRedirect",value:function(){var e=Object(a.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(o.q(this.auth));case 2:return e.abrupt("return",o.X(this._delegate,t,C));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return o.Y(this._delegate,e)}},{key:"unlink",value:function(){var e=Object(a.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.jb(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return o.kb(this._delegate,e)}},{key:"updatePassword",value:function(e){return o.lb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return o.mb(this._delegate,e)}},{key:"updateProfile",value:function(e){return o.nb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return o.ob(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();M.USER_MAP=new WeakMap;var F=o.p,U=function(){function e(n,r){if(Object(t.a)(this,e),this.app=n,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();var a=n.options.apiKey;F(a,"invalid-api-key",{appName:n.name}),F(a,"invalid-api-key",{appName:n.name});var i="undefined"!==typeof window?C:void 0;this._delegate=r.initialize({options:{persistence:z(a,n.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(o.H),this.linkUnderlyingAuth()}return Object(r.a)(e,[{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){o.E(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return o.y(this._delegate,e)}},{key:"checkActionCode",value:function(e){return o.C(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return o.D(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Object(a.a)(c().mark(function e(t,n){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(this._delegate,o.G(this._delegate,t,n)));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return o.I(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return o.O(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Object(a.a)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(b(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,o.L(this._delegate,C);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",R(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){o.x(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=V(e,t,n),a=r.next,i=r.error,o=r.complete;return this._delegate.onAuthStateChanged(a,i,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=V(e,t,n),a=r.next,i=r.error,o=r.complete;return this._delegate.onIdTokenChanged(a,i,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return o.ab(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return o.Z(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Object(a.a)(c().mark(function e(t){var n,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:x(this._delegate,t),e.t0=t,e.next=e.t0===w.SESSION?4:e.t0===w.LOCAL?6:e.t0===w.NONE?11:13;break;case 4:return n=o.B,e.abrupt("break",14);case 6:return e.next=8,o.t(o.N)._isAvailable();case 8:return r=e.sent,n=r?o.N:o.z,e.abrupt("break",14);case 11:return n=o.M,e.abrupt("break",14);case 13:return e.abrupt("return",o.r("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return R(this._delegate,o.bb(this._delegate))}},{key:"signInWithCredential",value:function(e){return R(this._delegate,o.cb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return R(this._delegate,o.db(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return R(this._delegate,o.eb(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return R(this._delegate,o.fb(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return P(this._delegate,o.gb(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Object(a.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(b(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",R(this._delegate,o.hb(this._delegate,t,C)));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Object(a.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(b(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,E(this._delegate);case 3:return e.abrupt("return",o.ib(this._delegate,t,C));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return o.pb(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}},{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?M.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}}]),e}();function V(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var a=r;return{next:function(e){return a(e&&M.getOrCreate(e))},error:t,complete:n}}function z(e,t){var n=function(e,t){var n=T();if(!n)return[];var r=o.w(_,e,t);switch(n.getItem(r)){case w.NONE:return[o.M];case w.LOCAL:return[o.N,o.B];case w.SESSION:return[o.B];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(o.N)||n.push(o.N),"undefined"!==typeof window)for(var r=0,a=[o.z,o.B];r<a.length;r++){var i=a[r];n.includes(i)||n.push(i)}return n.includes(o.M)||n.push(o.M),n}U.Persistence=w;var B=function(){function e(){Object(t.a)(this,e),this.providerId="phone",this._delegate=new o.i(N(i.a.auth()))}return Object(r.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return o.i.credential(e,t)}}]),e}();B.PHONE_SIGN_IN_METHOD=o.i.PHONE_SIGN_IN_METHOD,B.PROVIDER_ID=o.i.PROVIDER_ID;var q,G=o.p,K=function(){function e(n,r){var a,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a.app();Object(t.a)(this,e),G(null===(a=u.options)||void 0===a?void 0:a.apiKey,"invalid-api-key",{appName:u.name}),this._delegate=new o.l(n,r,u.auth()),this.type=this._delegate.type}return Object(r.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),H="auth-compat";(q=i.a).INTERNAL.registerComponent(new u.a(H,function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new U(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:o.a.EMAIL_SIGNIN,PASSWORD_RESET:o.a.PASSWORD_RESET,RECOVER_EMAIL:o.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:o.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:o.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:o.a.VERIFY_EMAIL}},EmailAuthProvider:o.c,FacebookAuthProvider:o.d,GithubAuthProvider:o.e,GoogleAuthProvider:o.f,OAuthProvider:o.h,SAMLAuthProvider:o.n,PhoneAuthProvider:B,PhoneMultiFactorGenerator:o.j,RecaptchaVerifier:K,TwitterAuthProvider:o.o,Auth:U,AuthCredential:o.b,Error:s.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion(l,f)}).call(this,n(70))},function(e,t,n){"use strict";var r=n(5),a=n(19),i=n(29),o=n(16),u=n(7),s=n(0),c=n.n(s),l=n(21),f=n(103),h=n(102),d=n(8),p=n(144),v=n(136);function m(e){var t=e.children,n=e.className,a=e.content,i=Object(u.a)("header",n),o=Object(f.a)(m,e),s=Object(h.a)(m,e);return c.a.createElement(s,Object(r.a)({},o,{className:i}),d.a.isNil(t)?a:t)}m.handledProps=["as","children","className","content"],m.propTypes={};var y=m,b=n(130),g=n(138),k=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var O=function(e){return e.match(k)||[]},w=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var j=function(e){return w.test(e)},_=n(107),x="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",E="["+x+"]",I="\\d+",T="[\\u2700-\\u27bf]",S="[a-z\\xdf-\\xf6\\xf8-\\xff]",C="[^\\ud800-\\udfff"+x+I+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",N="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",R="[A-Z\\xc0-\\xd6\\xd8-\\xde]",P="(?:"+S+"|"+C+")",D="(?:"+R+"|"+C+")",L="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",M="[\\ufe0e\\ufe0f]?"+L+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",N,A].join("|")+")[\\ufe0e\\ufe0f]?"+L+")*"),F="(?:"+[T,N,A].join("|")+")"+M,U=RegExp([R+"?"+S+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[E,R,"$"].join("|")+")",D+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[E,R+P,"$"].join("|")+")",R+"?"+P+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",R+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",I,F].join("|"),"g");var V=function(e){return e.match(U)||[]};var z=function(e,t,n){return e=Object(_.a)(e),void 0===(t=n?void 0:t)?j(e)?V(e):O(e):e.match(t)||[]},B=RegExp("['\u2019]","g");var q=function(e){return function(t){return Object(b.a)(z(Object(g.a)(t).replace(B,"")),e,"")}},G=n(75);var K=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Object(G.a)(e,t,n)},H=n(82);var W=function(e){return e.split("")},Q="[\\ud800-\\udfff]",Y="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",$="[^\\ud800-\\udfff]",J="(?:\\ud83c[\\udde6-\\uddff]){2}",X="[\\ud800-\\udbff][\\udc00-\\udfff]",Z="(?:"+Y+"|\\ud83c[\\udffb-\\udfff])"+"?",ee="[\\ufe0e\\ufe0f]?"+Z+("(?:\\u200d(?:"+[$,J,X].join("|")+")[\\ufe0e\\ufe0f]?"+Z+")*"),te="(?:"+[$+Y+"?",Y,J,X,Q].join("|")+")",ne=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+te+ee,"g");var re=function(e){return e.match(ne)||[]};var ae=function(e){return Object(H.a)(e)?re(e):W(e)};var ie=function(e){return function(t){t=Object(_.a)(t);var n=Object(H.a)(t)?ae(t):void 0,r=n?n[0]:t.charAt(0),a=n?K(n,1).join(""):t.slice(1);return r[e]()+a}}("toUpperCase"),oe=q(function(e,t,n){return e+(n?" ":"")+ie(t)}),ue=n(119),se=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||Object(o.a)(t.props,"onClick",e,t.props)},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.active,a=e.children,i=e.className,o=e.color,s=e.content,p=e.disabled,v=e.fitted,m=e.header,y=e.icon,b=e.link,g=e.name,k=e.onClick,O=e.position,w=Object(u.a)(o,O,Object(l.a)(n,"active"),Object(l.a)(p,"disabled"),Object(l.a)(!0===y||y&&!(g||s),"icon"),Object(l.a)(m,"header"),Object(l.a)(b,"link"),Object(l.b)(v,"fitted"),"item",i),j=Object(h.a)(t,this.props,function(){if(k)return"a"}),_=Object(f.a)(t,this.props);return d.a.isNil(a)?c.a.createElement(j,Object(r.a)({},_,{className:w,onClick:this.handleClick}),ue.a.create(y,{autoGenerateKey:!1}),d.a.isNil(s)?oe(g):s):c.a.createElement(j,Object(r.a)({},_,{className:w,onClick:this.handleClick}),a)},t}(s.Component);function ce(e){var t=e.children,n=e.className,a=e.content,i=e.position,o=Object(u.a)(i,"menu",n),s=Object(f.a)(ce,e),l=Object(h.a)(ce,e);return c.a.createElement(l,Object(r.a)({},s,{className:o}),d.a.isNil(t)?a:t)}se.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],se.propTypes={},se.create=Object(v.f)(se,function(e){return{content:e,name:e}}),ce.handledProps=["as","children","className","content","position"],ce.propTypes={};var le=ce,fe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var a=r.index;t.setState({activeIndex:a}),Object(o.a)(e,"onClick",n,r),Object(o.a)(t.props,"onItemClick",n,r)}}},t}Object(a.a)(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return Object(i.a)(t,function(t,r){return se.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})})},n.render=function(){var e=this.props,n=e.attached,a=e.borderless,i=e.children,o=e.className,s=e.color,p=e.compact,v=e.fixed,m=e.floated,y=e.fluid,b=e.icon,g=e.inverted,k=e.pagination,O=e.pointing,w=e.secondary,j=e.size,_=e.stackable,x=e.tabular,E=e.text,I=e.vertical,T=e.widths,S=Object(u.a)("ui",s,j,Object(l.a)(a,"borderless"),Object(l.a)(p,"compact"),Object(l.a)(y,"fluid"),Object(l.a)(g,"inverted"),Object(l.a)(k,"pagination"),Object(l.a)(O,"pointing"),Object(l.a)(w,"secondary"),Object(l.a)(_,"stackable"),Object(l.a)(E,"text"),Object(l.a)(I,"vertical"),Object(l.b)(n,"attached"),Object(l.b)(m,"floated"),Object(l.b)(b,"icon"),Object(l.b)(x,"tabular"),Object(l.e)(v,"fixed"),Object(l.g)(T,"item"),o,"menu"),C=Object(f.a)(t,this.props),N=Object(h.a)(t,this.props);return c.a.createElement(N,Object(r.a)({},C,{className:S}),d.a.isNil(i)?this.renderItems():i)},t}(p.a);fe.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],fe.propTypes={},fe.autoControlledProps=["activeIndex"],fe.Header=y,fe.Item=se,fe.Menu=le,fe.create=Object(v.f)(fe,function(e){return{items:e}});t.a=fe},,function(e,t,n){"use strict";var r=n(5),a=n(20),i=n(7),o=n(0),u=n.n(o),s=n(21),c=n(103),l=n(45),f=n(102),h=n(8),d=n(136),p=n(19),v=n(133),m=n(16),y=n(46),b=n.n(y),g=n(134),k=n(213),O=n(25),w=n.n(O),j=n(146),_=n(144),x=n(65),E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){Object(g.a)(t.props.innerRef,e)},t}Object(p.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){Object(m.a)(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){Object(m.a)(this.props,"onUnmount",null,this.props)},n.render=function(){if(!Object(v.a)())return null;var e=this.props,t=e.children,n=e.mountNode,r=void 0===n?document.body:n;return Object(x.createPortal)(u.a.createElement(k.a,{innerRef:this.handleRef},t),r)},t}(o.Component);E.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],E.propTypes={};var I=E,T=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).contentRef=u.a.createRef(),t.triggerRef=u.a.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||Object(j.a)(t.triggerRef.current,e)||r&&Object(j.a)(t.contentRef.current,r)||Object(j.a)(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&w.a.getCode(e)===w.a.Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,a=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,a))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,a=n.closeOnTriggerBlur,i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];m.a.apply(void 0,[r,"props.onBlur",e].concat(o));var s=e.relatedTarget||document.activeElement,c=Object(m.a)(t.contentRef.current,"contains",s);a&&!c&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,a=n.closeOnTriggerClick,i=n.openOnTriggerClick,o=t.state.open,u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];m.a.apply(void 0,[r,"props.onClick",e].concat(s)),o&&a?t.close(e):!o&&i&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,a=n.openOnTriggerFocus,i=arguments.length,o=new Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];m.a.apply(void 0,[r,"props.onFocus",e].concat(o)),a&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,a=n.closeOnTriggerMouseLeave,i=n.mouseLeaveDelay,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];m.a.apply(void 0,[r,"props.onMouseLeave",e].concat(u)),a&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,a=n.mouseEnterDelay,i=n.openOnTriggerMouseEnter,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];m.a.apply(void 0,[r,"props.onMouseEnter",e].concat(u)),i&&(t.mouseEnterTimer=t.openWithTimeout(e,a))},t.open=function(e){Object(m.a)(t.props,"onOpen",e,Object(r.a)({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var a=Object(r.a)({},e);return setTimeout(function(){return t.open(a)},n||0)},t.close=function(e){t.setState({open:!1}),Object(m.a)(t.props,"onClose",e,Object(r.a)({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var a=Object(r.a)({},e);return setTimeout(function(){return t.close(a)},n||0)},t.handleMount=function(){Object(m.a)(t.props,"onMount",null,t.props)},t.handleUnmount=function(){Object(m.a)(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,Object(g.a)(t.props.triggerRef,e)},t}Object(p.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,r=e.mountNode,a=e.trigger,i=this.state.open;return u.a.createElement(u.a.Fragment,null,i&&u.a.createElement(u.a.Fragment,null,u.a.createElement(I,{innerRef:this.contentRef,mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},t),u.a.createElement(b.a,{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),u.a.createElement(b.a,{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),u.a.createElement(b.a,{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),u.a.createElement(b.a,{name:"click",on:this.handleDocumentClick,pool:n}),u.a.createElement(b.a,{name:"keydown",on:this.handleEscape,pool:n})),a&&u.a.createElement(k.a,{innerRef:this.handleTriggerRef},u.a.cloneElement(a,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(_.a);T.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],T.propTypes={},T.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},T.autoControlledProps=["open"],T.Inner=I;var S=T;function C(e){var t=e.blurring,n=e.className,a=e.children,o=e.content,l=e.dimmed,d=Object(i.a)(Object(s.a)(t,"blurring"),Object(s.a)(l,"dimmed"),"dimmable",n),p=Object(c.a)(C,e),v=Object(f.a)(C,e);return u.a.createElement(v,Object(r.a)({},p,{className:d}),h.a.isNil(a)?o:a)}C.handledProps=["as","blurring","children","className","content","dimmed"],C.propTypes={};var N=C,A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).containerRef=Object(o.createRef)(),t.contentRef=Object(o.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;Object(m.a)(t.props,"onClick",e,t.props),n&&n!==e.target&&Object(j.a)(n,e)||Object(m.a)(t.props,"onClickOutside",e,t.props)},t}Object(p.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,a=e.children,o=e.className,l=e.content,d=e.disabled,p=e.inverted,v=e.page,m=e.simple,y=e.verticalAlign,b=Object(i.a)("ui",Object(s.a)(n,"active transition visible"),Object(s.a)(d,"disabled"),Object(s.a)(p,"inverted"),Object(s.a)(v,"page"),Object(s.a)(m,"simple"),Object(s.f)(y),"dimmer",o),g=Object(c.a)(t,this.props),O=Object(f.a)(t,this.props),w=h.a.isNil(a)?l:a;return u.a.createElement(k.a,{innerRef:this.containerRef},u.a.createElement(O,Object(r.a)({},g,{className:b,onClick:this.handleClick}),w&&u.a.createElement("div",{className:"content",ref:this.contentRef},w)))},t}(o.Component);A.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],A.propTypes={};var R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){Object(v.a)()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){Object(v.a)()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return Object(p.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.active,a=e.page,i=Object(c.a)(t,this.props);return a?u.a.createElement(S,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},u.a.createElement(A,Object(r.a)({},i,{active:n,page:a}))):u.a.createElement(A,Object(r.a)({},i,{active:n,page:a}))},t}(o.Component);R.handledProps=["active","page"],R.propTypes={},R.Dimmable=N,R.Inner=A,R.create=Object(d.f)(R,function(e){return{content:e}});var P=n(137);function D(e){var t=e.children,n=e.className,a=e.content,o=e.size,s=Object(i.a)("ui",o,n,"images"),l=Object(c.a)(D,e),d=Object(f.a)(D,e);return u.a.createElement(d,Object(r.a)({},l,{className:s}),h.a.isNil(t)?a:t)}D.handledProps=["as","children","className","content","size"],D.propTypes={};var L=D;function M(e){var t=e.avatar,n=e.bordered,o=e.centered,d=e.children,p=e.circular,v=e.className,m=e.content,y=e.dimmer,b=e.disabled,g=e.floated,k=e.fluid,O=e.hidden,w=e.href,j=e.inline,_=e.label,x=e.rounded,E=e.size,I=e.spaced,T=e.verticalAlign,S=e.wrapped,C=e.ui,N=Object(i.a)(Object(s.a)(C,"ui"),E,Object(s.a)(t,"avatar"),Object(s.a)(n,"bordered"),Object(s.a)(p,"circular"),Object(s.a)(o,"centered"),Object(s.a)(b,"disabled"),Object(s.a)(k,"fluid"),Object(s.a)(O,"hidden"),Object(s.a)(j,"inline"),Object(s.a)(x,"rounded"),Object(s.b)(I,"spaced"),Object(s.e)(g,"floated"),Object(s.f)(T,"aligned"),"image",v),A=Object(c.a)(M,e),D=Object(l.c)(A,{htmlProps:l.a}),L=D[0],F=D[1],U=Object(f.a)(M,e,function(){if(!Object(a.a)(y)||!Object(a.a)(_)||!Object(a.a)(S)||!h.a.isNil(d))return"div"});return h.a.isNil(d)?h.a.isNil(m)?"img"===U?u.a.createElement(U,Object(r.a)({},F,L,{className:N})):u.a.createElement(U,Object(r.a)({},F,{className:N,href:w}),R.create(y,{autoGenerateKey:!1}),P.a.create(_,{autoGenerateKey:!1}),u.a.createElement("img",L)):u.a.createElement(U,Object(r.a)({},A,{className:N}),m):u.a.createElement(U,Object(r.a)({},A,{className:N}),d)}M.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],M.Group=L,M.propTypes={},M.defaultProps={as:"img",ui:!0},M.create=Object(d.f)(M,function(e){return{src:e}});t.a=M},function(e,t,n){"use strict";var r=n(1),a=n(3),i=n(41),o=n(23),u=n(2),s=n(17),c=n(14),l=n(9),f=n(10),h=n(38),d=n(22),p=n(6),v=n(28);function m(){m=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),u=new E(a||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,i,function(){return this});var y=Object.getPrototypeOf,b=y&&y(y(I([])));b&&b!==t&&n.call(b,i)&&(v=b);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var a;r(this,"_invoke",{value:function(r,i){function o(){return new t(function(a,o){!function r(a,i,o,u){var s=l(e[a],e,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(r,i,a,o)})}return a=a?a.then(o,o):o()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=j(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=l(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(O.prototype),s(O.prototype,o,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new O(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(g),s(g,u,"Generator"),s(g,i,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function y(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g,k="firebasestorage.googleapis.com",O="storageBucket",w=12e4,j=6e5,_=1e3,x=function(e){function t(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,E(e),"Firebase Storage: ".concat(n," (").concat(E(e),")")))).status_=i,a.customData={serverResponse:null},a._baseMessage=a.message,Object.setPrototypeOf(Object(h.a)(Object(h.a)(a)),t.prototype),a}return Object(f.a)(t,e),Object(a.a)(t,[{key:"_codeEquals",value:function(e){return E(e)===this.code}},{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),t}(p.c);function E(e){return"storage/"+e}function I(){return new x(g.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function T(){return new x(g.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function S(){return new x(g.CANCELED,"User canceled the upload/download.")}function C(){return new x(g.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function N(e){return new x(g.INVALID_ARGUMENT,e)}function A(){return new x(g.APP_DELETED,"The Firebase app was deleted.")}function R(e){return new x(g.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function P(e,t){return new x(g.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function D(e){throw new x(g.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(g||(g={}));var L,M=function(){function e(t,n){Object(r.a)(this,e),this.bucket=t,this.path_=n}return Object(a.a)(e,[{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}},{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,a;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw a=t,new x(g.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null;var a=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}for(var o=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat("([A-Za-z0-9.\\-_]+)","/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(n===k?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat("([A-Za-z0-9.\\-_]+)","/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<u.length;s++){var c=u[s],l=c.regex.exec(t);if(l){var f=l[c.indices.bucket],h=l[c.indices.path];h||(h=""),r=new e(f,h),c.postModify(r);break}}if(null==r)throw function(e){return new x(g.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),F=function(){function e(t){Object(r.a)(this,e),this.promise_=Promise.reject(t)}return Object(a.a)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}]),e}();function U(e){return"string"===typeof e||e instanceof String}function V(e){return z()&&e instanceof Blob}function z(){return"undefined"!==typeof Blob&&!Object(p.x)()}function B(e,t,n,r){if(r<t)throw N("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw N("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function q(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function G(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function K(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==t.indexOf(e);return n||r||a}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(L||(L={}));var H=function(){function e(t,n,a,i,o,u,s,c,l,f,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];Object(r.a)(this,e),this.url_=t,this.method_=n,this.headers_=a,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=s,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(function(e,t){d.resolve_=e,d.reject_=t,d.start_()})}return Object(a.a)(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,a=e.reject_,i=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(i,i.getResponse());void 0!==o?r(o):r()}catch(s){a(s)}else if(null!==i){var u=I();u.serverResponse=i.getErrorText(),e.errorCallback_?a(e.errorCallback_(i,u)):a(u)}else{if(n.canceled)a(e.appDelete_?A():S());else a(T())}};this.canceled_?t(0,new W(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,a=null,i=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){a=setTimeout(function(){a=null,e(d,s())},t)}function h(){i&&clearTimeout(i)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var i;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,i=0):i=1e3*(r+Math.random()),f(i)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==a?(e||(u=2),clearTimeout(a),f(0)):e||(u=1)))}return f(0),i=setTimeout(function(){o=!0,v(!0)},n),v}(function(t,n){if(n)t(!1,new W(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var a=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(a),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&r.removeUploadProgressListener(a),e.pendingConnection_=null;var n=r.getErrorCode()===L.NO_ERROR,i=r.getStatus();if(!n||K(i,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===L.ABORT;t(!1,new W(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(i);t(!0,new W(u,r))}})}},t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),W=function e(t,n,a){Object(r.a)(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!a};function Q(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Y(e){if("undefined"===typeof atob)throw t="base-64",new x(g.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var $={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},J=function e(t,n){Object(r.a)(this,e),this.data=t,this.contentType=n||null};function X(e,t){switch(e){case $.RAW:return new J(Z(t));case $.BASE64:case $.BASE64URL:return new J(ee(e,t));case $.DATA_URL:return new J(function(e){var t=new te(e);return t.base64?ee($.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw P($.DATA_URL,"Malformed data URL.")}return Z(t)}(t.rest)}(t),new te(t).contentType)}throw I()}function Z(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ee(e,t){switch(e){case $.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw P(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case $.BASE64URL:var a=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(a||i)throw P(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=Y(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw P(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var te=function e(t){Object(r.a)(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw P($.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var a=n[1]||null;null!=a&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-";base64".length):a),this.rest=t.substring(t.indexOf(",")+1)};var ne=function(){function e(t,n){Object(r.a)(this,e);var a=0,i="";V(t)?(this.data_=t,a=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),a=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),a=t.length),this.size_=a,this.type_=i}return Object(a.a)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(V(this.data_)){var r=this.data_,a=(o=t,u=n,(i=r).webkitSlice?i.webkitSlice(o,u):i.mozSlice?i.mozSlice(o,u):i.slice?i.slice(o,u):null);return null===a?null:new e(a)}var i,o,u,s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(z()){var a=n.map(function(t){return t instanceof e?t.data_:t});return new e(function(){for(var e=Q(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var a=new e,i=0;i<n.length;i++)a.append(n[i]);return a.getBlob()}if(z())return new Blob(n);throw new x(g.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}.apply(null,a))}var i=n.map(function(e){return U(e)?X($.RAW,e).data:e.data_}),o=0;i.forEach(function(e){o+=e.byteLength});var u=new Uint8Array(o),s=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]}),new e(u,!0)}}]),e}();function re(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function ae(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ie(e,t){return t}var oe=function e(t,n,a,i){Object(r.a)(this,e),this.server=t,this.local=n||t,this.writable=!!a,this.xform=i||ie},ue=null;function se(){if(ue)return ue;var e=[];e.push(new oe("bucket")),e.push(new oe("generation")),e.push(new oe("metageneration")),e.push(new oe("name","fullPath",!0));var t=new oe("name");t.xform=function(e,t){return function(e){return!U(e)||e.length<2?e:ae(e)}(t)},e.push(t);var n=new oe("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new oe("timeCreated")),e.push(new oe("updated")),e.push(new oe("md5Hash",null,!0)),e.push(new oe("cacheControl",null,!0)),e.push(new oe("contentDisposition",null,!0)),e.push(new oe("contentEncoding",null,!0)),e.push(new oe("contentLanguage",null,!0)),e.push(new oe("contentType",null,!0)),e.push(new oe("metadata","customMetadata",!0)),ue=e}function ce(e,t,n){for(var r={type:"file"},a=n.length,i=0;i<a;i++){var o=n[i];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,a=new M(n,r);return t._makeStorageReference(a)}})}(r,e),r}function le(e,t,n){var r=re(t);return null===r?null:ce(e,r,n)}function fe(e,t){for(var n={},r=t.length,a=0;a<r;a++){var i=t[a];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}var he="prefixes",de="items";function pe(e,t,n){var r=re(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[he]){var a,i=y(n[he]);try{for(i.s();!(a=i.n()).done;){var o=a.value.replace(/\/$/,""),u=e._makeStorageReference(new M(t,o));r.prefixes.push(u)}}catch(h){i.e(h)}finally{i.f()}}if(n[de]){var s,c=y(n[de]);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new M(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var ve=function e(t,n,a,i){Object(r.a)(this,e),this.url=t,this.method=n,this.handler=a,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function me(e){if(!e)throw I()}function ye(e,t){return function(n,r){var a=le(e,r,t);return me(null!==a),a}}function be(e,t){return function(n,r){var a=le(e,r,t);return me(null!==a),function(e,t,n,r){var a=re(t);if(null===a)return null;if(!U(a.downloadTokens))return null;var i=a.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(t){var a=e.bucket,i=e.fullPath;return q("/b/"+o(a)+"/o/"+o(i),n,r)+G({alt:"media",token:t})})[0]}(a,r,e.host,e._protocol)}}function ge(e){return function(t,n){var r,a,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new x(g.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new x(g.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new x(g.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(a=e.path,r=new x(g.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ke(e){var t=ge(e);return function(n,r){var a,i=t(n,r);return 404===n.getStatus()&&(a=e.path,i=new x(g.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Oe(e,t,n){var r=q(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,i=new ve(r,"GET",ye(e,n),a);return i.errorHandler=ke(t),i}function we(e,t,n,r,a){var i={};t.isRoot?i.prefix="":i.prefix=t.path+"/",n&&n.length>0&&(i.delimiter=n),r&&(i.pageToken=r),a&&(i.maxResults=a);var o=q(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new ve(o,"GET",function(e,t){return function(n,r){var a=pe(e,t,r);return me(null!==a),a}}(e,t.bucket),u);return s.urlParams=i,s.errorHandler=ge(t),s}function je(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function _e(e,t,n,r,a){var i=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=je(t,r,a),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+fe(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=ne.getBlob(c,r,l);if(null===f)throw C();var h={name:s.fullPath},d=q(i,e.host,e._protocol),p=e.maxUploadRetryTime,v=new ve(d,"POST",ye(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=ge(t),v}var xe=function e(t,n,a,i){Object(r.a)(this,e),this.current=t,this.total=n,this.finalized=!!a,this.metadata=i||null};function Ee(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){me(!1)}return me(!!n&&-1!==(t||["active"]).indexOf(n)),n}function Ie(e,t,n,r,a,i,o,u){var s=new xe(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new x(g.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;a>0&&(l=Math.min(l,a));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw C();var v=t.maxUploadRetryTime,m=new ve(n,"POST",function(e,n){var a,o=Ee(e,["active","final"]),u=s.current+l,c=r.size();return a="final"===o?ye(t,i)(e,n):null,new xe(u,c,"final"===o,a)},v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=ge(e),m}var Te={STATE_CHANGED:"state_changed"},Se={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ce(e){switch(e){case"running":case"pausing":case"canceling":return Se.RUNNING;case"paused":return Se.PAUSED;case"success":return Se.SUCCESS;case"canceled":return Se.CANCELED;case"error":default:return Se.ERROR}}var Ne=function e(t,n,a){if(Object(r.a)(this,e),"function"===typeof t||null!=n||null!=a)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==a&&void 0!==a?a:void 0;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}};function Ae(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then(function(){return e.apply(void 0,n)})}}var Re=null,Pe=function(){function e(){var t=this;Object(r.a)(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=L.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=L.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=L.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return Object(a.a)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw D("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw D("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw D("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw D("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw D("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),De=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(a.a)(t,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),t}(Pe);function Le(){return Re?Re():new De}var Me=function(){function e(t,n){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(r.a)(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=se(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(a._request=void 0,a._chunkMultiplier=1,e._codeEquals(g.CANCELED))a._needToFetchStatus=!0,a.completeTransitions_();else{var t=a.isExponentialBackoffExpired();if(K(e.status,[])){if(!t)return a.sleepTime=Math.max(2*a.sleepTime,_),a._needToFetchStatus=!0,void a.completeTransitions_();e=T()}a._error=e,a._transition("error")}},this._metadataErrorHandler=function(e){a._request=void 0,e._codeEquals(g.CANCELED)?a.completeTransitions_():(a._error=e,a._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(function(e,t){a._resolve=e,a._reject=t,a._start()}),this._promise.then(null,function(){})}return Object(a.a)(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(function(){e.pendingTimeout=void 0,e._continueUpload()},this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=Object(s.a)(n,2),a=r[0],i=r[1];switch(t._state){case"running":e(a,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})}},{key:"_createResumable",value:function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,a){var i=t.bucketOnlyServerUrl(),o=je(t,r,a),u={name:o.fullPath},s=q(i,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=fe(o,n),f=e.maxUploadRetryTime,h=new ve(s,"POST",function(e){var t;Ee(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){me(!1)}return me(U(t)),t},f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=ge(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),a=e._ref.storage._makeRequest(r,Le,t,n);e._request=a,a.getPromise().then(function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken(function(n,r){var a=function(e,t,n,r){var a=e.maxUploadRetryTime,i=new ve(n,"POST",function(e){var t=Ee(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(i){me(!1)}n||me(!1);var a=Number(n);return me(!isNaN(a)),new xe(a,r.size(),"final"===t)},a);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=ge(t),i}(e._ref.storage,e._ref._location,t,e._blob),i=e._ref.storage._makeRequest(a,Le,n,r);e._request=i,i.getPromise().then(function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})}},{key:"_continueUpload",value:function(){var e=this,t=262144*this._chunkMultiplier,n=new xe(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(a,i){var o;try{o=Ie(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,Le,a,i,!1);e._request=u,u.getPromise().then(function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})}},{key:"_increaseMultiplier",value:function(){2*(262144*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken(function(t,n){var r=Oe(e._ref.storage,e._ref._location,e._mappings),a=e._ref.storage._makeRequest(r,Le,t,n);e._request=a,a.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._transition("success")},e._metadataErrorHandler)})}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken(function(t,n){var r=_e(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),a=e._ref.storage._makeRequest(r,Le,t,n);e._request=a,a.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=S(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"on",value:function(e,t,n,r){var a=this,i=new Ne(t||void 0,n||void 0,r||void 0);return this._addObserver(i),function(){a._removeObserver(i)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(t){e._notifyObserver(t)})}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Ce(this._state)){case Se.SUCCESS:Ae(this._resolve.bind(null,this.snapshot))();break;case Se.CANCELED:case Se.ERROR:Ae(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Ce(this._state)){case Se.RUNNING:case Se.PAUSED:e.next&&Ae(e.next.bind(e,this.snapshot))();break;case Se.SUCCESS:e.complete&&Ae(e.complete.bind(e))();break;case Se.CANCELED:case Se.ERROR:e.error&&Ae(e.error.bind(e,this._error))();break;default:e.error&&Ae(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}},{key:"snapshot",get:function(){var e=Ce(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}}]),e}(),Fe=function(){function e(t,n){Object(r.a)(this,e),this._service=t,this._location=n instanceof M?n:M.makeFromUrl(n,t.host)}return Object(a.a)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw R(e)}},{key:"root",get:function(){var e=new M(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return ae(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new M(this._location.bucket,t);return new e(this._service,n)}}]),e}();function Ue(e,t,n){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(u.a)(m().mark(function e(t,n,r){var a,i,u,s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u={pageToken:r},e.next=3,ze(t,u);case 3:if(s=e.sent,(a=n.prefixes).push.apply(a,Object(o.a)(s.prefixes)),(i=n.items).push.apply(i,Object(o.a)(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,Ue(t,n,s.nextPageToken);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ze(e,t){null!=t&&"number"===typeof t.maxResults&&B("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=we(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Le)}function Be(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var a=q(t.fullServerUrl(),e.host,e._protocol),i=fe(n,r),o=e.maxOperationRetryTime,u=new ve(a,"PATCH",ye(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=i,u.errorHandler=ke(t),u}(e.storage,e._location,t,se());return e.storage.makeRequestWithTokens(n,Le)}function qe(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=q(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,i=new ve(r,"GET",be(e,n),a);return i.errorHandler=ke(t),i}(e.storage,e._location,se());return e.storage.makeRequestWithTokens(t,Le).then(function(e){if(null===e)throw new x(g.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function Ge(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=q(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,a=new ve(n,"DELETE",function(e,t){},r);return a.successCodes=[200,204],a.errorHandler=ke(t),a}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Le)}function Ke(e,t){var n=function(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new M(e._location.bucket,n);return new Fe(e.storage,r)}function He(e,t){if(e instanceof Ye){var n=e;if(null==n._bucket)throw new x(g.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+O+"' property when initializing the app?");var r=new Fe(n,n._bucket);return null!=t?He(r,t):r}return void 0!==t?Ke(e,t):e}function We(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ye)return new Fe(e,t);throw N("To use ref(service, url), the first argument must be a Storage instance.")}return He(e,t)}function Qe(e,t){var n=null===t||void 0===t?void 0:t[O];return null==n?null:M.makeFromBucketSpec(n,e)}var Ye=function(){function e(t,n,a,i,o){Object(r.a)(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=a,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=k,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=w,this._maxUploadRetryTime=j,this._requests=new Set,this._bucket=null!=i?M.makeFromBucketSpec(i,this._host):Qe(this._host,this.app.options)}return Object(a.a)(e,[{key:"_getAuthToken",value:function(){var e=Object(u.a)(m().mark(function e(){var t,n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Object(u.a)(m().mark(function e(){var t,n;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Fe(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var a=this,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new F(A());var o=function(e,t,n,r,a,i){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=G(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new H(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(function(){return a._requests.delete(o)},function(){return a._requests.delete(o)}),o}},{key:"makeRequestWithTokens",value:function(){var e=Object(u.a)(m().mark(function e(t,n){var r,a,i,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,a=Object(s.a)(r,2),i=a[0],o=a[1],e.abrupt("return",this._makeRequest(t,n,i,o).getPromise());case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=M.makeFromBucketSpec(this._url,e):this._bucket=Qe(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){B("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){B("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}}]),e}(),$e="@firebase/storage",Je="0.11.2",Xe="storage";function Ze(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Me(e,new ne(t),n)}(e=Object(p.p)(e),t,n)}function et(e){return function(e){e._throwIfRoot("getMetadata");var t=Oe(e.storage,e._location,se());return e.storage.makeRequestWithTokens(t,Le)}(e=Object(p.p)(e))}function tt(e){return function(e){var t={prefixes:[],items:[]};return Ue(e,t).then(function(){return t})}(e=Object(p.p)(e))}function nt(e,t){return We(e=Object(p.p)(e),t)}function rt(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var a=r.mockUserToken;a&&(e._overrideAuthToken="string"===typeof a?a:Object(p.g)(a,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function at(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Ye(r,a,i,n,d.SDK_VERSION)}Object(d._registerComponent)(new v.a(Xe,at,"PUBLIC").setMultipleInstances(!0)),Object(d.registerVersion)($e,Je,""),Object(d.registerVersion)($e,Je,"esm2017");var it=function(){function e(t,n,a){Object(r.a)(this,e),this._delegate=t,this.task=n,this.ref=a}return Object(a.a)(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),ot=function(){function e(t,n){Object(r.a)(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object(a.a)(e,[{key:"then",value:function(e,t){var n=this;return this._delegate.then(function(t){if(e)return e(new it(t,n,n._ref))},t)}},{key:"on",value:function(e,t,n,r){var a=this,i=void 0;return t&&(i="function"===typeof t?function(e){return t(new it(e,a,a._ref))}:{next:t.next?function(e){return t.next(new it(e,a,a._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}},{key:"snapshot",get:function(){return new it(this._delegate.snapshot,this,this._ref)}}]),e}(),ut=function(){function e(t,n){Object(r.a)(this,e),this._delegate=t,this._service=n}return Object(a.a)(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new st(t,e._service)})}},{key:"items",get:function(){var e=this;return this._delegate.items.map(function(t){return new st(t,e._service)})}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),st=function(){function e(t,n){Object(r.a)(this,e),this._delegate=t,this.storage=n}return Object(a.a)(e,[{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){return new e(function(e,t){return Ke(e,t)}(this._delegate,t),this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new ot(Ze(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=X(t,e),a=Object.assign({},n);return null==a.contentType&&null!=r.contentType&&(a.contentType=r.contentType),new ot(new Me(this._delegate,new ne(r.data,!0),a),this)}},{key:"listAll",value:function(){var e=this;return tt(this._delegate).then(function(t){return new ut(t,e.storage)})}},{key:"list",value:function(e){var t=this;return function(e,t){return ze(e=Object(p.p)(e),t)}(this._delegate,e||void 0).then(function(e){return new ut(e,t.storage)})}},{key:"getMetadata",value:function(){return et(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Be(e=Object(p.p)(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return e=this._delegate,qe(e=Object(p.p)(e));var e}},{key:"delete",value:function(){return this._throwIfRoot("delete"),e=this._delegate,Ge(e=Object(p.p)(e));var e}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw R(e)}},{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}}]),e}(),ct=function(){function e(t,n){Object(r.a)(this,e),this.app=t,this._delegate=n}return Object(a.a)(e,[{key:"ref",value:function(e){if(lt(e))throw N("ref() expected a child path but got a URL, use refFromURL instead.");return new st(nt(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!lt(e))throw N("refFromURL() expected a full URL but got a child path, use ref() instead.");try{M.makeFromUrl(e,this._delegate.host)}catch(t){throw N("refFromUrl() expected a valid full URL but got an invalid one.")}return new st(nt(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rt(this._delegate,e,t,n)}},{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}}]),e}();function lt(e){return/^[A-Za-z]+:\/\//.test(e)}var ft="@firebase/storage-compat",ht="0.3.2",dt="storage-compat";function pt(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),a=e.getProvider("storage").getImmediate({identifier:n});return new ct(r,a)}!function(e){var t={TaskState:Se,TaskEvent:Te,StringFormat:$,Storage:ct,Reference:st};e.INTERNAL.registerComponent(new v.a(dt,pt,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(ft,ht)}(i.a)},function(e,t,n){"use strict";var r=n(5),a=n(7),i=n(0),o=n.n(i),u=n(21),s=n(103),c=n(102),l=n(8);function f(e){var t=e.children,n=e.className,i=e.compact,h=e.content,d=e.horizontal,p=e.piled,v=e.raised,m=e.size,y=e.stacked,b=Object(a.a)("ui",m,Object(u.a)(i,"compact"),Object(u.a)(d,"horizontal"),Object(u.a)(p,"piled"),Object(u.a)(v,"raised"),Object(u.a)(y,"stacked"),"segments",n),g=Object(s.a)(f,e),k=Object(c.a)(f,e);return o.a.createElement(k,Object(r.a)({},g,{className:b}),l.a.isNil(t)?h:t)}f.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],f.propTypes={};var h=f;function d(e){var t=e.children,n=e.className,i=e.content,u=Object(a.a)("inline",n),f=Object(s.a)(d,e),h=Object(c.a)(d,e);return o.a.createElement(h,Object(r.a)({},f,{className:u}),l.a.isNil(t)?i:t)}d.handledProps=["as","children","className","content"],d.propTypes={};var p=d;function v(e){var t=e.attached,n=e.basic,i=e.children,f=e.circular,h=e.className,d=e.clearing,p=e.color,m=e.compact,y=e.content,b=e.disabled,g=e.floated,k=e.inverted,O=e.loading,w=e.placeholder,j=e.padded,_=e.piled,x=e.raised,E=e.secondary,I=e.size,T=e.stacked,S=e.tertiary,C=e.textAlign,N=e.vertical,A=Object(a.a)("ui",p,I,Object(u.a)(n,"basic"),Object(u.a)(f,"circular"),Object(u.a)(d,"clearing"),Object(u.a)(m,"compact"),Object(u.a)(b,"disabled"),Object(u.a)(k,"inverted"),Object(u.a)(O,"loading"),Object(u.a)(w,"placeholder"),Object(u.a)(_,"piled"),Object(u.a)(x,"raised"),Object(u.a)(E,"secondary"),Object(u.a)(T,"stacked"),Object(u.a)(S,"tertiary"),Object(u.a)(N,"vertical"),Object(u.b)(t,"attached"),Object(u.b)(j,"padded"),Object(u.d)(C),Object(u.e)(g,"floated"),"segment",h),R=Object(s.a)(v,e),P=Object(c.a)(v,e);return o.a.createElement(P,Object(r.a)({},R,{className:A}),l.a.isNil(i)?y:i)}v.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],v.Group=h,v.Inline=p,v.propTypes={};t.a=v},function(e,t,n){"use strict";var r=n(5),a=n(7),i=n(0),o=n.n(i),u=n(21),s=n(103),c=n(102),l=n(124);function f(e){var t=e.centered,n=e.children,i=e.className,l=e.color,h=e.columns,d=e.divided,p=e.only,v=e.reversed,m=e.stretched,y=e.textAlign,b=e.verticalAlign,g=Object(a.a)(l,Object(u.a)(t,"centered"),Object(u.a)(d,"divided"),Object(u.a)(m,"stretched"),Object(u.c)(p,"only"),Object(u.c)(v,"reversed"),Object(u.d)(y),Object(u.f)(b),Object(u.g)(h,"column",!0),"row",i),k=Object(s.a)(f,e),O=Object(c.a)(f,e);return o.a.createElement(O,Object(r.a)({},k,{className:g}),n)}f.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],f.propTypes={};var h=f;function d(e){var t=e.celled,n=e.centered,i=e.children,l=e.className,f=e.columns,h=e.container,p=e.divided,v=e.doubling,m=e.inverted,y=e.padded,b=e.relaxed,g=e.reversed,k=e.stackable,O=e.stretched,w=e.textAlign,j=e.verticalAlign,_=Object(a.a)("ui",Object(u.a)(n,"centered"),Object(u.a)(h,"container"),Object(u.a)(v,"doubling"),Object(u.a)(m,"inverted"),Object(u.a)(k,"stackable"),Object(u.a)(O,"stretched"),Object(u.b)(t,"celled"),Object(u.b)(p,"divided"),Object(u.b)(y,"padded"),Object(u.b)(b,"relaxed"),Object(u.c)(g,"reversed"),Object(u.d)(w),Object(u.f)(j),Object(u.g)(f,"column",!0),"grid",l),x=Object(s.a)(d,e),E=Object(c.a)(d,e);return o.a.createElement(E,Object(r.a)({},x,{className:_}),i)}d.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],d.Column=l.a,d.Row=h,d.propTypes={};t.a=d},,,,,,,,,,function(e,t,n){"use strict";var r=n(5),a=n(19),i=n(106),o=n(29),u=n(16),s=n(30),c=n(20),l=n(134),f=n(7),h=n(0),d=n.n(h),p=n(103),v=n(45),m=n(21),y=n(102),b=n(8),g=n(136),k=n(212),O=n(119),w=n(137),j=function(e){function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).inputRef=Object(h.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return Object(c.a)(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return Object(c.a)(r)?t?-1:void 0:r},n.focus=function(e){return n.inputRef.current.focus(e)},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=Object(s.a)(e,"target.value");Object(u.a)(n.props,"onChange",e,Object(r.a)({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return Object(r.a)({},t,e.props,{ref:function(t){Object(l.a)(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,a=e.disabled,i=e.type,o=n.computeTabIndex(),u=Object(p.a)(t,n.props),s=Object(v.c)(u),c=s[0],l=s[1];return[Object(r.a)({},c,{disabled:a,type:i,tabIndex:o,onChange:n.handleChange,ref:n.inputRef}),l]},n}return Object(a.a)(t,e),t.prototype.render=function(){var e=this,n=this.props,a=n.action,u=n.actionPosition,s=n.children,c=n.className,l=n.disabled,p=n.error,v=n.fluid,j=n.focus,_=n.icon,x=n.iconPosition,E=n.input,I=n.inverted,T=n.label,S=n.labelPosition,C=n.loading,N=n.size,A=n.transparent,R=n.type,P=Object(f.a)("ui",N,Object(m.a)(l,"disabled"),Object(m.a)(p,"error"),Object(m.a)(v,"fluid"),Object(m.a)(j,"focus"),Object(m.a)(I,"inverted"),Object(m.a)(C,"loading"),Object(m.a)(A,"transparent"),Object(m.e)(u,"action")||Object(m.a)(a,"action"),Object(m.e)(x,"icon")||Object(m.a)(_||C,"icon"),Object(m.e)(S,"labeled")||Object(m.a)(T,"labeled"),"input",c),D=Object(y.a)(t,this.props),L=this.partitionProps(),M=L[0],F=L[1];if(!b.a.isNil(s)){var U=Object(o.a)(h.Children.toArray(s),function(t){return"input"!==t.type?t:Object(h.cloneElement)(t,e.handleChildOverrides(t,M))});return d.a.createElement(D,Object(r.a)({},F,{className:P}),U)}var V=k.a.create(a,{autoGenerateKey:!1}),z=w.a.create(T,{defaultProps:{className:Object(f.a)("label",Object(i.a)(S,"corner")&&S)},autoGenerateKey:!1});return d.a.createElement(D,Object(r.a)({},F,{className:P}),"left"===u&&V,"right"!==S&&z,Object(g.b)(E||R,{defaultProps:M,autoGenerateKey:!1}),O.a.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==u&&V,"right"===S&&z)},t}(h.Component);j.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],j.propTypes={},j.defaultProps={type:"text"},j.create=Object(g.f)(j,function(e){return{type:e}}),t.a=j},function(e,t,n){"use strict";var r=n(5),a=n(7),i=n(0),o=n.n(i),u=n(21),s=n(103),c=n(102),l=n(8);function f(e){var t=e.children,n=e.className,i=e.content,h=e.fluid,d=e.text,p=e.textAlign,v=Object(a.a)("ui",Object(u.a)(d,"text"),Object(u.a)(h,"fluid"),Object(u.d)(p),"container",n),m=Object(s.a)(f,e),y=Object(c.a)(f,e);return o.a.createElement(y,Object(r.a)({},m,{className:v}),l.a.isNil(t)?i:t)}f.handledProps=["as","children","className","content","fluid","text","textAlign"],f.propTypes={},t.a=f},function(e,t,n){"use strict";var r=n(53),a=n(19),i=n(5),o=n(62),u=n(49),s=n(50),c=n(69),l=c.a&&new c.a,f=l?function(e,t){return l.set(e,t),e}:s.a,h=n(35),d=Object.create,p=function(){function e(){}return function(t){if(!Object(h.a)(t))return{};if(d)return d(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var v=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=p(e.prototype),r=e.apply(n,t);return Object(h.a)(r)?r:n}},m=n(26),y=1;var b=function(e,t,n){var r=t&y,a=v(e);return function t(){return(this&&this!==m.a&&this instanceof t?a:e).apply(r?n:this,arguments)}},g=n(55),k=Math.max;var O=function(e,t,n,r){for(var a=-1,i=e.length,o=n.length,u=-1,s=t.length,c=k(i-o,0),l=Array(s+c),f=!r;++u<s;)l[u]=t[u];for(;++a<o;)(f||a<i)&&(l[n[a]]=e[a]);for(;c--;)l[u++]=e[a++];return l},w=Math.max;var j=function(e,t,n,r){for(var a=-1,i=e.length,o=-1,u=n.length,s=-1,c=t.length,l=w(i-u,0),f=Array(l+c),h=!r;++a<l;)f[a]=e[a];for(var d=a;++s<c;)f[d+s]=t[s];for(;++o<u;)(h||a<i)&&(f[d+n[o]]=e[a++]);return f};var _=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var x=function(){},E=4294967295;function I(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=E,this.__views__=[]}I.prototype=p(x.prototype),I.prototype.constructor=I;var T=I,S=n(81),C=l?function(e){return l.get(e)}:S.a,N={},A=Object.prototype.hasOwnProperty;var R=function(e){for(var t=e.name+"",n=N[t],r=A.call(N,t)?n.length:0;r--;){var a=n[r],i=a.func;if(null==i||i==e)return a.name}return t};function P(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}P.prototype=p(x.prototype),P.prototype.constructor=P;var D=P,L=n(24),M=n(27);var F=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var U=function(e){if(e instanceof T)return e.clone();var t=new D(e.__wrapped__,e.__chain__);return t.__actions__=F(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},V=Object.prototype.hasOwnProperty;function z(e){if(Object(M.a)(e)&&!Object(L.a)(e)&&!(e instanceof T)){if(e instanceof D)return e;if(V.call(e,"__wrapped__"))return U(e)}return new D(e)}z.prototype=x.prototype,z.prototype.constructor=z;var B=z;var q=function(e){var t=R(e),n=B[t];if("function"!=typeof n||!(t in T.prototype))return!1;if(e===n)return!0;var r=C(n);return!!r&&e===r[0]},G=n(88),K=Object(G.a)(f),H=/\{\n\/\* \[wrapped with (.+)\] \*/,W=/,? & /;var Q=function(e){var t=e.match(H);return t?t[1].split(W):[]},Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var $=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")},J=n(117),X=n(149),Z=n(80),ee=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var te=function(e,t){return Object(X.a)(ee,function(n){var r="_."+n[0];t&n[1]&&!Object(Z.a)(e,r)&&e.push(r)}),e.sort()};var ne=function(e,t,n){var r=t+"";return Object(J.a)(e,$(r,te(Q(r),n)))},re=1,ae=2,ie=4,oe=8,ue=32,se=64;var ce=function(e,t,n,r,a,i,o,u,s,c){var l=t&oe;t|=l?ue:se,(t&=~(l?se:ue))&ie||(t&=~(re|ae));var f=[e,t,a,l?i:void 0,l?o:void 0,l?void 0:i,l?void 0:o,u,s,c],h=n.apply(void 0,f);return q(e)&&K(h,f),h.placeholder=r,ne(h,e,t)};var le=function(e){return e.placeholder},fe=n(51),he=Math.min;var de=function(e,t){for(var n=e.length,r=he(t.length,n),a=F(e);r--;){var i=t[r];e[r]=Object(fe.a)(i,n)?a[i]:void 0}return e},pe="__lodash_placeholder__";var ve=function(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n];o!==t&&o!==pe||(e[n]=pe,i[a++]=n)}return i},me=1,ye=2,be=8,ge=16,ke=128,Oe=512;var we=function e(t,n,r,a,i,o,u,s,c,l){var f=n&ke,h=n&me,d=n&ye,p=n&(be|ge),y=n&Oe,b=d?void 0:v(t);return function g(){for(var k=arguments.length,w=Array(k),x=k;x--;)w[x]=arguments[x];if(p)var E=le(g),I=_(w,E);if(a&&(w=O(w,a,i,p)),o&&(w=j(w,o,u,p)),k-=I,p&&k<l){var T=ve(w,E);return ce(t,n,e,g.placeholder,r,w,T,s,c,l-k)}var S=h?r:this,C=d?S[t]:t;return k=w.length,s?w=de(w,s):y&&k>1&&w.reverse(),f&&c<k&&(w.length=c),this&&this!==m.a&&this instanceof g&&(C=b||v(C)),C.apply(S,w)}};var je=function(e,t,n){var r=v(e);return function a(){for(var i=arguments.length,o=Array(i),u=i,s=le(a);u--;)o[u]=arguments[u];var c=i<3&&o[0]!==s&&o[i-1]!==s?[]:ve(o,s);if((i-=c.length)<n)return ce(e,t,we,a.placeholder,void 0,o,c,void 0,void 0,n-i);var l=this&&this!==m.a&&this instanceof a?r:e;return Object(g.a)(l,this,o)}},_e=1;var xe=function(e,t,n,r){var a=t&_e,i=v(e);return function t(){for(var o=-1,u=arguments.length,s=-1,c=r.length,l=Array(c+u),f=this&&this!==m.a&&this instanceof t?i:e;++s<c;)l[s]=r[s];for(;u--;)l[s++]=arguments[++o];return Object(g.a)(f,a?n:this,l)}},Ee="__lodash_placeholder__",Ie=1,Te=2,Se=4,Ce=8,Ne=128,Ae=256,Re=Math.min;var Pe=function(e,t){var n=e[1],r=t[1],a=n|r,i=a<(Ie|Te|Ne),o=r==Ne&&n==Ce||r==Ne&&n==Ae&&e[7].length<=t[8]||r==(Ne|Ae)&&t[7].length<=t[8]&&n==Ce;if(!i&&!o)return e;r&Ie&&(e[2]=t[2],a|=n&Ie?0:Se);var u=t[3];if(u){var s=e[3];e[3]=s?O(s,u,t[4]):u,e[4]=s?ve(e[3],Ee):t[4]}return(u=t[5])&&(s=e[5],e[5]=s?j(s,u,t[6]):u,e[6]=s?ve(e[5],Ee):t[6]),(u=t[7])&&(e[7]=u),r&Ne&&(e[8]=null==e[8]?t[8]:Re(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e},De=n(52),Le="Expected a function",Me=1,Fe=2,Ue=8,Ve=16,ze=32,Be=64,qe=Math.max;var Ge=function(e,t,n,r,a,i,o,u){var s=t&Fe;if(!s&&"function"!=typeof e)throw new TypeError(Le);var c=r?r.length:0;if(c||(t&=~(ze|Be),r=a=void 0),o=void 0===o?o:qe(Object(De.a)(o),0),u=void 0===u?u:Object(De.a)(u),c-=a?a.length:0,t&Be){var l=r,h=a;r=a=void 0}var d=s?void 0:C(e),p=[e,t,n,r,a,l,h,i,o,u];if(d&&Pe(p,d),e=p[0],t=p[1],n=p[2],r=p[3],a=p[4],!(u=p[9]=void 0===p[9]?s?0:e.length:qe(p[9]-c,0))&&t&(Ue|Ve)&&(t&=~(Ue|Ve)),t&&t!=Me)v=t==Ue||t==Ve?je(e,t,u):t!=ze&&t!=(Me|ze)||a.length?we.apply(void 0,p):xe(e,t,n,r);else var v=b(e,t,n);return ne((d?f:K)(v,p),e,t)},Ke=Object(u.a)(function(e,t){var n=ve(t,le(Ke));return Ge(e,64,void 0,t,n)});Ke.placeholder={};var He=Ke,We=n(147),Qe=n(29),Ye=n(30),$e=n(145),Je=n(16),Xe=n(120),Ze=n(60),et=n(7),tt=n(25),nt=n.n(tt),rt=n(0),at=n.n(rt),it=n(64),ot=n.n(it),ut=n(132),st=n(133),ct=n(21),lt=n(103),ft=n(102),ht=n(45),dt=n(144),pt=n(204),vt=n(8);function mt(e){var t=e.categoryContent,n=e.resultsContent;return at.a.createElement(at.a.Fragment,null,at.a.createElement("div",{className:"name"},t),at.a.createElement("div",{className:"results"},n))}mt.handledProps=["categoryContent","resultsContent"],mt.propTypes={};var yt=mt;function bt(e){var t=e.active,n=e.children,r=e.className,a=e.content,o=e.layoutRenderer,u=e.renderer,s=Object(et.a)(Object(ct.a)(t,"active"),"category",r),c=Object(lt.a)(bt,e),l=Object(ft.a)(bt,e),f=u(e),h=vt.a.isNil(n)?a:n;return at.a.createElement(l,Object(i.a)({},c,{className:s}),o({categoryContent:f,resultsContent:h}))}bt.handledProps=["active","as","children","className","content","layoutRenderer","name","renderer","results"],bt.defaultProps={layoutRenderer:yt,renderer:function(e){return e.name}},bt.propTypes={};var gt=bt,kt=n(136),Ot=function(e){var t=e.image,n=e.price,r=e.title,a=e.description;return[t&&at.a.createElement("div",{key:"image",className:"image"},Object(kt.a)(t,{autoGenerateKey:!1})),at.a.createElement("div",{key:"content",className:"content"},n&&at.a.createElement("div",{className:"price"},n),r&&at.a.createElement("div",{className:"title"},r),a&&at.a.createElement("div",{className:"description"},a))]};Ot.handledProps=[];var wt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.className,a=e.renderer,o=Object(et.a)(Object(ct.a)(n,"active"),"result",r),u=Object(lt.a)(t,this.props),s=Object(ft.a)(t,this.props);return at.a.createElement(s,Object(i.a)({},u,{className:o,onClick:this.handleClick}),a(this.props))},t}(rt.Component);function jt(e){var t=e.children,n=e.className,r=e.content,a=Object(et.a)("results transition",n),o=Object(lt.a)(jt,e),u=Object(ft.a)(jt,e);return at.a.createElement(u,Object(i.a)({},o,{className:a}),vt.a.isNil(t)?r:t)}wt.handledProps=["active","as","className","content","description","id","image","onClick","price","renderer","title"],wt.propTypes={},wt.defaultProps={renderer:Ot},jt.handledProps=["as","children","className","content"],jt.propTypes={};var _t=jt;n.d(t,"a",function(){return Et});var xt=function(e){var t=e.input;return Object(Ze.a)(t)?Object(i.a)({},e,{input:{className:"prompt"}}):Object(Xe.a)(t)?Object(i.a)({},e,{input:Object(i.a)({},t,{className:Object(et.a)(t.className,"prompt")})}):e},Et=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(t=e.call.apply(e,[this].concat(a))||this).handleResultSelect=function(e,n){Object(Je.a)(t.props,"onResultSelect",e,Object(i.a)({},t.props,{result:n}))},t.handleSelectionChange=function(e){var n=t.getSelectedResult();Object(Je.a)(t.props,"onSelectionChange",e,Object(i.a)({},t.props,{result:n}))},t.closeOnEscape=function(e){nt.a.getCode(e)===nt.a.Escape&&(e.preventDefault(),t.close())},t.moveSelectionOnKeyDown=function(e){switch(nt.a.getCode(e)){case nt.a.ArrowDown:e.preventDefault(),t.moveSelectionBy(e,1);break;case nt.a.ArrowUp:e.preventDefault(),t.moveSelectionBy(e,-1)}},t.selectItemOnEnter=function(e){if(nt.a.getCode(e)===nt.a.Enter){var n=t.getSelectedResult();n&&(e.preventDefault(),t.setValue(n.title),t.handleResultSelect(e,n),t.close())}},t.closeOnDocumentClick=function(e){t.close()},t.handleMouseDown=function(e){t.isMouseDown=!0,Object(Je.a)(t.props,"onMouseDown",e,t.props),ut.a.sub("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,ut.a.unsub("mouseup",t.handleDocumentMouseUp)},t.handleInputClick=function(e){e.nativeEvent.stopImmediatePropagation(),t.tryOpen()},t.handleItemClick=function(e,n){var r=n.id,a=t.getSelectedResult(r);e.nativeEvent.stopImmediatePropagation(),t.setValue(a.title),t.handleResultSelect(e,a),t.close()},t.handleItemMouseDown=function(e){e.preventDefault()},t.handleFocus=function(e){Object(Je.a)(t.props,"onFocus",e,t.props),t.setState({focus:!0})},t.handleBlur=function(e){Object(Je.a)(t.props,"onBlur",e,t.props),t.setState({focus:!1})},t.handleSearchChange=function(e){e.stopPropagation();var n=t.props.minCharacters,r=t.state.open,a=e.target.value;Object(Je.a)(t.props,"onSearchChange",e,Object(i.a)({},t.props,{value:a})),a.length<n?t.close():r||t.tryOpen(a),t.setValue(a)},t.getFlattenedResults=function(){var e=t.props,n=e.category,r=e.results;return n?Object($e.a)(r,function(e,t){return e.concat(t.results)},[]):r},t.getSelectedResult=function(e){void 0===e&&(e=t.state.selectedIndex);var n=t.getFlattenedResults();return Object(Ye.a)(n,e)},t.setValue=function(e){var n=t.props.selectFirstResult;t.setState({value:e,selectedIndex:n?0:-1})},t.moveSelectionBy=function(e,n){var r=t.state.selectedIndex,a=t.getFlattenedResults().length-1,i=r+n;i>a?i=0:i<0&&(i=a),t.setState({selectedIndex:i}),t.scrollSelectedItemIntoView(),t.handleSelectionChange(e)},t.scrollSelectedItemIntoView=function(){if(Object(st.a)()){var e=document.querySelector(".ui.search.active.visible .results.visible");if(e){var t=e.querySelector(".result.active");if(t){var n=t.offsetTop<e.scrollTop,r=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;n?e.scrollTop=t.offsetTop:r&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}},t.tryOpen=function(e){void 0===e&&(e=t.state.value);var n=t.props.minCharacters;e.length<n||t.open()},t.open=function(){t.setState({open:!0})},t.close=function(){t.setState({open:!1})},t.renderSearchInput=function(e){var n=t.props,r=n.icon,a=n.input,o=n.placeholder,u=t.state.value;return pt.a.create(a,{autoGenerateKey:!1,defaultProps:Object(i.a)({},e,{autoComplete:"off",icon:r,onChange:t.handleSearchChange,onClick:t.handleInputClick,tabIndex:"0",value:u,placeholder:o}),overrideProps:xt})},t.renderNoResults=function(){var e=t.props,n=e.noResultsDescription,r=e.noResultsMessage;return at.a.createElement("div",{className:"message empty"},at.a.createElement("div",{className:"header"},r),n&&at.a.createElement("div",{className:"description"},n))},t.renderResult=function(e,n,a,o){var u=e.childKey,s=Object(r.a)(e,["childKey"]);void 0===o&&(o=0);var c=t.props.resultRenderer,l=t.state.selectedIndex,f=n+o;return at.a.createElement(wt,Object(i.a)({key:null!=u?u:s.id||s.title,active:l===f,onClick:t.handleItemClick,onMouseDown:t.handleItemMouseDown,renderer:c},s,{id:f}))},t.renderResults=function(){var e=t.props.results;return Object(Qe.a)(e,t.renderResult)},t.renderCategories=function(){var e=t.props,n=e.categoryLayoutRenderer,a=e.categoryRenderer,o=e.results,u=t.state.selectedIndex,s=0;return Object(Qe.a)(o,function(e){var o=e.childKey,c=Object(r.a)(e,["childKey"]),l=Object(i.a)({key:null!=o?o:c.name,active:Object(We.a)(u,s,s+c.results.length),layoutRenderer:n,renderer:a},c),f=He(t.renderResult,s);return s+=c.results.length,at.a.createElement(gt,l,c.results.map(f))})},t.renderMenuContent=function(){var e=t.props,n=e.category,r=e.showNoResults,a=e.results;return Object(o.a)(a)?r?t.renderNoResults():null:n?t.renderCategories():t.renderResults()},t.renderResultsMenu=function(){var e=t.state.open?"visible":"",n=t.renderMenuContent();if(n)return at.a.createElement(_t,{className:e},n)},t}Object(a.a)(t,e),t.getAutoControlledStateFromProps=function(e,t){if("undefined"!==typeof t.prevValue&&ot()(t.prevValue,t.value))return{prevValue:t.value};var n=e.selectFirstResult?0:-1;return{prevValue:t.value,selectedIndex:n}};var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!ot()(e,this.props)||!ot()(t,this.state)},n.componentDidUpdate=function(e,t){!t.focus&&this.state.focus?(this.isMouseDown||this.tryOpen(),this.state.open&&ut.a.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.focus&&!this.state.focus&&(this.isMouseDown||this.close(),ut.a.unsub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])),!t.open&&this.state.open?(this.open(),ut.a.sub("click",this.closeOnDocumentClick),ut.a.sub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.open&&!this.state.open&&(this.close(),ut.a.unsub("click",this.closeOnDocumentClick),ut.a.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]))},n.componentWillUnmount=function(){ut.a.unsub("click",this.closeOnDocumentClick),ut.a.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])},n.render=function(){var e=this.state,n=e.searchClasses,r=e.focus,a=e.open,o=this.props,u=o.aligned,s=o.category,c=o.className,l=o.fluid,f=o.loading,h=o.size,d=Object(et.a)("ui",a&&"active visible",h,n,Object(ct.a)(s,"category"),Object(ct.a)(r,"focus"),Object(ct.a)(l,"fluid"),Object(ct.a)(f,"loading"),Object(ct.e)(u,"aligned"),"search",c),p=Object(lt.a)(t,this.props),v=Object(ft.a)(t,this.props),m=Object(ht.c)(p,{htmlProps:ht.b}),y=m[0],b=m[1];return at.a.createElement(v,Object(i.a)({},b,{className:d,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown}),this.renderSearchInput(y),this.renderResultsMenu())},t}(dt.a);Et.handledProps=["aligned","as","category","categoryLayoutRenderer","categoryRenderer","className","defaultOpen","defaultValue","fluid","icon","input","loading","minCharacters","noResultsDescription","noResultsMessage","onBlur","onFocus","onMouseDown","onResultSelect","onSearchChange","onSelectionChange","open","placeholder","resultRenderer","results","selectFirstResult","showNoResults","size","value"],Et.propTypes={},Et.defaultProps={icon:"search",input:"text",minCharacters:1,noResultsMessage:"No results found.",showNoResults:!0},Et.autoControlledProps=["open","value"],Et.Category=gt,Et.Result=wt,Et.Results=_t},function(e,t,n){"use strict";var r=n(5),a=n(19),i=n(106);var o=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a},u=n(29);var s=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0},c=n(43);var l=function(e,t){var n=!0;return Object(c.a)(e,function(e,r,a){return n=!!t(e,r,a)}),n},f=n(39),h=n(24),d=n(127);var p=function(e,t,n){var r=Object(h.a)(e)?s:l;return n&&Object(d.a)(e,t,n)&&(t=void 0),r(e,Object(f.a)(t,3))},v=n(47),m=n(122),y=n(75),b=n(52);var g=function(e,t,n){var r=null==e?0:e.length;return r?(t=r-(t=n||void 0===t?1:Object(b.a)(t)),Object(y.a)(e,0,t<0?0:t)):[]},k=n(62),O=n(121),w=n(113),j=n(34),_=n(79),x=n(97),E=Object(x.a)("length"),I=n(82),T="[\\ud800-\\udfff]",S="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",C="\\ud83c[\\udffb-\\udfff]",N="[^\\ud800-\\udfff]",A="(?:\\ud83c[\\udde6-\\uddff]){2}",R="[\\ud800-\\udbff][\\udc00-\\udfff]",P="(?:"+S+"|"+C+")"+"?",D="[\\ufe0e\\ufe0f]?"+P+("(?:\\u200d(?:"+[N,A,R].join("|")+")[\\ufe0e\\ufe0f]?"+P+")*"),L="(?:"+[N+S+"?",S,A,R,T].join("|")+")",M=RegExp(C+"(?="+C+")|"+L+D,"g");var F=function(e){for(var t=M.lastIndex=0;M.test(e);)++t;return t};var U=function(e){return Object(I.a)(e)?F(e):E(e)},V="[object Map]",z="[object Set]";var B=function(e){if(null==e)return 0;if(Object(j.a)(e))return Object(_.a)(e)?U(e):e.length;var t=Object(w.a)(e);return t==V||t==z?e.size:Object(O.a)(e).length},q=n(150),G=n(95),K=n(37),H=n(110),W=K.a?K.a.isConcatSpreadable:void 0;var Q=function(e){return Object(h.a)(e)||Object(H.a)(e)||!!(W&&e&&e[W])};var Y=function e(t,n,r,a,i){var o=-1,u=t.length;for(r||(r=Q),i||(i=[]);++o<u;){var s=t[o];n>0&&r(s)?n>1?e(s,n-1,r,a,i):Object(G.a)(i,s):a||(i[i.length]=s)}return i},$=n(49),J=n(67),X=Object($.a)(function(e,t){return Object(J.a)(e)?Object(q.a)(e,Y(t,1,J.a,!0)):[]}),Z=n(152),ee=Object($.a)(function(e){return Object(Z.a)(Y(e,1,J.a,!0))}),te=n(30),ne=n(81),re=n(60),ae=n(16),ie=n(116);var oe=function(e,t){return Object(ie.a)(e,t)},ue=n(48),se=n(59),ce=n(141),le=n(105);var fe=function(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],u=Object(se.a)(e,o);n(u,o)&&Object(ce.a)(i,Object(le.a)(o,e),u)}return i},he=n(142);var de=function(e,t){return fe(e,t,function(t,n){return Object(he.a)(e,n)})};var pe=function(e){return null!=e&&e.length?Y(e,1):[]},ve=n(90),me=n(117);var ye=function(e){return Object(me.a)(Object(ve.a)(e,void 0,pe),e+"")}(function(e,t){return null==e?{}:de(e,t)}),be=n(20),ge=n(46),ke=n.n(ge),Oe=n(213),we=n(7),je=n(25),_e=n.n(je),xe=n(0),Ee=n.n(xe),Ie=n(64),Te=n.n(Ie),Se=n(146),Ce=n(8),Ne=n(21),Ae=n(103),Re=n(102),Pe=n(144),De=n(119),Le=n(137),Me=n(136),Fe=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.className,a=e.name,i=Object(we.a)(a,"flag",n),o=Object(Ae.a)(t,this.props),u=Object(Re.a)(t,this.props);return Ee.a.createElement(u,Object(r.a)({},o,{className:i}))},t}(xe.PureComponent);Fe.handledProps=["as","className","name"],Fe.propTypes={},Fe.defaultProps={as:"i"},Fe.create=Object(Me.f)(Fe,function(e){return{name:e}});var Ue=Fe,Ve=n(191);function ze(e){var t=e.className,n=Object(we.a)("divider",t),a=Object(Ae.a)(ze,e),i=Object(Re.a)(ze,e);return Ee.a.createElement(i,Object(r.a)({},a,{className:n}))}ze.handledProps=["as","className"],ze.propTypes={};var Be=ze,qe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){Object(ae.a)(t.props,"onClick",e,t.props)},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.active,a=e.children,i=e.className,o=e.content,u=e.disabled,s=e.description,c=e.flag,l=e.icon,f=e.image,h=e.label,d=e.selected,p=e.text,v=Object(we.a)(Object(Ne.a)(n,"active"),Object(Ne.a)(u,"disabled"),Object(Ne.a)(d,"selected"),"item",i),m=Object(be.a)(l)?Ce.a.someByType(a,"DropdownMenu")&&"dropdown":l,y=Object(Ae.a)(t,this.props),b=Object(Re.a)(t,this.props),g={role:"option","aria-disabled":u,"aria-checked":n,"aria-selected":d};if(!Ce.a.isNil(a))return Ee.a.createElement(b,Object(r.a)({},y,g,{className:v,onClick:this.handleClick}),a);var k=Ue.create(c,{autoGenerateKey:!1}),O=De.a.create(m,{autoGenerateKey:!1}),w=Ve.a.create(f,{autoGenerateKey:!1}),j=Le.a.create(h,{autoGenerateKey:!1}),_=Object(Me.e)("span",function(e){return{children:e}},s,{defaultProps:{className:"description"},autoGenerateKey:!1}),x=Object(Me.e)("span",function(e){return{children:e}},Ce.a.isNil(o)?p:o,{defaultProps:{className:"text"},autoGenerateKey:!1});return Ee.a.createElement(b,Object(r.a)({},y,g,{className:v,onClick:this.handleClick}),w,O,k,j,_,x)},t}(xe.Component);qe.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],qe.propTypes={},qe.create=Object(Me.f)(qe,function(e){return e});var Ge=qe;function Ke(e){var t=e.children,n=e.className,a=e.content,i=e.icon,o=Object(we.a)("header",n),u=Object(Ae.a)(Ke,e),s=Object(Re.a)(Ke,e);return Ce.a.isNil(t)?Ee.a.createElement(s,Object(r.a)({},u,{className:o}),De.a.create(i,{autoGenerateKey:!1}),a):Ee.a.createElement(s,Object(r.a)({},u,{className:o}),t)}Ke.handledProps=["as","children","className","content","icon"],Ke.propTypes={},Ke.create=Object(Me.f)(Ke,function(e){return{content:e}});var He=Ke;function We(e){var t=e.children,n=e.className,a=e.content,i=e.direction,o=e.open,u=e.scrolling,s=Object(we.a)(i,Object(Ne.a)(o,"visible"),Object(Ne.a)(u,"scrolling"),"menu transition",n),c=Object(Ae.a)(We,e),l=Object(Re.a)(We,e);return Ee.a.createElement(l,Object(r.a)({},c,{className:s}),Ce.a.isNil(t)?a:t)}We.handledProps=["as","children","className","content","direction","open","scrolling"],We.propTypes={};var Qe=We,Ye=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).handleChange=function(e){var n=Object(te.a)(e,"target.value");Object(ae.a)(t.props,"onChange",e,Object(r.a)({},t.props,{value:n}))},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,a=e.className,i=e.tabIndex,o=e.type,u=e.value,s=Object(we.a)("search",a),c=Object(Ae.a)(t,this.props);return Ee.a.createElement("input",Object(r.a)({},c,{"aria-autocomplete":"list",autoComplete:n,className:s,onChange:this.handleChange,tabIndex:i,type:o,value:u}))},t}(xe.Component);Ye.handledProps=["as","autoComplete","className","tabIndex","type","value"],Ye.propTypes={},Ye.defaultProps={autoComplete:"off",type:"text"},Ye.create=Object(Me.f)(Ye,function(e){return{type:e}});var $e=Ye;function Je(e){var t=e.children,n=e.className,a=e.content,i=Object(we.a)("divider",n),o=Object(Ae.a)(Je,e),u=Object(Re.a)(Je,e);return Ee.a.createElement(u,Object(r.a)({"aria-atomic":!0,"aria-live":"polite",role:"alert"},o,{className:i}),Ce.a.isNil(t)?a:t)}Je.handledProps=["as","children","className","content"],Je.propTypes={},Je.create=Object(Me.f)(Je,function(e){return{content:e}});var Xe=Je,Ze=n(111),et=n(107),tt=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(tt.source);var rt=function(e){return(e=Object(et.a)(e))&&nt.test(e)?e.replace(tt,"\\$&"):e},at=n(138),it=n(151);function ot(e){var t=e.additionLabel,n=e.additionPosition,r=e.allowAdditions,a=e.deburr,o=e.multiple,u=e.options,s=e.search,c=e.searchQuery,l=e.value,f=u;if(o&&(f=Object(it.a)(f,function(e){return!Object(i.a)(l,e.value)})),s&&c)if(Object(ue.a)(s))f=s(f,c);else{var h=a?Object(at.a)(c):c,d=new RegExp(rt(h),"i");f=Object(it.a)(f,function(e){return d.test(a?Object(at.a)(e.text):e.text)})}if(r&&s&&c&&!Object(Ze.a)(f,{text:c})){var p={key:"addition",text:[Ee.a.isValidElement(t)?Ee.a.cloneElement(t,{key:"addition-label"}):t||"",Ee.a.createElement("b",{key:"addition-query"},c)],value:c,className:"addition","data-additional":!0};"top"===n?f.unshift(p):f.push(p)}return f}ot.handledProps=[];var ut=n(125),st=n(145);function ct(e){var t,n=e.additionLabel,r=e.additionPosition,a=e.allowAdditions,o=e.deburr,u=e.multiple,s=e.options,c=e.search,l=e.searchQuery,f=e.selectedIndex,h=e.value,d=ot({value:h,options:s,searchQuery:l,additionLabel:n,additionPosition:r,allowAdditions:a,deburr:o,multiple:u,search:c}),p=Object(st.a)(d,function(e,t,n){return t.disabled||e.push(n),e},[]);if(!f||f<0){var v=p[0];t=u?v:Object(ut.a)(d,["value",h])||p[0]}else if(u)t=Object(m.a)(p,function(e){return e>=f}),f>=d.length-1&&(t=p[p.length-1]);else{var y=Object(ut.a)(d,["value",h]);t=Object(i.a)(p,y)?y:void 0}return(!t||t<0)&&(t=p[0]),t}n.d(t,"a",function(){return dt});var lt=function(e,t){return Object(be.a)(e)?t:e},ft=function(e){return e?e.map(function(e){return ye(e,["key","value"])}):e};function ht(e){var t=e.flag,n=e.image,r=e.text;return Object(ue.a)(r)?r:{content:Ee.a.createElement(Ee.a.Fragment,null,Ue.create(t),Ve.a.create(n),r)}}var dt=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).searchRef=Object(xe.createRef)(),t.sizerRef=Object(xe.createRef)(),t.ref=Object(xe.createRef)(),t.handleChange=function(e,n){Object(ae.a)(t.props,"onChange",e,Object(r.a)({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,a=n.multiple;(Object(re.a)(r)?!a:r)&&t.close(e,ne.a)},t.closeOnEscape=function(e){t.props.closeOnEscape&&_e.a.getCode(e)===_e.a.Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,a=r.multiple,i=r.selectOnNavigation;if(t.state.open){var o=((n={})[_e.a.ArrowDown]=1,n[_e.a.ArrowUp]=-1,n)[_e.a.getCode(e)];if(void 0!==o){e.preventDefault();var u=t.getSelectedIndexAfterMove(o);!a&&i&&t.makeSelectedItemActive(e,u),t.setState({selectedIndex:u})}}},t.openOnSpace=function(e){var n,r,a,i=t.state.focus&&!t.state.open&&_e.a.getCode(e)===_e.a.Spacebar,o="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(a=e.target)?void 0:a.isContentEditable);i&&(o&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,a=n.open;if(r&&!a){var i=_e.a.getCode(e);i!==_e.a.ArrowDown&&i!==_e.a.ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var a=t.state,i=a.open,o=a.value,u=t.props.multiple,s=t.getSelectedItem(n),c=Object(te.a)(s,"value"),l=Object(te.a)(s,"disabled");if(Object(be.a)(c)||!i||l)return o;var f=u?ee(o,[c]):c;return(u?!!X(f,o).length:f!==o)&&(t.setState({value:f}),t.handleChange(e,f),s["data-additional"]&&Object(ae.a)(t.props,"onAddItem",e,Object(r.a)({},t.props,{value:c}))),o},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,a=r.open,i=r.selectedIndex;if(a&&(_e.a.getCode(e)===_e.a.Enter||!n&&_e.a.getCode(e)===_e.a.Spacebar)){e.preventDefault();var o=B(ot({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==o){var u=t.makeSelectedItemActive(e,i);t.setState({selectedIndex:ct({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:i,value:u,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&Object(ae.a)(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,a=n.search,i=t.state,o=i.searchQuery,u=i.value;if(_e.a.getCode(e)===_e.a.Backspace&&!o&&a&&r&&!Object(k.a)(u)){e.preventDefault();var s=g(u);t.setState({value:s}),t.handleChange(e,s)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&Object(Se.a)(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,Object(ae.a)(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,a=n.search,i=t.state,o=i.open,u=i.searchQuery;if(Object(ae.a)(t.props,"onClick",e,t.props),e.stopPropagation(),!a)return t.toggle(e);o?Object(ae.a)(t.searchRef.current,"focus"):u.length>=r||1===r?t.open(e):Object(ae.a)(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();Object(ae.a)(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var a=t.props,i=a.multiple,o=a.search,u=t.state.value,s=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var c=n["data-additional"],l=i?ee(t.state.value,[s]):s;(i?!!X(l,u).length:l!==u)&&(t.setState({value:l}),t.handleChange(e,l)),t.clearSearchQuery(),o?Object(ae.a)(t.searchRef.current,"focus"):Object(ae.a)(t.ref.current,"focus"),t.closeOnChange(e),c&&Object(ae.a)(t.props,"onAddItem",e,Object(r.a)({},t.props,{value:s}))}},t.handleFocus=function(e){t.state.focus||(Object(ae.a)(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=Object(te.a)(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,a=r.closeOnBlur,i=r.multiple,o=r.selectOnBlur;t.isMouseDown||(Object(ae.a)(t.props,"onBlur",e,t.props),o&&!i&&(t.makeSelectedItemActive(e,t.state.selectedIndex),a&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var a=n.value;e.stopPropagation();var i=t.props.minCharacters,o=t.state.open,u=a;Object(ae.a)(t.props,"onSearchChange",e,Object(r.a)({},t.props,{searchQuery:u})),t.setState({searchQuery:u,selectedIndex:0}),!o&&u.length>=i?t.open():o&&1!==i&&u.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),Object(ae.a)(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=ot({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return Object(te.a)(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return Object(m.a)(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,a=e.search,i=e.multiple,o={role:a?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===o.role&&(o["aria-multiselectable"]=i),o},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),Object(ae.a)(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,a=Object(v.a)(r,n.value);t.setState({value:a}),t.handleChange(e,a)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=ot({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!p(r,"disabled")){var a=r.length-1,i=n+e;return!t.props.wrapSelection&&(i>a||i<0)?i=n:i>a?i=0:i<0&&(i=a),r[i].disabled?t.getSelectedIndexAfterMove(e,i):i}},t.handleIconOverrides=function(e){var n=t.props.clearable;return{className:Object(we.a)(n&&t.hasValue()&&"clear",e.className),onClick:function(n){Object(ae.a)(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return Object(be.a)(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,a=e.tabIndex;if(!r)return n?-1:Object(be.a)(a)?0:a},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){Object(ae.a)(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!Object(k.a)(n):!Object(be.a)(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,a=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:a&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,a=document.documentElement.clientHeight-n.top-n.height-r,i=n.top-r,o=a<0&&i>a;!o!==!t.state.upward&&t.setState({upward:o})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,a=r.disabled,i=r.search;a||(i&&Object(ae.a)(t.searchRef.current,"focus"),Object(ae.a)(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(Object(ae.a)(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,a=n.placeholder,i=n.search,o=n.text,u=t.state,s=u.searchQuery,c=u.selectedIndex,l=u.value,f=u.open,h=t.hasValue(),d=Object(we.a)(a&&!h&&"default","text",i&&s&&"filtered"),p=a;return o?p=o:f&&!r?e=t.getSelectedItem(c):h&&(e=t.getItemByValue(l)),Xe.create(e?ht(e):p,{defaultProps:{className:d}})},t.renderSearchInput=function(){var e=t.props,n=e.search,r=e.searchInput,a=t.state.searchQuery;return n&&Ee.a.createElement(Oe.a,{innerRef:t.searchRef},$e.create(r,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:a},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,r=e.multiple;return n&&r&&Ee.a.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,a=t.state,i=a.selectedLabel,s=a.value;if(n&&!Object(k.a)(s)){var c=Object(u.a)(s,t.getItemByValue);return Object(u.a)(o(c),function(e,n){var a={active:e.value===i,as:"a",key:lt(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return Le.a.create(r(e,n,a),{defaultProps:a})})}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,a=e.multiple,o=e.search,s=e.noResultsMessage,c=t.state,l=c.open,f=c.selectedIndex,h=c.value;if(n&&!l)return null;var d=ot({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==s&&o&&Object(k.a)(d))return Ee.a.createElement("div",{className:"message"},s);var p=a?function(e){return Object(i.a)(h,e)}:function(e){return e===h};return Object(u.a)(d,function(e,n){return Ge.create(Object(r.a)({active:p(e.value),selected:f===n},e,{key:lt(e.key,e.value),style:Object(r.a)({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})})},t.renderMenu=function(){var e=t.props,n=e.children,a=e.direction,i=e.header,o=t.state.open,u=t.getDropdownMenuAriaOptions();if(!Ce.a.isNil(n)){var s=xe.Children.only(n),c=Object(we.a)(a,Object(Ne.a)(o,"visible"),s.props.className);return Object(xe.cloneElement)(s,Object(r.a)({className:c},u))}return Ee.a.createElement(Qe,Object(r.a)({},u,{direction:a,open:o}),He.create(i,{autoGenerateKey:!1}),t.renderOptions())},t}Object(a.a)(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!Te()(n.__value,t.value)||!oe(ft(e.options),ft(n.__options)))&&(r.selectedIndex=ct({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!Te()(e,this.props)||!Te()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,a=n.minCharacters,i=n.openOnFocus,o=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var u=!o||o&&1===a&&!this.state.open;i&&u&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,a=e.button,i=e.className,o=e.compact,u=e.disabled,s=e.error,c=e.fluid,l=e.floating,f=e.icon,h=e.inline,d=e.item,p=e.labeled,v=e.loading,m=e.multiple,y=e.pointing,b=e.search,g=e.selection,k=e.scrolling,O=e.simple,w=e.trigger,j=this.state,_=j.focus,x=j.open,E=j.upward,I=Object(we.a)("ui",Object(Ne.a)(x,"active visible"),Object(Ne.a)(u,"disabled"),Object(Ne.a)(s,"error"),Object(Ne.a)(v,"loading"),Object(Ne.a)(n,"basic"),Object(Ne.a)(a,"button"),Object(Ne.a)(o,"compact"),Object(Ne.a)(c,"fluid"),Object(Ne.a)(l,"floating"),Object(Ne.a)(h,"inline"),Object(Ne.a)(p,"labeled"),Object(Ne.a)(d,"item"),Object(Ne.a)(m,"multiple"),Object(Ne.a)(b,"search"),Object(Ne.a)(g,"selection"),Object(Ne.a)(O,"simple"),Object(Ne.a)(k,"scrolling"),Object(Ne.a)(E,"upward"),Object(Ne.b)(y,"pointing"),"dropdown",i),T=Object(Ae.a)(t,this.props),S=Object(Re.a)(t,this.props),C=this.getDropdownAriaOptions(S,this.props);return Ee.a.createElement(Oe.a,{innerRef:this.ref},Ee.a.createElement(S,Object(r.a)({},T,C,{className:I,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),w||this.renderText(),De.a.create(f,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),x&&Ee.a.createElement(ke.a,{name:"keydown",on:this.closeOnEscape}),x&&Ee.a.createElement(ke.a,{name:"click",on:this.closeOnDocumentClick}),_&&Ee.a.createElement(ke.a,{name:"keydown",on:this.removeItemOnBackspace})))},t}(Pe.a);dt.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],dt.propTypes={},dt.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:ht,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},dt.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],dt.Divider=Be,dt.Header=He,dt.Item=Ge,dt.Menu=Qe,dt.SearchInput=$e,dt.Text=Xe},function(e,t,n){"use strict";var r=n(5),a=n(19),i=n(16),o=n(7),u=n(0),s=n.n(u),c=n(21),l=n(103),f=n(102),h=n(212),d=n(20),p=n(30),v=n(8),m=n(136),y=n(137),b=n(141);var g=function(e,t,n){return null==e?e:Object(b.a)(e,t,n)},k=n(213),O=n(45),w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).inputRef=Object(u.createRef)(),t.labelRef=Object(u.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,a=e.readOnly,i=t.state.checked;return!n&&!a&&!(r&&i)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return Object(d.a)(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,a=t.state,o=a.checked,u=a.indeterminate,s=Object(i.a)(t.inputRef.current,"contains",e.target),c=Object(i.a)(t.labelRef.current,"contains",e.target),l=!c&&!s,f=!Object(d.a)(n);c&&f||Object(i.a)(t.props,"onClick",e,Object(r.a)({},t.props,{checked:!o,indeterminate:!!u})),t.isClickFromMouse&&(t.isClickFromMouse=!1,c&&!f&&t.handleChange(e),l&&t.handleChange(e),c&&f&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(Object(i.a)(t.props,"onChange",e,Object(r.a)({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,a=n.checked,o=n.indeterminate;Object(i.a)(t.props,"onMouseDown",e,Object(r.a)({},t.props,{checked:!!a,indeterminate:!!o})),e.defaultPrevented||Object(i.a)(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,a=n.checked,o=n.indeterminate;t.isClickFromMouse=!0,Object(i.a)(t.props,"onMouseUp",e,Object(r.a)({},t.props,{checked:!!a,indeterminate:!!o}))},t.setIndeterminate=function(){var e=t.state.indeterminate;g(t.inputRef,"current.indeterminate",!!e)},t}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,a=e.disabled,i=e.label,u=e.id,h=e.name,p=e.radio,v=e.readOnly,y=e.slider,b=e.toggle,g=e.type,w=e.value,j=this.state,_=j.checked,x=j.indeterminate,E=Object(o.a)("ui",Object(c.a)(_,"checked"),Object(c.a)(a,"disabled"),Object(c.a)(x,"indeterminate"),Object(c.a)(Object(d.a)(i),"fitted"),Object(c.a)(p,"radio"),Object(c.a)(v,"read-only"),Object(c.a)(y,"slider"),Object(c.a)(b,"toggle"),"checkbox",n),I=Object(l.a)(t,this.props),T=Object(f.a)(t,this.props),S=Object(O.c)(I,{htmlProps:O.b}),C=S[0],N=S[1],A=Object(m.c)(i,{defaultProps:{htmlFor:u},autoGenerateKey:!1})||s.a.createElement("label",{htmlFor:u});return s.a.createElement(T,Object(r.a)({},N,{className:E,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),s.a.createElement(k.a,{innerRef:this.inputRef},s.a.createElement("input",Object(r.a)({},C,{checked:_,className:"hidden",disabled:a,id:u,name:h,readOnly:!0,tabIndex:this.computeTabIndex(),type:g,value:w}))),s.a.createElement(k.a,{innerRef:this.labelRef},A))},t}(n(144).a);function j(e){var t=e.slider,n=e.toggle,a=e.type,i=Object(l.a)(j,e),o=!(t||n)||void 0;return s.a.createElement(w,Object(r.a)({},i,{type:a,radio:o,slider:t,toggle:n}))}w.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],w.propTypes={},w.defaultProps={type:"checkbox"},w.autoControlledProps=["checked","indeterminate"],j.handledProps=["slider","toggle","type"],j.propTypes={},j.defaultProps={type:"radio"};var _=j;function x(e){var t=e.children,n=e.className,a=e.content,i=e.control,h=e.disabled,b=e.error,g=e.inline,k=e.label,O=e.required,j=e.type,E=e.width,I=e.id,T=Object(o.a)(Object(c.a)(h,"disabled"),Object(c.a)(b,"error"),Object(c.a)(g,"inline"),Object(c.a)(O,"required"),Object(c.g)(E,"wide"),"field",n),S=Object(l.a)(x,e),C=Object(f.a)(x,e),N=Object(p.a)(b,"pointing","above"),A=y.a.create(b,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:N,id:I?I+"-error-message":void 0,role:"alert","aria-atomic":!0}}),R=("below"===N||"right"===N)&&A,P=("above"===N||"left"===N)&&A;if(Object(d.a)(i))return Object(d.a)(k)?s.a.createElement(C,Object(r.a)({},S,{className:T,id:I}),v.a.isNil(t)?a:t):s.a.createElement(C,Object(r.a)({},S,{className:T,id:I}),R,Object(m.c)(k,{autoGenerateKey:!1}),P);var D={"aria-describedby":I&&b?I+"-error-message":null,"aria-invalid":!!b||void 0},L=Object(r.a)({},S,{content:a,children:t,disabled:h,required:O,type:j,id:I});return"input"!==i||"checkbox"!==j&&"radio"!==j?i===w||i===_?s.a.createElement(C,{className:T},R,Object(u.createElement)(i,Object(r.a)({},D,L,{label:k})),P):s.a.createElement(C,{className:T},Object(m.c)(k,{defaultProps:{htmlFor:I},autoGenerateKey:!1}),R,Object(u.createElement)(i,Object(r.a)({},D,L)),P):s.a.createElement(C,{className:T},s.a.createElement("label",null,R,Object(u.createElement)(i,Object(r.a)({},D,L))," ",k,P))}x.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],x.propTypes={};var E=x;function I(e){var t=e.control,n=Object(l.a)(I,e),a=Object(f.a)(I,e);return s.a.createElement(a,Object(r.a)({},n,{control:t}))}I.handledProps=["as","control"],I.propTypes={},I.defaultProps={as:E,control:h.a};var T=I;function S(e){var t=e.control,n=Object(l.a)(S,e),a=Object(f.a)(S,e);return s.a.createElement(a,Object(r.a)({},n,{control:t}))}S.handledProps=["as","control"],S.propTypes={},S.defaultProps={as:E,control:w};var C=S,N=n(207);function A(e){var t=e.control,n=Object(l.a)(A,e),a=Object(f.a)(A,e);return s.a.createElement(a,Object(r.a)({},n,{control:t}))}A.handledProps=["as","control"],A.propTypes={},A.defaultProps={as:E,control:N.a};var R=A;function P(e){var t=e.children,n=e.className,a=e.grouped,i=e.inline,u=e.unstackable,h=e.widths,d=Object(o.a)(Object(c.a)(a,"grouped"),Object(c.a)(i,"inline"),Object(c.a)(u,"unstackable"),Object(c.g)(h,null,!0),"fields",n),p=Object(l.a)(P,e),v=Object(f.a)(P,e);return s.a.createElement(v,Object(r.a)({},p,{className:d}),t)}P.handledProps=["as","children","className","grouped","inline","unstackable","widths"],P.propTypes={};var D=P,L=n(204);function M(e){var t=e.control,n=Object(l.a)(M,e),a=Object(f.a)(M,e);return s.a.createElement(a,Object(r.a)({},n,{control:t}))}M.handledProps=["as","control"],M.propTypes={},M.defaultProps={as:E,control:L.a};var F=M;function U(e){var t=e.control,n=Object(l.a)(U,e),a=Object(f.a)(U,e);return s.a.createElement(a,Object(r.a)({},n,{control:t}))}U.handledProps=["as","control"],U.propTypes={},U.defaultProps={as:E,control:_};var V=U;function z(e){return s.a.createElement(N.a,Object(r.a)({},e,{selection:!0}))}z.handledProps=["options"],z.propTypes={},z.Divider=N.a.Divider,z.Header=N.a.Header,z.Item=N.a.Item,z.Menu=N.a.Menu;var B=z;function q(e){var t=e.control,n=e.options,a=Object(l.a)(q,e),i=Object(f.a)(q,e);return s.a.createElement(i,Object(r.a)({},a,{control:t,options:n}))}q.handledProps=["as","control","options"],q.propTypes={},q.defaultProps={as:E,control:B};var G=q,K=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).ref=Object(u.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=Object(p.a)(e,"target.value");Object(i.a)(t.props,"onChange",e,Object(r.a)({},t.props,{value:n}))},t.handleInput=function(e){var n=Object(p.a)(e,"target.value");Object(i.a)(t.props,"onInput",e,Object(r.a)({},t.props,{value:n}))},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,a=e.value,i=Object(l.a)(t,this.props),o=Object(f.a)(t,this.props);return s.a.createElement(k.a,{innerRef:this.ref},s.a.createElement(o,Object(r.a)({},i,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:a})))},t}(u.Component);K.handledProps=["as","onChange","onInput","rows","value"],K.propTypes={},K.defaultProps={as:"textarea",rows:3};var H=K;function W(e){var t=e.control,n=Object(l.a)(W,e),a=Object(f.a)(W,e);return s.a.createElement(a,Object(r.a)({},n,{control:t}))}W.handledProps=["as","control"],W.propTypes={},W.defaultProps={as:E,control:H};var Q=W,Y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){"string"!==typeof t.props.action&&Object(i.a)(e,"preventDefault");for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];i.a.apply(void 0,[t.props,"onSubmit",e,t.props].concat(r))},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.action,a=e.children,i=e.className,u=e.error,h=e.inverted,d=e.loading,p=e.reply,v=e.size,m=e.success,y=e.unstackable,b=e.warning,g=e.widths,k=Object(o.a)("ui",v,Object(c.a)(u,"error"),Object(c.a)(h,"inverted"),Object(c.a)(d,"loading"),Object(c.a)(p,"reply"),Object(c.a)(m,"success"),Object(c.a)(y,"unstackable"),Object(c.a)(b,"warning"),Object(c.g)(g,null,!0),"form",i),O=Object(l.a)(t,this.props),w=Object(f.a)(t,this.props);return s.a.createElement(w,Object(r.a)({},O,{action:n,className:k,onSubmit:this.handleSubmit}),a)},t}(u.Component);Y.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],Y.propTypes={},Y.defaultProps={as:"form"},Y.Field=E,Y.Button=T,Y.Checkbox=C,Y.Dropdown=R,Y.Group=D,Y.Input=F,Y.Radio=V,Y.Select=G,Y.TextArea=Q;t.a=Y},function(e,t,n){"use strict";var r=n(5),a=n(7),i=n(0),o=n.n(i),u=n(103),s=n(102),c=n(8),l=n(21),f=n(136);function h(e){var t=e.children,n=e.className,i=e.content,l=Object(a.a)("header",n),f=Object(u.a)(h,e),d=Object(s.a)(h,e);return o.a.createElement(d,Object(r.a)({},f,{className:l}),c.a.isNil(t)?i:t)}h.handledProps=["as","children","className","content"],h.propTypes={},h.create=Object(f.f)(h,function(e){return{content:e}});var d=h;function p(e){var t=e.children,n=e.className,i=e.content,l=Object(a.a)("description",n),f=Object(u.a)(p,e),h=Object(s.a)(p,e);return o.a.createElement(h,Object(r.a)({},f,{className:l}),c.a.isNil(t)?i:t)}p.handledProps=["as","children","className","content"],p.propTypes={},p.create=Object(f.f)(p,function(e){return{content:e}});var v=p;function m(e){var t=e.children,n=e.className,i=e.content,l=Object(a.a)("extra",n),f=Object(u.a)(m,e),h=Object(s.a)(m,e);return o.a.createElement(h,Object(r.a)({},f,{className:l}),c.a.isNil(t)?i:t)}m.handledProps=["as","children","className","content"],m.propTypes={},m.create=Object(f.f)(m,function(e){return{content:e}});var y=m;function b(e){var t=e.children,n=e.className,i=e.content,l=Object(a.a)("meta",n),f=Object(u.a)(b,e),h=Object(s.a)(b,e);return o.a.createElement(h,Object(r.a)({},f,{className:l}),c.a.isNil(t)?i:t)}b.handledProps=["as","children","className","content"],b.propTypes={},b.create=Object(f.f)(b,function(e){return{content:e}});var g=b;function k(e){var t=e.children,n=e.className,i=e.content,f=e.description,h=e.extra,p=e.header,m=e.meta,b=e.verticalAlign,O=Object(a.a)(Object(l.f)(b),"content",n),w=Object(u.a)(k,e),j=Object(s.a)(k,e);return c.a.isNil(t)?o.a.createElement(j,Object(r.a)({},w,{className:O}),d.create(p,{autoGenerateKey:!1}),g.create(m,{autoGenerateKey:!1}),v.create(f,{autoGenerateKey:!1}),y.create(h,{autoGenerateKey:!1}),i):o.a.createElement(j,Object(r.a)({},w,{className:O}),t)}k.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],k.propTypes={};var O=k,w=n(53),j=n(29);function _(e){var t=e.children,n=e.className,i=e.content,f=e.divided,h=e.items,d=e.link,p=e.relaxed,v=e.unstackable,m=Object(a.a)("ui",Object(l.a)(f,"divided"),Object(l.a)(d,"link"),Object(l.a)(v,"unstackable"),Object(l.b)(p,"relaxed"),"items",n),y=Object(u.a)(_,e),b=Object(s.a)(_,e);if(!c.a.isNil(t))return o.a.createElement(b,Object(r.a)({},y,{className:m}),t);if(!c.a.isNil(i))return o.a.createElement(b,Object(r.a)({},y,{className:m}),i);var g=Object(j.a)(h,function(e){var t=e.childKey,n=Object(w.a)(e,["childKey"]),a=null!=t?t:[n.content,n.description,n.header,n.meta].join("-");return o.a.createElement(C,Object(r.a)({},n,{key:a}))});return o.a.createElement(b,Object(r.a)({},y,{className:m}),g)}_.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],_.propTypes={};var x=_,E=n(191);function I(e){var t=e.size,n=Object(u.a)(I,e);return o.a.createElement(E.a,Object(r.a)({},n,{size:t,ui:!!t,wrapped:!0}))}I.handledProps=["size"],I.propTypes={},I.create=Object(f.f)(I,function(e){return{src:e}});var T=I;function S(e){var t=e.children,n=e.className,i=e.content,l=e.description,f=e.extra,h=e.header,d=e.image,p=e.meta,v=Object(a.a)("item",n),m=Object(u.a)(S,e),y=Object(s.a)(S,e);return c.a.isNil(t)?o.a.createElement(y,Object(r.a)({},m,{className:v}),T.create(d,{autoGenerateKey:!1}),o.a.createElement(O,{content:i,description:l,extra:f,header:h,meta:p})):o.a.createElement(y,Object(r.a)({},m,{className:v}),t)}S.handledProps=["as","children","className","content","description","extra","header","image","meta"],S.Content=O,S.Description=v,S.Extra=y,S.Group=x,S.Header=d,S.Image=T,S.Meta=g,S.propTypes={};var C=t.a=S},function(e,t,n){"use strict";var r=n(5),a=n(19),i=n(29),o=n(16),u=n(7),s=n(0),c=n.n(s),l=n(21),f=n(103),h=n(102),d=n(8),p=n(136);function v(e){var t=e.children,n=e.className,a=e.content,i=Object(u.a)(n,"description"),o=Object(f.a)(v,e),s=Object(h.a)(v,e);return c.a.createElement(s,Object(r.a)({},o,{className:i}),d.a.isNil(t)?a:t)}v.handledProps=["as","children","className","content"],v.propTypes={},v.create=Object(p.f)(v,function(e){return{content:e}});var m=v;function y(e){var t=e.children,n=e.className,a=e.content,i=Object(u.a)("header",n),o=Object(f.a)(y,e),s=Object(h.a)(y,e);return c.a.createElement(s,Object(r.a)({},o,{className:i}),d.a.isNil(t)?a:t)}y.handledProps=["as","children","className","content"],y.propTypes={},y.create=Object(p.f)(y,function(e){return{content:e}});var b=y;function g(e){var t=e.children,n=e.className,a=e.content,i=e.description,o=e.floated,s=e.header,p=e.verticalAlign,v=Object(u.a)(Object(l.e)(o,"floated"),Object(l.f)(p),"content",n),y=Object(f.a)(g,e),k=Object(h.a)(g,e);return d.a.isNil(t)?c.a.createElement(k,Object(r.a)({},y,{className:v}),b.create(s),m.create(i),a):c.a.createElement(k,Object(r.a)({},y,{className:v}),t)}g.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],g.propTypes={},g.create=Object(p.f)(g,function(e){return{content:e}});var k=g,O=n(119);function w(e){var t=e.className,n=e.verticalAlign,a=Object(u.a)(Object(l.f)(n),t),i=Object(f.a)(w,e);return c.a.createElement(O.a,Object(r.a)({},i,{className:a}))}w.handledProps=["className","verticalAlign"],w.propTypes={},w.create=Object(p.f)(w,function(e){return{name:e}});var j=w,_=n(120),x=n(191),E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||Object(o.a)(t.props,"onClick",e,t.props)},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.active,a=e.children,i=e.className,o=e.content,p=e.description,v=e.disabled,y=e.header,g=e.icon,O=e.image,w=e.value,E=Object(h.a)(t,this.props),I=Object(u.a)(Object(l.a)(n,"active"),Object(l.a)(v,"disabled"),Object(l.a)("li"!==E,"item"),i),T=Object(f.a)(t,this.props),S="li"===E?{value:w}:{"data-value":w};if(!d.a.isNil(a))return c.a.createElement(E,Object(r.a)({},S,{role:"listitem",className:I,onClick:this.handleClick},T),a);var C=j.create(g,{autoGenerateKey:!1}),N=x.a.create(O,{autoGenerateKey:!1});if(!Object(s.isValidElement)(o)&&Object(_.a)(o))return c.a.createElement(E,Object(r.a)({},S,{role:"listitem",className:I,onClick:this.handleClick},T),C||N,k.create(o,{autoGenerateKey:!1,defaultProps:{header:y,description:p}}));var A=b.create(y,{autoGenerateKey:!1}),R=m.create(p,{autoGenerateKey:!1});return C||N?c.a.createElement(E,Object(r.a)({},S,{role:"listitem",className:I,onClick:this.handleClick},T),C||N,(o||A||R)&&c.a.createElement(k,null,A,R,o)):c.a.createElement(E,Object(r.a)({},S,{role:"listitem",className:I,onClick:this.handleClick},T),A,R,o)},t}(s.Component);E.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],E.propTypes={},E.create=Object(p.f)(E,function(e){return{content:e}});var I=E;function T(e){var t=e.children,n=e.className,a=e.content,i=Object(f.a)(T,e),o=Object(h.a)(T,e),s=Object(u.a)(Object(l.a)("ul"!==o&&"ol"!==o,"list"),n);return c.a.createElement(o,Object(r.a)({},i,{className:s}),d.a.isNil(t)?a:t)}T.handledProps=["as","children","className","content"],T.propTypes={};var S=T,C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){Object(o.a)(e,"onClick",n,r),Object(o.a)(t.props,"onItemClick",n,r)}}},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this,n=this.props,a=n.animated,o=n.bulleted,s=n.celled,p=n.children,v=n.className,m=n.content,y=n.divided,b=n.floated,g=n.horizontal,k=n.inverted,O=n.items,w=n.link,j=n.ordered,_=n.relaxed,x=n.selection,E=n.size,T=n.verticalAlign,S=Object(u.a)("ui",E,Object(l.a)(a,"animated"),Object(l.a)(o,"bulleted"),Object(l.a)(s,"celled"),Object(l.a)(y,"divided"),Object(l.a)(g,"horizontal"),Object(l.a)(k,"inverted"),Object(l.a)(w,"link"),Object(l.a)(j,"ordered"),Object(l.a)(x,"selection"),Object(l.b)(_,"relaxed"),Object(l.e)(b,"floated"),Object(l.f)(T),"list",v),C=Object(f.a)(t,this.props),N=Object(h.a)(t,this.props);return d.a.isNil(p)?d.a.isNil(m)?c.a.createElement(N,Object(r.a)({role:"list",className:S},C),Object(i.a)(O,function(t){return I.create(t,{overrideProps:e.handleItemOverrides})})):c.a.createElement(N,Object(r.a)({role:"list",className:S},C),m):c.a.createElement(N,Object(r.a)({role:"list",className:S},C),p)},t}(s.Component);C.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],C.propTypes={},C.Content=k,C.Description=m,C.Header=b,C.Icon=j,C.Item=I,C.List=S;t.a=C},function(e,t,n){"use strict";var r=n(5),a=n(19),i=n(20),o=n(7),u=n(0),s=n.n(u),c=n(21),l=n(103),f=n(102),h=n(8),d=n(136),p=n(119);function v(e){var t=e.children,n=e.className,a=e.content,i=Object(o.a)("content",n),u=Object(l.a)(v,e),c=Object(f.a)(v,e);return s.a.createElement(c,Object(r.a)({},u,{className:i}),h.a.isNil(t)?a:t)}v.handledProps=["as","children","className","content"],v.propTypes={};var m=v;function y(e){var t=e.children,n=e.className,a=e.content,i=Object(o.a)("header",n),u=Object(l.a)(y,e),c=Object(f.a)(y,e);return s.a.createElement(c,Object(r.a)({},u,{className:i}),h.a.isNil(t)?a:t)}y.handledProps=["as","children","className","content"],y.propTypes={},y.create=Object(d.f)(y,function(e){return{content:e}});var b=y,g=n(29);function k(e){var t=e.children,n=e.className,a=e.content,i=Object(o.a)("content",n),u=Object(l.a)(k,e),c=Object(f.a)(k,e);return s.a.createElement(c,Object(r.a)({},u,{className:i}),h.a.isNil(t)?a:t)}k.handledProps=["as","children","className","content"],k.propTypes={},k.defaultProps={as:"li"},k.create=Object(d.f)(k,function(e){return{content:e}});var O=k;function w(e){var t=e.children,n=e.className,a=e.items,i=Object(o.a)("list",n),u=Object(l.a)(w,e),c=Object(f.a)(w,e);return s.a.createElement(c,Object(r.a)({},u,{className:i}),h.a.isNil(t)?Object(g.a)(a,O.create):t)}w.handledProps=["as","children","className","items"],w.propTypes={},w.defaultProps={as:"ul"},w.create=Object(d.f)(w,function(e){return{items:e}});var j=w;n.d(t,"a",function(){return _});var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,n=e.attached,a=e.children,u=e.className,v=e.color,y=e.compact,g=e.content,k=e.error,O=e.floating,w=e.header,_=e.hidden,x=e.icon,E=e.info,I=e.list,T=e.negative,S=e.onDismiss,C=e.positive,N=e.size,A=e.success,R=e.visible,P=e.warning,D=Object(o.a)("ui",v,N,Object(c.a)(y,"compact"),Object(c.a)(k,"error"),Object(c.a)(O,"floating"),Object(c.a)(_,"hidden"),Object(c.a)(x,"icon"),Object(c.a)(E,"info"),Object(c.a)(T,"negative"),Object(c.a)(C,"positive"),Object(c.a)(A,"success"),Object(c.a)(R,"visible"),Object(c.a)(P,"warning"),Object(c.b)(n,"attached"),"message",u),L=S&&s.a.createElement(p.a,{name:"close",onClick:this.handleDismiss}),M=Object(l.a)(t,this.props),F=Object(f.a)(t,this.props);return h.a.isNil(a)?s.a.createElement(F,Object(r.a)({},M,{className:D}),L,p.a.create(x,{autoGenerateKey:!1}),(!Object(i.a)(w)||!Object(i.a)(g)||!Object(i.a)(I))&&s.a.createElement(m,null,b.create(w,{autoGenerateKey:!1}),j.create(I,{autoGenerateKey:!1}),Object(d.d)(g,{autoGenerateKey:!1}))):s.a.createElement(F,Object(r.a)({},M,{className:D}),L,a)},t}(u.Component);_.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],_.propTypes={},_.Content=m,_.Header=b,_.List=j,_.Item=O},function(e,t,n){"use strict";var r=n(5),a=n(19),i=n(16),o=n(20),u=n(213),s=n(7),c=n(0),l=n.n(c),f=n(8),h=n(21),d=n(103),p=n(102),v=n(136),m=n(119),y=n(137);function b(e){var t=e.children,n=e.className,a=e.content,i=e.hidden,o=e.visible,u=Object(s.a)(Object(h.a)(o,"visible"),Object(h.a)(i,"hidden"),"content",n),c=Object(d.a)(b,e),v=Object(p.a)(b,e);return l.a.createElement(v,Object(r.a)({},c,{className:u}),f.a.isNil(t)?a:t)}b.handledProps=["as","children","className","content","hidden","visible"],b.propTypes={};var g=b,k=n(29);function O(e){var t=e.attached,n=e.basic,a=e.buttons,i=e.children,u=e.className,c=e.color,v=e.compact,m=e.content,y=e.floated,b=e.fluid,g=e.icon,w=e.inverted,j=e.labeled,_=e.negative,x=e.positive,I=e.primary,T=e.secondary,S=e.size,C=e.toggle,N=e.vertical,A=e.widths,R=Object(s.a)("ui",c,S,Object(h.a)(n,"basic"),Object(h.a)(v,"compact"),Object(h.a)(b,"fluid"),Object(h.a)(g,"icon"),Object(h.a)(w,"inverted"),Object(h.a)(j,"labeled"),Object(h.a)(_,"negative"),Object(h.a)(x,"positive"),Object(h.a)(I,"primary"),Object(h.a)(T,"secondary"),Object(h.a)(C,"toggle"),Object(h.a)(N,"vertical"),Object(h.b)(t,"attached"),Object(h.e)(y,"floated"),Object(h.g)(A),"buttons",u),P=Object(d.a)(O,e),D=Object(p.a)(O,e);return Object(o.a)(a)?l.a.createElement(D,Object(r.a)({},P,{className:R}),f.a.isNil(i)?m:i):l.a.createElement(D,Object(r.a)({},P,{className:R}),Object(k.a)(a,function(e){return E.create(e)}))}O.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],O.propTypes={};var w=O;function j(e){var t=e.className,n=e.text,a=Object(s.a)("or",t),i=Object(d.a)(j,e),o=Object(p.a)(j,e);return l.a.createElement(o,Object(r.a)({},i,{className:a,"data-text":n}))}j.handledProps=["as","className","text"],j.propTypes={};var _=j,x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).ref=Object(c.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!Object(o.a)(n)||!Object(o.a)(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,a=n.tabIndex;return Object(o.a)(a)?r?-1:"div"===e?0:void 0:a},t.focus=function(e){return Object(i.a)(t.ref.current,"focus",e)},t.handleClick=function(e){t.props.disabled?e.preventDefault():Object(i.a)(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,a=e.content,i=e.icon;return!0===i||i&&(n||f.a.isNil(r)&&Object(o.a)(a))},t}Object(a.a)(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return Object(o.a)(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,a=e.animated,i=e.attached,c=e.basic,v=e.children,b=e.circular,g=e.className,k=e.color,O=e.compact,w=e.content,j=e.disabled,_=e.floated,x=e.fluid,E=e.icon,I=e.inverted,T=e.label,S=e.labelPosition,C=e.loading,N=e.negative,A=e.positive,R=e.primary,P=e.secondary,D=e.size,L=e.toggle,M=e.type,F=Object(s.a)(k,D,Object(h.a)(n,"active"),Object(h.a)(c,"basic"),Object(h.a)(b,"circular"),Object(h.a)(O,"compact"),Object(h.a)(x,"fluid"),Object(h.a)(this.hasIconClass(),"icon"),Object(h.a)(I,"inverted"),Object(h.a)(C,"loading"),Object(h.a)(N,"negative"),Object(h.a)(A,"positive"),Object(h.a)(R,"primary"),Object(h.a)(P,"secondary"),Object(h.a)(L,"toggle"),Object(h.b)(a,"animated"),Object(h.b)(i,"attached")),U=Object(s.a)(Object(h.b)(S||!!T,"labeled")),V=Object(s.a)(Object(h.a)(j,"disabled"),Object(h.e)(_,"floated")),z=Object(d.a)(t,this.props),B=Object(p.a)(t,this.props,this.computeElementType),q=this.computeTabIndex(B);if(!Object(o.a)(T)){var G=Object(s.a)("ui",F,"button",g),K=Object(s.a)("ui",U,"button",g,V),H=y.a.create(T,{defaultProps:{basic:!0,pointing:"left"===S?"right":"left"},autoGenerateKey:!1});return l.a.createElement(B,Object(r.a)({},z,{className:K,onClick:this.handleClick}),"left"===S&&H,l.a.createElement(u.a,{innerRef:this.ref},l.a.createElement("button",{className:G,"aria-pressed":L?!!n:void 0,disabled:j,type:M,tabIndex:q},m.a.create(E,{autoGenerateKey:!1})," ",w)),("right"===S||!S)&&H)}var W=Object(s.a)("ui",F,V,U,"button",g),Q=!f.a.isNil(v),Y=this.computeButtonAriaRole(B);return l.a.createElement(u.a,{innerRef:this.ref},l.a.createElement(B,Object(r.a)({},z,{className:W,"aria-pressed":L?!!n:void 0,disabled:j&&"button"===B||void 0,onClick:this.handleClick,role:Y,type:M,tabIndex:q}),Q&&v,!Q&&m.a.create(E,{autoGenerateKey:!1}),!Q&&w))},t}(c.Component);x.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],x.propTypes={},x.defaultProps={as:"button"},x.Content=g,x.Group=w,x.Or=_,x.create=Object(v.f)(x,function(e){return{content:e}});var E=t.a=x},function(e,t,n){"use strict";var r=n(53),a=n(0),i=n(158),o=n(19),u=n(65),s=n(134);var c=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=u.findDOMNode(this);this.prevNode=e,Object(s.a)(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=u.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,Object(s.a)(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&Object(s.a)(this.props.innerRef,t)},n.componentWillUnmount=function(){Object(s.a)(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(a.Component),l=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,a=n.innerRef;Object(s.a)(r.ref,e),Object(s.a)(a,e),t.currentNode=e},t}Object(o.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&Object(s.a)(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return a.cloneElement(e,{ref:this.handleRefOverride})},t}(a.Component);n.d(t,"a",function(){return h});var f=["children","innerRef"],h=function(e){var t=e.children,n=e.innerRef,o=Object(r.a)(e,f),u=a.Children.only(t),s=i.isForwardRef(u)?l:c,h=u&&o&&Object.keys(o).length>0?a.cloneElement(u,o):u;return a.createElement(s,{innerRef:n},h)}},function(e,t,n){"use strict";var r=n(5),a=n(7),i=n(0),o=n.n(i),u=n(21),s=n(103),c=n(102),l=n(8),f=n(119),h=n(191),d=n(136);function p(e){var t=e.children,n=e.className,i=e.content,u=Object(a.a)("sub header",n),f=Object(s.a)(p,e),h=Object(c.a)(p,e);return o.a.createElement(h,Object(r.a)({},f,{className:u}),l.a.isNil(t)?i:t)}p.handledProps=["as","children","className","content"],p.propTypes={},p.create=Object(d.f)(p,function(e){return{content:e}});var v=p;function m(e){var t=e.children,n=e.className,i=e.content,u=Object(a.a)("content",n),f=Object(s.a)(m,e),h=Object(c.a)(m,e);return o.a.createElement(h,Object(r.a)({},f,{className:u}),l.a.isNil(t)?i:t)}m.handledProps=["as","children","className","content"],m.propTypes={};var y=m;function b(e){var t=e.attached,n=e.block,i=e.children,d=e.className,p=e.color,m=e.content,g=e.disabled,k=e.dividing,O=e.floated,w=e.icon,j=e.image,_=e.inverted,x=e.size,E=e.sub,I=e.subheader,T=e.textAlign,S=Object(a.a)("ui",p,x,Object(u.a)(n,"block"),Object(u.a)(g,"disabled"),Object(u.a)(k,"dividing"),Object(u.e)(O,"floated"),Object(u.a)(!0===w,"icon"),Object(u.a)(!0===j,"image"),Object(u.a)(_,"inverted"),Object(u.a)(E,"sub"),Object(u.b)(t,"attached"),Object(u.d)(T),"header",d),C=Object(s.a)(b,e),N=Object(c.a)(b,e);if(!l.a.isNil(i))return o.a.createElement(N,Object(r.a)({},C,{className:S}),i);var A=f.a.create(w,{autoGenerateKey:!1}),R=h.a.create(j,{autoGenerateKey:!1}),P=v.create(I,{autoGenerateKey:!1});return A||R?o.a.createElement(N,Object(r.a)({},C,{className:S}),A||R,(m||P)&&o.a.createElement(y,null,m,P)):o.a.createElement(N,Object(r.a)({},C,{className:S}),m,P)}b.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],b.propTypes={},b.Content=y,b.Subheader=v;t.a=b},function(e,t,n){"use strict";var r=n(53),a=n(5),i=n(19),o=n(29),u=n(30),s=n(16),c=n(0),l=n.n(c),f=n(103),h=n(102),d=n(144),p=n(194),v=n(124),m=n(189),y=n(7),b=n(21),g=n(8),k=n(136),O=n(193);function w(e){var t=e.active,n=e.children,r=e.className,i=e.content,o=e.loading,u=Object(y.a)(Object(b.a)(t,"active"),Object(b.a)(o,"loading"),"tab",r),s=Object(f.a)(w,e),c=Object(h.a)(w,e),d={};return c===O.a&&(d.attached="bottom"),l.a.createElement(c,Object(a.a)({},d,s,{className:u}),g.a.isNil(n)?i:n)}w.handledProps=["active","as","children","className","content","loading"],w.defaultProps={as:O.a,active:!0},w.propTypes={},w.create=Object(k.f)(w,function(e){return{content:e}});var j=w,_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemClick=function(e,n){var r=n.index;Object(s.a)(t.props,"onTabChange",e,Object(a.a)({},t.props,{activeIndex:r})),t.setState({activeIndex:r})},t}Object(i.a)(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{activeIndex:0}},n.renderItems=function(){var e=this.props,t=e.panes,n=e.renderActiveOnly,r=this.state.activeIndex;return n?Object(s.a)(Object(u.a)(t,"["+r+"]"),"render",this.props):Object(o.a)(t,function(e,t){var n=e.pane;return j.create(n,{overrideProps:{active:t===r}})})},n.renderMenu=function(){var e=this.props,t=e.menu,n=e.panes,r=e.menuPosition,a=this.state.activeIndex;return!0===t.tabular&&"right"===r&&(t.tabular="right"),m.a.create(t,{autoGenerateKey:!1,overrideProps:{items:Object(o.a)(n,"menuItem"),onItemClick:this.handleItemClick,activeIndex:a}})},n.renderVertical=function(e){var t=this.props,n=t.grid,a=t.menuPosition,i=n.paneWidth,o=n.tabWidth,u=Object(r.a)(n,["paneWidth","tabWidth"]),s=a||"right"===e.props.tabular&&"right"||"left";return l.a.createElement(p.a,u,"left"===s&&v.a.create({width:o,children:e},{autoGenerateKey:!1}),v.a.create({width:i,children:this.renderItems(),stretched:!0},{autoGenerateKey:!1}),"right"===s&&v.a.create({width:o,children:e},{autoGenerateKey:!1}))},n.render=function(){var e=this.renderMenu(),n=Object(f.a)(t,this.props),r=Object(h.a)(t,this.props);return e.props.vertical?l.a.createElement(r,n,this.renderVertical(e)):l.a.createElement(r,n,"bottom"!==e.props.attached&&e,this.renderItems(),"bottom"===e.props.attached&&e)},t}(d.a);_.handledProps=["activeIndex","as","defaultActiveIndex","grid","menu","menuPosition","onTabChange","panes","renderActiveOnly"],_.propTypes={},_.autoControlledProps=["activeIndex"],_.defaultProps={grid:{paneWidth:12,tabWidth:4},menu:{attached:!0,tabular:!0},renderActiveOnly:!0},_.Pane=j;t.a=_}]]);
//# sourceMappingURL=1.db169e41.chunk.js.map